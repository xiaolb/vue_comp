!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("custom-ui.js",[],t):"object"==typeof exports?exports["custom-ui.js"]=t():e["custom-ui.js"]=t()}(window,function(){return d=[function(e,t){e.exports=function(n){var a=[];return a.toString=function(){return this.map(function(e){var t=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(i),o=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[n].concat(o).concat([r]).join("\n")}return[n].join("\n")}(e,n);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},a.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(n[r]=!0)}for(i=0;i<e.length;i++){var o=e[i];"number"==typeof o[0]&&n[o[0]]||(t&&!o[2]?o[2]=t:t&&(o[2]="("+o[2]+") and ("+t+")"),a.push(o))}},a}},function(e,t,n){"use strict";function l(e,t){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],a=o[0],s={id:e+":"+r,css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}n.r(t),n.d(t,"default",function(){return h});var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var d={},r=i&&(document.head||document.getElementsByTagName("head")[0]),o=null,a=0,c=!1,s=function(){},u=null,f="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(a,e,t,n){c=t,u=n||{};var s=l(a,e);return p(s),function(e){for(var t=[],n=0;n<s.length;n++){var i=s[n];(r=d[i.id]).refs--,t.push(r)}e?p(s=l(a,e)):s=[];for(n=0;n<t.length;n++){var r;if(0===(r=t[n]).refs){for(var o=0;o<r.parts.length;o++)r.parts[o]();delete d[r.id]}}}}function p(e){for(var t=0;t<e.length;t++){var n=e[t],i=d[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(v(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var o=[];for(r=0;r<n.parts.length;r++)o.push(v(n.parts[r]));d[n.id]={id:n.id,refs:1,parts:o}}}}function g(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function v(t){var n,i,e=document.querySelector("style["+f+'~="'+t.id+'"]');if(e){if(c)return s;e.parentNode.removeChild(e)}if(m){var r=a++;e=o=o||g(),n=x.bind(null,e,r,!1),i=x.bind(null,e,r,!0)}else e=g(),n=function(e,t){var n=t.css,i=t.media,r=t.sourceMap;i&&e.setAttribute("media",i);u.ssrId&&e.setAttribute(f,t.id);r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,e),i=function(){e.parentNode.removeChild(e)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}var b,y=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function x(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=y(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t){var n,i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||40<e)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return i[e]},t.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return void 0!==n},t.toSJIS=function(e){return n(e)}},function(e,n,t){var i=t(8),r=t(9);n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!i.isValid(t))throw new Error("Invalid version: "+t);return 1<=t&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},n.getBestModeForData=function(e){return r.testNumeric(e)?n.NUMERIC:r.testAlphanumeric(e)?n.ALPHANUMERIC:r.testKanji(e)?n.KANJI:n.BYTE},n.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},n.isValid=function(e){return e&&e.bit&&e.ccBits},n.from=function(e,t){if(n.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return t}}},function(e,t,n){"use strict";var a=n(5);var i=(s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())?2147483647:1073741823;function s(e,t,n){return s.TYPED_ARRAY_SUPPORT||this instanceof s?"number"==typeof e?d(this,e):function(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer)return function(e,t,n,i){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");var r;r=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);s.TYPED_ARRAY_SUPPORT?r.__proto__=s.prototype:r=c(e,r);return r}(e,t,n,i);return"string"!=typeof t?function(e,t){if(s.isBuffer(t)){var n=0|o(t.length),i=l(e,n);return 0===i.length||t.copy(i,0,0,n),i}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?l(e,0):c(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return c(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t):function(e,t){var n=0|u(t),i=l(e,n),r=i.write(t);r!==n&&(i=i.slice(0,r));return i}(e,t)}(this,e,t,n):new s(e,t,n)}function o(e){if(i<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function l(e,t){var n;return s.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t)).__proto__=s.prototype:(null===(n=e)&&(n=new s(t)),n.length=t),n}function d(e,t){var n=l(e,t<0?0:0|o(t));if(!s.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)n[i]=0;return n}function c(e,t){for(var n=t.length<0?0:0|o(t.length),i=l(e,n),r=0;r<n;r+=1)i[r]=255&t[r];return i}function r(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!r){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===i){-1<(t-=3)&&o.push(239,191,189);continue}r=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&-1<(t-=3)&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function u(e){return s.isBuffer(e)?e.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)?e.byteLength:("string"!=typeof e&&(e=""+e),0===e.length?0:r(e).length)}s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),s.prototype.write=function(e,t,n){void 0===t?(n=this.length,t=0):void 0===n&&"string"==typeof t?(n=this.length,t=0):isFinite(t)&&(t|=0,isFinite(n)?n|=0:n=void 0);var i=this.length-t;if((void 0===n||i<n)&&(n=i),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(e,t,n,i){return function(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}(r(t,e.length-n),e,n,i)}(this,e,t,n)},s.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):i<e&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):i<t&&(t=i),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=s.prototype;else{var r=t-e;n=new s(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},s.prototype.copy=function(e,t,n,i){if(n=n||0,i||0===i||(i=this.length),t>=e.length&&(t=e.length),t=t||0,0<i&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;0<=r;--r)e[r+t]=this[r+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},s.prototype.fill=function(e,t,n){if("string"==typeof e){if("string"==typeof t?(t=0,n=this.length):"string"==typeof n&&(n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var r;if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(r=t;r<n;++r)this[r]=e;else{var o=s.isBuffer(e)?e:new s(e),a=o.length;for(r=0;r<n-t;++r)this[r+t]=o[r%a]}return this},s.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l(null,0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;var i=d(null,t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r),r+=o.length}return i},s.byteLength=u,s.prototype._isBuffer=!0,s.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.exports=s},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2},n.isValid=function(e){return e&&void 0!==e.bit&&0<=e.bit&&e.bit<4},n.from=function(e,t){if(n.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return t}}},function(e,t,n){var i=n(6),r=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case i.L:return r[4*(e-1)+0];case i.M:return r[4*(e-1)+1];case i.Q:return r[4*(e-1)+2];case i.H:return r[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case i.L:return o[4*(e-1)+0];case i.M:return o[4*(e-1)+1];case i.Q:return o[4*(e-1)+2];case i.H:return o[4*(e-1)+3];default:return}}},function(e,t){t.isValid=function(e){return!isNaN(e)&&1<=e&&e<=40}},function(e,t){var n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",i="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";t.KANJI=new RegExp(n,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(i,"g"),t.NUMERIC=new RegExp("[0-9]+","g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var r=new RegExp("^"+n+"$"),o=new RegExp("^[0-9]+$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return r.test(e)},t.testNumeric=function(e){return o.test(e)},t.testAlphanumeric=function(e){return a.test(e)}},function(e,m){function r(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||8<t.length)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");var n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}m.getOptions=function(e){(e=e||{}).color||(e.color={});var t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&21<=e.width?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:t,color:{dark:r(e.color.dark||"#000000ff"),light:r(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},m.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},m.getImageWidth=function(e,t){var n=m.getScale(e,t);return Math.floor((e+2*t.margin)*n)},m.qrToImageData=function(e,t,n){for(var i=t.modules.size,r=t.modules.data,o=m.getScale(i,n),a=Math.floor((i+2*n.margin)*o),s=n.margin*o,l=[n.color.light,n.color.dark],d=0;d<a;d++)for(var c=0;c<a;c++){var u=4*(d*a+c),f=n.color.light;if(s<=d&&s<=c&&d<a-s&&c<a-s)f=l[r[Math.floor((d-s)/o)*i+Math.floor((c-s)/o)]?1:0];e[u++]=f.r,e[u++]=f.g,e[u++]=f.b,e[u]=f.a}}},function(e,t,n){function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var i,o;e.exports=(o={},r.m=i={"02f4":function(e,t,n){var l=n("4588"),d=n("be13");e.exports=function(s){return function(e,t){var n,i,r=String(d(e)),o=l(t),a=r.length;return o<0||a<=o?s?"":void 0:(n=r.charCodeAt(o))<55296||56319<n||o+1===a||(i=r.charCodeAt(o+1))<56320||57343<i?s?r.charAt(o):n:s?r.slice(o,o+2):i-56320+(n-55296<<10)+65536}}},"0390":function(e,t,n){"use strict";var i=n("02f4")(!0);e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},"07e3":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"0bfb":function(e,t,n){"use strict";var i=n("cb7c");e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"0fc9":function(e,t,n){var i=n("3a38"),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=i(e))<0?r(e+t,0):o(e,t)}},1654:function(e,t,n){"use strict";var i=n("71c1")(!0);n("30f1")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},1691:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"1af6":function(e,t,n){var i=n("63b6");i(i.S,"Array",{isArray:n("9003")})},"1bc3":function(e,t,n){var r=n("f772");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},"1ec9":function(e,t,n){var i=n("f772"),r=n("e53d").document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},"20fd":function(e,t,n){"use strict";var i=n("d9f6"),r=n("aebd");e.exports=function(e,t,n){t in e?i.f(e,t,r(0,n)):e[t]=n}},"214f":function(e,t,n){"use strict";n("b0c5");var c=n("2aba"),u=n("32e9"),f=n("79e5"),m=n("be13"),h=n("2b4c"),p=n("520a"),g=h("species"),v=!f(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),b=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(n,e,t){var i=h(n),o=!f(function(){var e={};return e[i]=function(){return 7},7!=""[n](e)}),r=o?!f(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},"split"===n&&(t.constructor={},t.constructor[g]=function(){return t}),t[i](""),!e}):void 0;if(!o||!r||"replace"===n&&!v||"split"===n&&!b){var a=/./[i],s=t(m,i,""[n],function(e,t,n,i,r){return t.exec===p?o&&!r?{done:!0,value:a.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}}),l=s[0],d=s[1];c(String.prototype,n,l),u(RegExp.prototype,i,2==e?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)})}}},"230e":function(e,t,n){var i=n("d3f4"),r=n("7726").document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},"23c6":function(e,t,n){var r=n("2d95"),o=n("2b4c")("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},"241e":function(e,t,n){var i=n("25eb");e.exports=function(e){return Object(i(e))}},"25eb":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},"294c":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"2aba":function(e,t,n){var o=n("7726"),a=n("32e9"),s=n("69a8"),l=n("ca5a")("src"),i=n("fa5b"),r="toString",d=(""+i).split(r);n("8378").inspectSource=function(e){return i.call(e)},(e.exports=function(e,t,n,i){var r="function"==typeof n;r&&(s(n,"name")||a(n,"name",t)),e[t]!==n&&(r&&(s(n,l)||a(n,l,e[t]?""+e[t]:d.join(String(t)))),e===o?e[t]=n:i?e[t]?e[t]=n:a(e,t,n):(delete e[t],a(e,t,n)))})(Function.prototype,r,function(){return"function"==typeof this&&this[l]||i.call(this)})},"2b4c":function(e,t,n){var i=n("5537")("wks"),r=n("ca5a"),o=n("7726").Symbol,a="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=a&&o[e]||(a?o:r)("Symbol."+e))}).store=i},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"2fdb":function(e,t,n){"use strict";var i=n("5ca1"),r=n("d2c8"),o="includes";i(i.P+i.F*n("5147")(o),"String",{includes:function(e,t){return!!~r(this,e,o).indexOf(e,1<arguments.length?t:void 0)}})},"30f1":function(e,t,n){"use strict";function y(){return this}var x=n("b8e3"),w=n("63b6"),C=n("9138"),_=n("35e8"),N=n("481b"),E=n("8f60"),S=n("45f2"),T=n("53e2"),U=n("5168")("iterator"),k=!([].keys&&"next"in[].keys()),B="values";e.exports=function(e,t,n,i,r,o,a){E(n,t,i);function s(e){if(!k&&e in h)return h[e];switch(e){case"keys":case B:return function(){return new n(this,e)}}return function(){return new n(this,e)}}var l,d,c,u=t+" Iterator",f=r==B,m=!1,h=e.prototype,p=h[U]||h["@@iterator"]||r&&h[r],g=p||s(r),v=r?f?s("entries"):g:void 0,b="Array"==t&&h.entries||p;if(b&&(c=T(b.call(new e)))!==Object.prototype&&c.next&&(S(c,u,!0),x||"function"==typeof c[U]||_(c,U,y)),f&&p&&p.name!==B&&(m=!0,g=function(){return p.call(this)}),x&&!a||!k&&!m&&h[U]||_(h,U,g),N[t]=g,N[u]=y,r)if(l={values:f?g:s(B),keys:o?g:s("keys"),entries:v},a)for(d in l)d in h||C(h,d,l[d]);else w(w.P+w.F*(k||m),t,l);return l}},"32a6":function(e,t,n){var i=n("241e"),r=n("c3a1");n("ce7e")("keys",function(){return function(e){return r(i(e))}})},"32e9":function(e,t,n){var i=n("86cc"),r=n("4630");e.exports=n("9e1e")?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},"32fc":function(e,t,n){var i=n("e53d").document;e.exports=i&&i.documentElement},"335c":function(e,t,n){var i=n("6b4c");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},"355d":function(e,t){t.f={}.propertyIsEnumerable},"35e8":function(e,t,n){var i=n("d9f6"),r=n("aebd");e.exports=n("8e60")?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},"36c3":function(e,t,n){var i=n("335c"),r=n("25eb");e.exports=function(e){return i(r(e))}},3702:function(e,t,n){var i=n("481b"),r=n("5168")("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},"3a38":function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?i:n)(e)}},"40c3":function(e,t,n){var r=n("6b4c"),o=n("5168")("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},4588:function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?i:n)(e)}},"45f2":function(e,t,n){var i=n("d9f6").f,r=n("07e3"),o=n("5168")("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"469f":function(e,t,n){n("6c1c"),n("1654"),e.exports=n("7d7b")},"481b":function(e,t){e.exports={}},"4aa6":function(e,t,n){e.exports=n("dc62")},"4bf8":function(e,t,n){var i=n("be13");e.exports=function(e){return Object(i(e))}},"4ee1":function(e,t,n){var o=n("5168")("iterator"),a=!1;try{var i=[7][o]();i.return=function(){a=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var i=[7],r=i[o]();r.next=function(){return{done:n=!0}},i[o]=function(){return r},e(i)}catch(e){}return n}},"50ed":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},5147:function(e,t,n){var i=n("2b4c")("match");e.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[i]=!1,!"/./"[t](n)}catch(e){}}return!0}},5168:function(e,t,n){var i=n("dbdb")("wks"),r=n("62a0"),o=n("e53d").Symbol,a="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=a&&o[e]||(a?o:r)("Symbol."+e))}).store=i},5176:function(e,t,n){e.exports=n("51b6")},"51b6":function(e,t,n){n("a3c3"),e.exports=n("584a").Object.assign},"520a":function(e,t,n){"use strict";var i,r,a=n("0bfb"),s=RegExp.prototype.exec,l=String.prototype.replace,o=s,d="lastIndex",c=(i=/a/,r=/b*/g,s.call(i,"a"),s.call(r,"a"),0!==i[d]||0!==r[d]),u=void 0!==/()??/.exec("")[1];(c||u)&&(o=function(e){var t,n,i,r,o=this;return u&&(n=new RegExp("^"+o.source+"$(?!\\s)",a.call(o))),c&&(t=o[d]),i=s.call(o,e),c&&i&&(o[d]=o.global?i.index+i[0].length:t),u&&i&&1<i.length&&l.call(i[0],n,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)}),i}),e.exports=o},"53e2":function(e,t,n){var i=n("07e3"),r=n("241e"),o=n("5559")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},"549b":function(e,t,n){"use strict";var h=n("d864"),i=n("63b6"),p=n("241e"),g=n("b0dc"),v=n("3702"),b=n("b447"),y=n("20fd"),x=n("7cd6");i(i.S+i.F*!n("4ee1")(function(e){Array.from(e)}),"Array",{from:function(e,t,n){var i,r,o,a,s=p(e),l="function"==typeof this?this:Array,d=arguments.length,c=1<d?t:void 0,u=void 0!==c,f=0,m=x(s);if(u&&(c=h(c,2<d?n:void 0,2)),null==m||l==Array&&v(m))for(r=new l(i=b(s.length));f<i;f++)y(r,f,u?c(s[f],f):s[f]);else for(a=m.call(s),r=new l;!(o=a.next()).done;f++)y(r,f,u?g(a,c,[o.value,f],!0):o.value);return r.length=f,r}})},"54a1":function(e,t,n){n("6c1c"),n("1654"),e.exports=n("95d5")},5537:function(e,t,n){var i=n("8378"),r=n("7726"),o="__core-js_shared__",a=r[o]||(r[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},5559:function(e,t,n){var i=n("dbdb")("keys"),r=n("62a0");e.exports=function(e){return i[e]||(i[e]=r(e))}},"584a":function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},"5b4e":function(e,t,n){var l=n("36c3"),d=n("b447"),c=n("0fc9");e.exports=function(s){return function(e,t,n){var i,r=l(e),o=d(r.length),a=c(n,o);if(s&&t!=t){for(;a<o;)if((i=r[a++])!=i)return!0}else for(;a<o;a++)if((s||a in r)&&r[a]===t)return s||a||0;return!s&&-1}}},"5ca1":function(e,t,n){var p=n("7726"),g=n("8378"),v=n("32e9"),b=n("2aba"),y=n("9b43"),x="prototype",w=function(e,t,n){var i,r,o,a,s=e&w.F,l=e&w.G,d=e&w.S,c=e&w.P,u=e&w.B,f=l?p:d?p[t]||(p[t]={}):(p[t]||{})[x],m=l?g:g[t]||(g[t]={}),h=m[x]||(m[x]={});for(i in l&&(n=t),n)o=((r=!s&&f&&void 0!==f[i])?f:n)[i],a=u&&r?y(o,p):c&&"function"==typeof o?y(Function.call,o):o,f&&b(f,i,o,e&w.U),m[i]!=o&&v(m,i,a),c&&h[i]!=o&&(h[i]=o)};p.core=g,w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,e.exports=w},"5d73":function(e,t,n){e.exports=n("469f")},"5f1b":function(e,t,n){"use strict";var r=n("23c6"),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},"626a":function(e,t,n){var i=n("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},"62a0":function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},"63b6":function(e,t,n){var p=n("e53d"),g=n("584a"),v=n("d864"),b=n("35e8"),y=n("07e3"),x="prototype",w=function(e,t,n){var i,r,o,a=e&w.F,s=e&w.G,l=e&w.S,d=e&w.P,c=e&w.B,u=e&w.W,f=s?g:g[t]||(g[t]={}),m=f[x],h=s?p:l?p[t]:(p[t]||{})[x];for(i in s&&(n=t),n)(r=!a&&h&&void 0!==h[i])&&y(f,i)||(o=r?h[i]:n[i],f[i]=s&&"function"!=typeof h[i]?n[i]:c&&r?v(o,p):u&&h[i]==o?function(i){function e(e,t,n){if(this instanceof i){switch(arguments.length){case 0:return new i;case 1:return new i(e);case 2:return new i(e,t)}return new i(e,t,n)}return i.apply(this,arguments)}return e[x]=i[x],e}(o):d&&"function"==typeof o?v(Function.call,o):o,d&&((f.virtual||(f.virtual={}))[i]=o,e&w.R&&m&&!m[i]&&b(m,i,o)))};w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,e.exports=w},6762:function(e,t,n){"use strict";var i=n("5ca1"),r=n("c366")(!0);i(i.P,"Array",{includes:function(e,t){return r(this,e,1<arguments.length?t:void 0)}}),n("9c6c")("includes")},6821:function(e,t,n){var i=n("626a"),r=n("be13");e.exports=function(e){return i(r(e))}},"69a8":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"6a99":function(e,t,n){var r=n("d3f4");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},"6b4c":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"6c1c":function(e,t,n){n("c367");for(var i=n("e53d"),r=n("35e8"),o=n("481b"),a=n("5168")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var d=s[l],c=i[d],u=c&&c.prototype;u&&!u[a]&&r(u,a,d),o[d]=o.Array}},"71c1":function(e,t,n){var l=n("3a38"),d=n("25eb");e.exports=function(s){return function(e,t){var n,i,r=String(d(e)),o=l(t),a=r.length;return o<0||a<=o?s?"":void 0:(n=r.charCodeAt(o))<55296||56319<n||o+1===a||(i=r.charCodeAt(o+1))<56320||57343<i?s?r.charAt(o):n:s?r.slice(o,o+2):i-56320+(n-55296<<10)+65536}}},7726:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"774e":function(e,t,n){e.exports=n("d2d5")},"77f1":function(e,t,n){var i=n("4588"),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=i(e))<0?r(e+t,0):o(e,t)}},"794b":function(e,t,n){e.exports=!n("8e60")&&!n("294c")(function(){return 7!=Object.defineProperty(n("1ec9")("div"),"a",{get:function(){return 7}}).a})},"79aa":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"7cd6":function(e,t,n){var i=n("40c3"),r=n("5168")("iterator"),o=n("481b");e.exports=n("584a").getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||o[i(e)]}},"7d7b":function(e,t,n){var i=n("e4ae"),r=n("7cd6");e.exports=n("584a").getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return i(t.call(e))}},"7e90":function(e,t,n){var a=n("d9f6"),s=n("e4ae"),l=n("c3a1");e.exports=n("8e60")?Object.defineProperties:function(e,t){s(e);for(var n,i=l(t),r=i.length,o=0;o<r;)a.f(e,n=i[o++],t[n]);return e}},8378:function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},8436:function(e,t){e.exports=function(){}},"86cc":function(e,t,n){var i=n("cb7c"),r=n("c69a"),o=n("6a99"),a=Object.defineProperty;t.f=n("9e1e")?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"8aae":function(e,t,n){n("32a6"),e.exports=n("584a").Object.keys},"8e60":function(e,t,n){e.exports=!n("294c")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"8f60":function(e,t,n){"use strict";var i=n("a159"),r=n("aebd"),o=n("45f2"),a={};n("35e8")(a,n("5168")("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(a,{next:r(1,n)}),o(e,t+" Iterator")}},9003:function(e,t,n){var i=n("6b4c");e.exports=Array.isArray||function(e){return"Array"==i(e)}},9138:function(e,t,n){e.exports=n("35e8")},9306:function(e,t,n){"use strict";var f=n("c3a1"),m=n("9aa9"),h=n("355d"),p=n("241e"),g=n("335c"),r=Object.assign;e.exports=!r||n("294c")(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=r({},e)[n]||Object.keys(r({},t)).join("")!=i})?function(e,t){for(var n=p(e),i=arguments.length,r=1,o=m.f,a=h.f;r<i;)for(var s,l=g(arguments[r++]),d=o?f(l).concat(o(l)):f(l),c=d.length,u=0;u<c;)a.call(l,s=d[u++])&&(n[s]=l[s]);return n}:r},9427:function(e,t,n){var i=n("63b6");i(i.S,"Object",{create:n("a159")})},"95d5":function(e,t,n){var i=n("40c3"),r=n("5168")("iterator"),o=n("481b");e.exports=n("584a").isIterable=function(e){var t=Object(e);return void 0!==t[r]||"@@iterator"in t||o.hasOwnProperty(i(t))}},"9aa9":function(e,t){t.f=Object.getOwnPropertySymbols},"9b43":function(e,t,n){var o=n("d8e8");e.exports=function(i,r,e){if(o(i),void 0===r)return i;switch(e){case 1:return function(e){return i.call(r,e)};case 2:return function(e,t){return i.call(r,e,t)};case 3:return function(e,t,n){return i.call(r,e,t,n)}}return function(){return i.apply(r,arguments)}}},"9c6c":function(e,t,n){var i=n("2b4c")("unscopables"),r=Array.prototype;null==r[i]&&n("32e9")(r,i,{}),e.exports=function(e){r[i][e]=!0}},"9def":function(e,t,n){var i=n("4588"),r=Math.min;e.exports=function(e){return 0<e?r(i(e),9007199254740991):0}},"9e1e":function(e,t,n){e.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},a159:function(e,t,i){function r(){}var o=i("e4ae"),a=i("7e90"),s=i("1691"),l=i("5559")("IE_PROTO"),d="prototype",c=function(){var e,t=i("1ec9")("iframe"),n=s.length;for(t.style.display="none",i("32fc").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c[d][s[n]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(r[d]=o(e),n=new r,r[d]=null,n[l]=e):n=c(),void 0===t?n:a(n,t)}},a352:function(e,t){e.exports=n(23)},a3c3:function(e,t,n){var i=n("63b6");i(i.S+i.F,"Object",{assign:n("9306")})},a481:function(e,t,n){"use strict";var N=n("cb7c"),i=n("4bf8"),E=n("9def"),S=n("4588"),T=n("0390"),U=n("5f1b"),k=Math.max,B=Math.min,f=Math.floor,m=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g;n("214f")("replace",2,function(r,o,w,C){return[function(e,t){var n=r(this),i=null==e?void 0:e[o];return void 0!==i?i.call(e,n,t):w.call(String(n),e,t)},function(e,t){var n=C(w,e,this,t);if(n.done)return n.value;var i=N(e),r=String(this),o="function"==typeof t;o||(t=String(t));var a=i.global;if(a){var s=i.unicode;i.lastIndex=0}for(var l=[];;){var d=U(i,r);if(null===d)break;if(l.push(d),!a)break;""===String(d[0])&&(i.lastIndex=T(r,E(i.lastIndex),s))}for(var c,u="",f=0,m=0;m<l.length;m++){d=l[m];for(var h=String(d[0]),p=k(B(S(d.index),r.length),0),g=[],v=1;v<d.length;v++)g.push(void 0===(c=d[v])?c:String(c));var b=d.groups;if(o){var y=[h].concat(g,p,r);void 0!==b&&y.push(b);var x=String(t.apply(void 0,y))}else x=_(h,r,p,g,b,t);f<=p&&(u+=r.slice(f,p)+x,f=p+h.length)}return u+r.slice(f)}];function _(o,a,s,l,d,e){var c=s+o.length,u=l.length,t=h;return void 0!==d&&(d=i(d),t=m),w.call(e,t,function(e,t){var n;switch(t.charAt(0)){case"$":return"$";case"&":return o;case"`":return a.slice(0,s);case"'":return a.slice(c);case"<":n=d[t.slice(1,-1)];break;default:var i=+t;if(0==i)return e;if(u<i){var r=f(i/10);return 0===r?e:r<=u?void 0===l[r-1]?t.charAt(1):l[r-1]+t.charAt(1):e}n=l[i-1]}return void 0===n?"":n})}})},a4bb:function(e,t,n){e.exports=n("8aae")},a745:function(e,t,n){e.exports=n("f410")},aae3:function(e,t,n){var i=n("d3f4"),r=n("2d95"),o=n("2b4c")("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},aebd:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},b0c5:function(e,t,n){"use strict";var i=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},b0dc:function(e,t,n){var o=n("e4ae");e.exports=function(t,e,n,i){try{return i?e(o(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&o(r.call(t)),e}}},b447:function(e,t,n){var i=n("3a38"),r=Math.min;e.exports=function(e){return 0<e?r(i(e),9007199254740991):0}},b8e3:function(e,t){e.exports=!0},be13:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},c366:function(e,t,n){var l=n("6821"),d=n("9def"),c=n("77f1");e.exports=function(s){return function(e,t,n){var i,r=l(e),o=d(r.length),a=c(n,o);if(s&&t!=t){for(;a<o;)if((i=r[a++])!=i)return!0}else for(;a<o;a++)if((s||a in r)&&r[a]===t)return s||a||0;return!s&&-1}}},c367:function(e,t,n){"use strict";var i=n("8436"),r=n("50ed"),o=n("481b"),a=n("36c3");e.exports=n("30f1")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},c3a1:function(e,t,n){var i=n("e6f3"),r=n("1691");e.exports=Object.keys||function(e){return i(e,r)}},c649:function(e,c,u){"use strict";(function(e){u.d(c,"c",function(){return d}),u.d(c,"a",function(){return s}),u.d(c,"b",function(){return i}),u.d(c,"d",function(){return l});u("a481");var t=u("4aa6"),n=u.n(t);var i="undefined"!=typeof window?window.console:e.console;var r,o,a=/-(\w)/g,s=(r=function(e){return e.replace(a,function(e,t){return t?t.toUpperCase():""})},o=n()(null),function(e){return o[e]||(o[e]=r(e))});function l(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function d(e,t,n){var i=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,i)}}).call(this,u("c8ba"))},c69a:function(e,t,n){e.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},c8bb:function(e,t,n){e.exports=n("54a1")},ca5a:function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},cb7c:function(e,t,n){var i=n("d3f4");e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},ce7e:function(e,t,n){var r=n("63b6"),o=n("584a"),a=n("294c");e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],i={};i[e]=t(n),r(r.S+r.F*a(function(){n(1)}),"Object",i)}},d2c8:function(e,t,n){var i=n("aae3"),r=n("be13");e.exports=function(e,t,n){if(i(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},d2d5:function(e,t,n){n("1654"),n("549b"),e.exports=n("584a").Array.from},d3f4:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},d864:function(e,t,n){var o=n("79aa");e.exports=function(i,r,e){if(o(i),void 0===r)return i;switch(e){case 1:return function(e){return i.call(r,e)};case 2:return function(e,t){return i.call(r,e,t)};case 3:return function(e,t,n){return i.call(r,e,t,n)}}return function(){return i.apply(r,arguments)}}},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},d9f6:function(e,t,n){var i=n("e4ae"),r=n("794b"),o=n("1bc3"),a=Object.defineProperty;t.f=n("8e60")?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},dbdb:function(e,t,n){var i=n("584a"),r=n("e53d"),o="__core-js_shared__",a=r[o]||(r[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n("b8e3")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},dc62:function(e,t,n){n("9427");var i=n("584a").Object;e.exports=function(e,t){return i.create(e,t)}},e4ae:function(e,t,n){var i=n("f772");e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},e53d:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},e6f3:function(e,t,n){var a=n("07e3"),s=n("36c3"),l=n("5b4e")(!1),d=n("5559")("IE_PROTO");e.exports=function(e,t){var n,i=s(e),r=0,o=[];for(n in i)n!=d&&a(i,n)&&o.push(n);for(;t.length>r;)a(i,n=t[r++])&&(~l(o,n)||o.push(n));return o}},f410:function(e,t,n){n("1af6"),e.exports=n("584a").Array.isArray},f559:function(e,t,n){"use strict";var i=n("5ca1"),o=n("9def"),a=n("d2c8"),s="startsWith",l=""[s];i(i.P+i.F*n("5147")(s),"String",{startsWith:function(e,t){var n=a(this,e,s),i=o(Math.min(1<arguments.length?t:void 0,n.length)),r=String(e);return l?l.call(n,r,i):n.slice(i,i+r.length)===r}})},f772:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},fa5b:function(e,t,n){e.exports=n("5537")("native-function-to-string",Function.toString)},fb15:function(e,t,n){"use strict";var i;n.r(t),"undefined"==typeof window||(i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=i[1]);var r=n("5176"),s=n.n(r),o=(n("f559"),n("a4bb")),l=n.n(o),a=n("a745"),d=n.n(a);var c=n("5d73"),u=n.n(c);function f(e,t){return function(e){if(d()(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=u()(e);!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n("6762"),n("2fdb");var m=n("774e"),h=n.n(m),p=n("c8bb"),g=n.n(p);function v(e){return function(e){if(d()(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(g()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return h()(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var b=n("a352"),y=n.n(b),x=n("c649");function w(e,t){var n=this;this.$nextTick(function(){return n.$emit(e.toLowerCase(),t)})}function C(e){return["transition-group","TransitionGroup"].includes(e)}function _(e,t,n){return e[n]||(t[n]?t[n]():void 0)}var N=["Start","Add","Remove","Update","End"],E=["Choose","Unchoose","Sort","Filter","Clone"],S=["Move"].concat(N,E).map(function(e){return"on"+e}),T=null,U={name:"draggable",inheritAttrs:!1,props:{options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(e){return e}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(e){var t=this.$slots.default;this.transitionMode=function(e){if(!e||1!==e.length)return!1;var t=f(e,1)[0].componentOptions;return!!t&&C(t.tag)}(t);var n=function(e,t,n){var i=0,r=0,o=_(t,n,"header");o&&(i=o.length,e=e?[].concat(v(o),v(e)):v(o));var a=_(t,n,"footer");return a&&(r=a.length,e=e?[].concat(v(e),v(a)):v(a)),{children:e,headerOffset:i,footerOffset:r}}(t,this.$slots,this.$scopedSlots),i=n.children,r=n.headerOffset,o=n.footerOffset;this.headerOffset=r,this.footerOffset=o;var a=function(n,e){function t(e,t){i=function(e,t,n){return void 0===n||((e=e||{})[t]=n),e}(i,e,t)}var i=null;if(t("attrs",l()(n).filter(function(e){return"id"===e||e.startsWith("data-")}).reduce(function(e,t){return e[t]=n[t],e},{})),!e)return i;var r=e.on,o=e.props,a=e.attrs;return t("on",r),t("props",o),s()(i.attrs,a),i}(this.$attrs,this.componentData);return e(this.getTag(),a,i)},created:function(){null!==this.list&&null!==this.value&&x.b.error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&x.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&x.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var n=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var t={};N.forEach(function(e){t["on"+e]=function(t){var n=this;return function(e){null!==n.realList&&n["onDrag"+t](e),w.call(n,t,e)}}.call(n,e)}),E.forEach(function(e){t["on"+e]=w.bind(n,e)});var e=l()(this.$attrs).reduce(function(e,t){return e[Object(x.a)(t)]=n.$attrs[t],e},{}),i=s()({},this.options,e,t,{onMove:function(e,t){return n.onDragMove(e,t)}});"draggable"in i||(i.draggable=">*"),this._sortable=new y.a(this.rootContainer,i),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(e){this.updateOptions(e)},deep:!0},$attrs:{handler:function(e){this.updateOptions(e)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var e=this._vnode.fnOptions;return e&&e.functional},getTag:function(){return this.tag||this.element},updateOptions:function(e){for(var t in e){var n=Object(x.a)(t);-1===S.indexOf(n)&&this._sortable.option(n,e[t])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var e=this.$slots.default;return this.transitionMode?e[0].child.$slots.default:e},computeIndexes:function(){var e=this;this.$nextTick(function(){e.visibleIndexes=function(e,t,n,i){if(!e)return[];var r=e.map(function(e){return e.elm}),o=t.length-i,a=v(t).map(function(e,t){return o<=t?r.length:r.indexOf(e)});return n?a.filter(function(e){return-1!==e}):a}(e.getChildrenNodes(),e.rootContainer.children,e.transitionMode,e.footerOffset)})},getUnderlyingVm:function(e){var t=function(e,t){return e.map(function(e){return e.elm}).indexOf(t)}(this.getChildrenNodes()||[],e);return-1===t?null:{index:t,element:this.realList[t]}},getUnderlyingPotencialDraggableComponent:function(e){var t=e.__vue__;return t&&t.$options&&C(t.$options._componentTag)?t.$parent:!("realList"in t)&&1===t.$children.length&&"realList"in t.$children[0]?t.$children[0]:t},emitChanges:function(e){var t=this;this.$nextTick(function(){t.$emit("change",e)})},alterList:function(e){if(this.list)e(this.list);else{var t=v(this.value);e(t),this.$emit("input",t)}},spliceList:function(){function e(e){return e.splice.apply(e,v(t))}var t=arguments;this.alterList(e)},updatePosition:function(t,n){function e(e){return e.splice(n,0,e.splice(t,1)[0])}this.alterList(e)},getRelatedContextFromMoveEvent:function(e){var t=e.to,n=e.related,i=this.getUnderlyingPotencialDraggableComponent(t);if(!i)return{component:i};var r=i.realList,o={list:r,component:i};if(t!==n&&r&&i.getUnderlyingVm){var a=i.getUnderlyingVm(n);if(a)return s()(a,o)}return o},getVmIndex:function(e){var t=this.visibleIndexes,n=t.length;return n-1<e?n:t[e]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(e){if(this.noTransitionOnDrag&&this.transitionMode){this.getChildrenNodes()[e].data=null;var t=this.getComponent();t.children=[],t.kept=void 0}},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),T=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){Object(x.d)(e.item);var n=this.getVmIndex(e.newIndex);this.spliceList(n,0,t),this.computeIndexes();var i={element:t,newIndex:n};this.emitChanges({added:i})}},onDragRemove:function(e){if(Object(x.c)(this.rootContainer,e.item,e.oldIndex),"clone"!==e.pullMode){var t=this.context.index;this.spliceList(t,1);var n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})}else Object(x.d)(e.clone)},onDragUpdate:function(e){Object(x.d)(e.item),Object(x.c)(e.from,e.item,e.oldIndex);var t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);var i={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:i})},updateProperty:function(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},computeFutureIndex:function(e,t){if(!e.element)return 0;var n=v(t.to.children).filter(function(e){return"none"!==e.style.display}),i=n.indexOf(t.related),r=e.component.getVmIndex(i);return-1!==n.indexOf(T)||!t.willInsertAfter?r:r+1},onDragMove:function(e,t){var n=this.move;if(!n||!this.realList)return!0;var i=this.getRelatedContextFromMoveEvent(e),r=this.context,o=this.computeFutureIndex(i,e);return s()(r,{futureIndex:o}),n(s()({},e,{relatedContext:i,draggedContext:r}),t)},onDragEnd:function(){this.computeIndexes(),T=null}}};"undefined"!=typeof window&&"Vue"in window&&window.Vue.component("draggable",U);var k=U;t.default=k}},r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="fb15")).default},function(e,t,n){var d=n(29),c=n(30),i=n(47),r=n(48);function o(i,r,o,a,t){var e=[].slice.call(arguments,1),n=e.length,s="function"==typeof e[n-1];if(!s&&!d())throw new Error("Callback required as last argument");if(!s){if(n<1)throw new Error("Too few arguments provided");return 1===n?(o=r,r=a=void 0):2!==n||r.getContext||(a=o,o=r,r=void 0),new Promise(function(e,t){try{var n=c.create(o,a);e(i(n,r,a))}catch(e){t(e)}})}if(n<2)throw new Error("Too few arguments provided");2===n?(t=o,o=r,r=a=void 0):3===n&&(r.getContext&&void 0===t?(t=a,a=void 0):(t=a,a=o,o=r,r=void 0));try{var l=c.create(o,a);t(null,i(l,r,a))}catch(e){t(e)}}t.create=c.create,t.toCanvas=o.bind(null,i.render),t.toDataURL=o.bind(null,i.renderToDataURL),t.toString=o.bind(null,function(e,t,n){return r.render(e,n)})},function(e,t){window.UEDITOR_HOME_URL="",window.ENV=Object({NODE_ENV:"production"}).ENV,console.log("--------------------------",Object({NODE_ENV:"production"}).ENV),window.UEDITOR_CONFIG={UEDITOR_HOME_URL:"/static/UE/",toolbars:[["fullscreen","source","|","undo","redo","|","bold","italic","superscript","subscript","removeformat","|","forecolor","cleardoc","|","paragraph","|","link","|","imagecenter","|","simpleupload","insertimage"]],imageActionName:"uploadimage",imageFieldName:"upfile",imageMaxSize:2048e3,imageAllowFiles:[".png",".jpg",".jpeg",".gif",".bmp"],imageCompressEnable:!0,imageCompressBorder:1600,imageInsertAlign:"center",imageUrlPrefix:"",scrawlActionName:"uploadscrawl",scrawlFieldName:"upfile",scrawlMaxSize:2048e3,scrawlUrlPrefix:"",scrawlInsertAlign:"none",snapscreenActionName:"uploadimage",snapscreenUrlPrefix:"",snapscreenInsertAlign:"none",catcherLocalDomain:["127.0.0.1","localhost","img.baidu.com"],catcherActionName:"catchimage",catcherFieldName:"source",catcherUrlPrefix:"",catcherMaxSize:2048e3,catcherAllowFiles:[".png",".jpg",".jpeg",".gif",".bmp"],videoActionName:"uploadvideo",videoFieldName:"upfile",videoUrlPrefix:"",videoMaxSize:1024e5,videoAllowFiles:[".flv",".swf",".mkv",".avi",".rm",".rmvb",".mpeg",".mpg",".ogg",".ogv",".mov",".wmv",".mp4",".webm",".mp3",".wav",".mid"],fileActionName:"uploadfile",fileFieldName:"upfile",fileUrlPrefix:"",fileMaxSize:512e5,fileAllowFiles:[".png",".jpg",".jpeg",".gif",".bmp",".flv",".swf",".mkv",".avi",".rm",".rmvb",".mpeg",".mpg",".ogg",".ogv",".mov",".wmv",".mp4",".webm",".mp3",".wav",".mid",".rar",".zip",".tar",".gz",".7z",".bz2",".cab",".iso",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".pdf",".txt",".md",".xml"],imageManagerActionName:"listimage",imageManagerListSize:20,imageManagerUrlPrefix:"",imageManagerInsertAlign:"none",imageManagerAllowFiles:[".png",".jpg",".jpeg",".gif",".bmp"],fileManagerActionName:"listfile",fileManagerUrlPrefix:"",fileManagerListSize:20,fileManagerAllowFiles:[".png",".jpg",".jpeg",".gif",".bmp",".flv",".swf",".mkv",".avi",".rm",".rmvb",".mpeg",".mpg",".ogg",".ogv",".mov",".wmv",".mp4",".webm",".mp3",".wav",".mid",".rar",".zip",".tar",".gz",".7z",".bz2",".cab",".iso",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".pdf",".txt",".md",".xml"],paragraph:{p:"",h2:"",h5:""}},window.UE={getUEBasePath:function(e,t){window.UEDITOR_HOME_URL=e}}},function(module,exports,__webpack_require__){var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * UEditor
 * version: ueditor
 * build: Tue Aug 25 2015 15:23:01 GMT+0800 (CST)
 */
/*!
 * UEditor
 * version: ueditor
 * build: Tue Aug 25 2015 15:23:01 GMT+0800 (CST)
 */!function(){UEDITOR_CONFIG=window.UEDITOR_CONFIG||{};var baidu=window.baidu||{};window.baidu=baidu,window.UE=baidu.editor=window.UE||{},UE.plugins={},UE.commands={},UE.instants={},UE.I18N={},UE._customizeUI={},UE.version="1.4.3";var dom=UE.dom={},browser=UE.browser=function(){var e=navigator.userAgent.toLowerCase(),t=window.opera,n={ie:/(msie\s|trident.*rv:)([\w.]+)/.test(e),opera:!!t&&t.version,webkit:-1<e.indexOf(" applewebkit/"),mac:-1<e.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode};n.gecko="Gecko"==navigator.product&&!n.webkit&&!n.opera&&!n.ie;var i=0;if(n.ie){var r=e.match(/(?:msie\s([\w.]+))/),o=e.match(/(?:trident.*rv:([\w.]+))/);i=r&&o&&r[1]&&o[1]?Math.max(1*r[1],1*o[1]):r&&r[1]?1*r[1]:o&&o[1]?1*o[1]:0,n.ie11Compat=11==document.documentMode,n.ie9Compat=9==document.documentMode,n.ie8=!!document.documentMode,n.ie8Compat=8==document.documentMode,n.ie7Compat=7==i&&!document.documentMode||7==document.documentMode,n.ie6Compat=i<7||n.quirks,n.ie9above=8<i,n.ie9below=i<9,n.ie11above=10<i,n.ie11below=i<11}if(n.gecko){var a=e.match(/rv:([\d\.]+)/);a&&(i=1e4*(a=a[1].split("."))[0]+100*(a[1]||0)+1*(a[2]||0))}return/chrome\/(\d+\.\d)/i.test(e)&&(n.chrome=+RegExp.$1),/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(e)&&!/chrome/i.test(e)&&(n.safari=+(RegExp.$1||RegExp.$2)),n.opera&&(i=parseFloat(t.version())),n.webkit&&(i=parseFloat(e.match(/ applewebkit\/(\d+)/)[1])),n.version=i,n.isCompatible=!n.mobile&&(n.ie&&6<=i||n.gecko&&10801<=i||n.opera&&9.5<=i||n.air&&1<=i||n.webkit&&522<=i||!1),n}(),ie=browser.ie,webkit=browser.webkit,gecko=browser.gecko,opera=browser.opera,utils=UE.utils={each:function(e,t,n){if(null!=e)if(e.length===+e.length){for(var i=0,r=e.length;i<r;i++)if(!1===t.call(n,e[i],i,e))return!1}else for(var o in e)if(e.hasOwnProperty(o)&&!1===t.call(n,e[o],o,e))return!1},makeInstance:function(e){var t=new Function;return t.prototype=e,e=new t,t.prototype=null,e},extend:function(e,t,n){if(t)for(var i in t)n&&e.hasOwnProperty(i)||(e[i]=t[i]);return e},extend2:function(e){for(var t=arguments,n=1;n<t.length;n++){var i=t[n];for(var r in i)e.hasOwnProperty(r)||(e[r]=i[r])}return e},inherits:function(e,t){var n=e.prototype,i=utils.makeInstance(t.prototype);return utils.extend(i,n,!0),(e.prototype=i).constructor=e},bind:function(e,t){return function(){return e.apply(t,arguments)}},defer:function(e,t,n){var i;return function(){n&&clearTimeout(i),i=setTimeout(e,t)}},indexOf:function(e,n,i){var r=-1;return i=this.isNumber(i)?i:0,this.each(e,function(e,t){if(i<=t&&e===n)return r=t,!1}),r},removeItem:function(e,t){for(var n=0,i=e.length;n<i;n++)e[n]===t&&(e.splice(n,1),n--)},trim:function(e){return e.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")},listToMap:function(e){if(!e)return{};e=utils.isArray(e)?e:e.split(",");for(var t,n=0,i={};t=e[n++];)i[t.toUpperCase()]=i[t]=1;return i},unhtml:function(e,t){return e?e.replace(t||/[&<">'](?:(amp|lt|quot|gt|#39|nbsp|#\d+);)?/g,function(e,t){return t?e:{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[e]}):""},html:function(e){return e?e.replace(/&((g|l|quo)t|amp|#39|nbsp);/g,function(e){return{"&lt;":"<","&amp;":"&","&quot;":'"',"&gt;":">","&#39;":"'","&nbsp;":" "}[e]}):""},cssStyleToDomStyle:(zG=document.createElement("div").style,AG={float:null!=zG.cssFloat?"cssFloat":null!=zG.styleFloat?"styleFloat":"float"},function(e){return AG[e]||(AG[e]=e.toLowerCase().replace(/-./g,function(e){return e.charAt(1).toUpperCase()}))}),loadFile:(DG=[],function(t,n,e){var i=EG(t,n);if(i)i.ready?e&&e():i.funs.push(e);else if(DG.push({doc:t,url:n.src||n.href,funs:[e]}),t.body){if(!n.id||!t.getElementById(n.id)){var r=t.createElement(n.tag);for(var o in delete n.tag,n)r.setAttribute(o,n[o]);r.onload=r.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){if(0<(i=EG(t,n)).funs.length){i.ready=1;for(var e;e=i.funs.pop();)e()}r.onload=r.onreadystatechange=null}},r.onerror=function(){throw Error("The load "+(n.href||n.src)+" fails,check the url settings of file ueditor.config.js ")},t.getElementsByTagName("head")[0].appendChild(r)}}else{var a=[];for(var o in n)"tag"!=o&&a.push(o+'="'+n[o]+'"');t.write("<"+n.tag+" "+a.join(" ")+" ></"+n.tag+">")}}),isEmptyObject:function(e){if(null==e)return!0;if(this.isArray(e)||this.isString(e))return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},fixColor:function(e,t){if(/color/i.test(e)&&/rgba?/.test(t)){var n=t.split(",");if(3<n.length)return"";t="#";for(var i,r=0;i=n[r++];)t+=1==(i=parseInt(i.replace(/[^\d]/gi,""),10).toString(16)).length?"0"+i:i;t=t.toUpperCase()}return t},optCss:function(e){var r,o;function t(e,t){if(!e)return"";var n=e.top,i=e.bottom,r=e.left,o=e.right,a="";if(n&&r&&i&&o)a+=";"+t+":"+(n==i&&i==r&&r==o?n:n==i&&r==o?n+" "+r:r==o?n+" "+r+" "+i:n+" "+o+" "+i+" "+r)+";";else for(var s in e)a+=";"+t+"-"+s+":"+e[s]+";";return a}return e=e.replace(/(padding|margin|border)\-([^:]+):([^;]+);?/gi,function(e,t,n,i){if(1==i.split(" ").length)switch(t){case"padding":return(r=r||{})[n]=i,"";case"margin":return(o=o||{})[n]=i,"";case"border":return"initial"==i?"":e}return e}),(e+=t(r,"padding")+t(o,"margin")).replace(/^[ \n\r\t;]*|[ \n\r\t]*$/,"").replace(/;([ \n\r\t]+)|\1;/g,";").replace(/(&((l|g)t|quot|#39))?;{2,}/g,function(e,t){return t?t+";;":";"})},clone:function(e,t){var n;for(var i in t=t||{},e)e.hasOwnProperty(i)&&("object"==(void 0===(n=e[i])?"undefined":_typeof(n))?(t[i]=utils.isArray(n)?[]:{},utils.clone(e[i],t[i])):t[i]=n);return t},transUnitToPx:function(i){if(!/(pt|cm)/.test(i))return i;var r;switch(i.replace(/([\d.]+)(\w+)/,function(e,t,n){i=t,r=n}),r){case"cm":i=25*parseFloat(i);break;case"pt":i=Math.round(96*parseFloat(i)/72)}return i+(i?"px":"")},domReady:(EH=[],function(e,t){var n=(t=t||window).document;e&&EH.push(e),"complete"===n.readyState?FH(n):(n.isReady&&FH(n),browser.ie&&11!=browser.version?(function(){if(!n.isReady){try{n.documentElement.doScroll("left")}catch(e){return setTimeout(arguments.callee,0)}FH(n)}}(),t.attachEvent("onload",function(){FH(n)})):(n.addEventListener("DOMContentLoaded",function(){n.removeEventListener("DOMContentLoaded",arguments.callee,!1),FH(n)},!1),t.addEventListener("load",function(){FH(n)},!1)))}),cssRule:browser.ie&&11!=browser.version?function(e,t,n){var i,r;return void 0===t||t&&t.nodeType&&9==t.nodeType?void 0!==(r=(i=(n=t&&t.nodeType&&9==t.nodeType?t:n||document).indexList||(n.indexList={}))[e])?n.styleSheets[r].cssText:void 0:(r=(i=(n=n||document).indexList||(n.indexList={}))[e],""===t?void 0!==r&&(n.styleSheets[r].cssText="",delete i[e],!0):(void 0!==r?sheetStyle=n.styleSheets[r]:(sheetStyle=n.createStyleSheet("",r=n.styleSheets.length),i[e]=r),void(sheetStyle.cssText=t)))}:function(e,t,n){var i;return void 0===t||t&&t.nodeType&&9==t.nodeType?(i=(n=t&&t.nodeType&&9==t.nodeType?t:n||document).getElementById(e))?i.innerHTML:void 0:(i=(n=n||document).getElementById(e),""===t?!!i&&(i.parentNode.removeChild(i),!0):void(i?i.innerHTML=t:((i=n.createElement("style")).id=e,i.innerHTML=t,n.getElementsByTagName("head")[0].appendChild(i))))},sort:function(e,t){t=t||function(e,t){return e.localeCompare(t)};for(var n=0,i=e.length;n<i;n++)for(var r=n,o=e.length;r<o;r++)if(0<t(e[n],e[r])){var a=e[n];e[n]=e[r],e[r]=a}return e},serializeParam:function(e){var t=[];for(var n in e)if("method"!=n&&"timeout"!=n&&"async"!=n)if("function"!=_typeof(e[n]).toLowerCase()&&"object"!=_typeof(e[n]).toLowerCase())t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));else if(utils.isArray(e[n]))for(var i=0;i<e[n].length;i++)t.push(encodeURIComponent(n)+"[]="+encodeURIComponent(e[n][i]));return t.join("&")},formatUrl:function(e){var t=e.replace(/&&/g,"&");return t=(t=(t=(t=t.replace(/\?&/g,"?")).replace(/&$/g,"")).replace(/&#/g,"#")).replace(/&+/g,"&")},isCrossDomainUrl:function(e){var t=document.createElement("a");return t.href=e,browser.ie&&(t.href=t.href),!(t.protocol==location.protocol&&t.hostname==location.hostname&&(t.port==location.port||"80"==t.port&&""==location.port||""==t.port&&"80"==location.port))},clearEmptyAttrs:function(e){for(var t in e)""===e[t]&&delete e[t];return e},str2json:function(e){return utils.isString(e)?window.JSON?JSON.parse(e):new Function("return "+utils.trim(e||""))():null},json2str:function(){if(window.JSON)return JSON.stringify;function a(e){return e<10?"0"+e:e}var s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return function(e){switch(void 0===e?"undefined":_typeof(e)){case"undefined":return"undefined";case"number":return isFinite(e)?String(e):"null";case"string":return function(e){return/["\\\x00-\x1f]/.test(e)&&(e=e.replace(/["\\\x00-\x1f]/g,function(e){var t=s[e];return t||(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})),'"'+e+'"'}(e);case"boolean":return String(e);default:if(null===e)return"null";if(utils.isArray(e))return function(e){var t,n,i,r=["["],o=e.length;for(n=0;n<o;n++)switch(void 0===(i=e[n])?"undefined":_typeof(i)){case"undefined":case"function":case"unknown":break;default:t&&r.push(","),r.push(utils.json2str(i)),t=1}return r.push("]"),r.join("")}(e);if(utils.isDate(e))return function(e){return'"'+e.getFullYear()+"-"+a(e.getMonth()+1)+"-"+a(e.getDate())+"T"+a(e.getHours())+":"+a(e.getMinutes())+":"+a(e.getSeconds())+'"'}(e);var t,n,i=["{"],r=utils.json2str;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o))switch(void 0===(n=e[o])?"undefined":_typeof(n)){case"undefined":case"unknown":case"function":break;default:t&&i.push(","),t=1,i.push(r(o)+":"+r(n))}return i.push("}"),i.join("")}}}()},EH,DG,zG,AG;function FH(e){e.isReady=!0;for(var t;t=EH.pop();t());}function EG(e,t){try{for(var n,i=0;n=DG[i++];)if(n.doc===e&&n.url==(t.src||t.href))return n}catch(e){return null}}utils.each(["String","Function","Array","Number","RegExp","Object","Date"],function(t){UE.utils["is"+t]=function(e){return Object.prototype.toString.apply(e)=="[object "+t+"]"}});var EventBase=UE.EventBase=function(){};function getListener(e,t,n){var i;return t=t.toLowerCase(),(i=e.__allListeners||n&&(e.__allListeners={}))&&(i[t]||n&&(i[t]=[]))}EventBase.prototype={addListener:function(e,t){e=utils.trim(e).split(/\s+/);for(var n,i=0;n=e[i++];)getListener(this,n,!0).push(t)},on:function(e,t){return this.addListener(e,t)},off:function(e,t){return this.removeListener(e,t)},trigger:function(){return this.fireEvent.apply(this,arguments)},removeListener:function(e,t){e=utils.trim(e).split(/\s+/);for(var n,i=0;n=e[i++];)utils.removeItem(getListener(this,n)||[],t)},fireEvent:function(e){var t=e;t=utils.trim(t).split(" ");for(var n,i=0;n=t[i++];){var r,o,a,s=getListener(this,n);if(s)for(a=s.length;a--;)if(s[a]){if(!0===(o=s[a].apply(this,arguments)))return o;void 0!==o&&(r=o)}(o=this["on"+n.toLowerCase()])&&(r=o.apply(this,arguments))}return r}};var dtd=dom.dtd=(yJ=utils.extend2,zJ=xJ({isindex:1,fieldset:1}),AJ=xJ({input:1,button:1,select:1,textarea:1,label:1}),BJ=yJ(xJ({a:1}),AJ),CJ=yJ({iframe:1},BJ),DJ=xJ({hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1}),EJ=xJ({ins:1,del:1,script:1,style:1}),FJ=yJ(xJ({b:1,acronym:1,bdo:1,var:1,"#":1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1}),EJ),GJ=yJ(xJ({sub:1,img:1,embed:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1}),FJ),HJ=yJ(xJ({p:1}),GJ),IJ=yJ(xJ({iframe:1}),GJ,AJ),JJ=xJ({img:1,embed:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,"#":1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,var:1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1}),KJ=yJ(xJ({a:0}),IJ),LJ=xJ({tr:1}),MJ=xJ({"#":1}),NJ=yJ(xJ({param:1}),JJ),OJ=yJ(xJ({form:1}),zJ,CJ,DJ,HJ),PJ=xJ({li:1,ol:1,ul:1}),QJ=xJ({style:1,script:1}),RJ=xJ({base:1,link:1,meta:1,title:1}),SJ=yJ(RJ,QJ),TJ=xJ({head:1,body:1}),UJ=xJ({html:1}),VJ=xJ({address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1}),WJ=xJ({area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1}),xJ({$nonBodyContent:yJ(UJ,TJ,RJ),$block:VJ,$inline:KJ,$inlineWithA:yJ(xJ({a:1}),KJ),$body:yJ(xJ({script:1,style:1}),VJ),$cdata:xJ({script:1,style:1}),$empty:WJ,$nonChild:xJ({iframe:1,textarea:1}),$listItem:xJ({dd:1,dt:1,li:1}),$list:xJ({ul:1,ol:1,dl:1}),$isNotEmpty:xJ({table:1,ul:1,ol:1,dl:1,iframe:1,area:1,base:1,col:1,hr:1,img:1,embed:1,input:1,link:1,meta:1,param:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1}),$removeEmpty:xJ({a:1,abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,var:1}),$removeEmptyBlock:xJ({p:1,div:1}),$tableContent:xJ({caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1,table:1}),$notTransContent:xJ({pre:1,script:1,style:1,textarea:1}),html:TJ,head:SJ,style:MJ,script:MJ,body:OJ,base:{},link:{},meta:{},title:MJ,col:{},tr:xJ({td:1,th:1}),img:{},embed:{},colgroup:xJ({thead:1,col:1,tbody:1,tr:1,tfoot:1}),noscript:OJ,td:OJ,br:{},th:OJ,center:OJ,kbd:KJ,button:yJ(HJ,DJ),basefont:{},h5:KJ,h4:KJ,samp:KJ,h6:KJ,ol:PJ,h1:KJ,h3:KJ,option:MJ,h2:KJ,form:yJ(zJ,CJ,DJ,HJ),select:xJ({optgroup:1,option:1}),font:KJ,ins:KJ,menu:PJ,abbr:KJ,label:KJ,table:xJ({thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1}),code:KJ,tfoot:LJ,cite:KJ,li:OJ,input:{},iframe:OJ,strong:KJ,textarea:MJ,noframes:OJ,big:KJ,small:KJ,span:xJ({"#":1,br:1,b:1,strong:1,u:1,i:1,em:1,sub:1,sup:1,strike:1,span:1}),hr:KJ,dt:KJ,sub:KJ,optgroup:xJ({option:1}),param:{},bdo:KJ,var:KJ,div:OJ,object:NJ,sup:KJ,dd:OJ,strike:KJ,area:{},dir:PJ,map:yJ(xJ({area:1,form:1,p:1}),zJ,EJ,DJ),applet:NJ,dl:xJ({dt:1,dd:1}),del:KJ,isindex:{},fieldset:yJ(xJ({legend:1}),JJ),thead:LJ,ul:PJ,acronym:KJ,b:KJ,a:yJ(xJ({a:1}),IJ),blockquote:yJ(xJ({td:1,tr:1,tbody:1,li:1}),OJ),caption:KJ,i:KJ,u:KJ,tbody:LJ,s:KJ,address:yJ(CJ,HJ),tt:KJ,legend:KJ,q:KJ,pre:yJ(FJ,BJ),p:yJ(xJ({a:1}),KJ),em:KJ,dfn:KJ})),yJ,zJ,AJ,BJ,CJ,DJ,EJ,FJ,GJ,HJ,IJ,JJ,KJ,LJ,MJ,NJ,OJ,PJ,QJ,RJ,SJ,TJ,UJ,VJ,WJ;function xJ(e){for(var t in e)e[t.toUpperCase()]=e[t];return e}function getDomNode(e,t,n,i,r,o){var a,s=i&&e[t];for(s=s||e[n];!s&&(a=(a||e).parentNode);){if("BODY"==a.tagName||o&&!o(a))return null;s=a[n]}return s&&r&&!r(s)?getDomNode(s,t,n,!1,r):s}var attrFix=ie&&browser.version<9?{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder"}:{tabindex:"tabIndex",readonly:"readOnly"},styleBlock=utils.listToMap(["-webkit-box","-moz-box","block","list-item","table","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption"]),domUtils=dom.domUtils={NODE_ELEMENT:1,NODE_DOCUMENT:9,NODE_TEXT:3,NODE_COMMENT:8,NODE_DOCUMENT_FRAGMENT:11,POSITION_IDENTICAL:0,POSITION_DISCONNECTED:1,POSITION_FOLLOWING:2,POSITION_PRECEDING:4,POSITION_IS_CONTAINED:8,POSITION_CONTAINS:16,fillChar:ie&&"6"==browser.version?"\ufeff":"​",keys:{8:1,46:1,16:1,17:1,18:1,37:1,38:1,39:1,40:1,13:1},getPosition:function(e,t){if(e===t)return 0;var n,i=[e],r=[t];for(n=e;n=n.parentNode;){if(n===t)return 10;i.push(n)}for(n=t;n=n.parentNode;){if(n===e)return 20;r.push(n)}if(i.reverse(),r.reverse(),i[0]!==r[0])return 1;for(var o=-1;i[++o]===r[o];);for(e=i[o],t=r[o];e=e.nextSibling;)if(e===t)return 4;return 2},getNodeIndex:function(e,t){for(var n=e,i=0;n=n.previousSibling;)t&&3==n.nodeType?n.nodeType!=n.nextSibling.nodeType&&i++:i++;return i},inDoc:function(e,t){return 10==domUtils.getPosition(e,t)},findParent:function(e,t,n){if(e&&!domUtils.isBody(e))for(e=n?e:e.parentNode;e;){if(!t||t(e)||domUtils.isBody(e))return t&&!t(e)&&domUtils.isBody(e)?null:e;e=e.parentNode}return null},findParentByTagName:function(e,t,n,i){return t=utils.listToMap(utils.isArray(t)?t:[t]),domUtils.findParent(e,function(e){return t[e.tagName]&&!(i&&i(e))},n)},findParents:function(e,t,n,i){for(var r=t&&(n&&n(e)||!n)?[e]:[];e=domUtils.findParent(e,n);)r.push(e);return i?r:r.reverse()},insertAfter:function(e,t){return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)},remove:function(e,t){var n,i=e.parentNode;if(i){if(t&&e.hasChildNodes())for(;n=e.firstChild;)i.insertBefore(n,e);i.removeChild(e)}return e},getNextDomNode:function(e,t,n,i){return getDomNode(e,"firstChild","nextSibling",t,n,i)},getPreDomNode:function(e,t,n,i){return getDomNode(e,"lastChild","previousSibling",t,n,i)},isBookmarkNode:function(e){return 1==e.nodeType&&e.id&&/^_baidu_bookmark_/i.test(e.id)},getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getCommonAncestor:function(e,t){if(e===t)return e;for(var n=[e],i=[t],r=e,o=-1;r=r.parentNode;){if(r===t)return r;n.push(r)}for(r=t;r=r.parentNode;){if(r===e)return r;i.push(r)}for(n.reverse(),i.reverse();n[++o]===i[o];);return 0==o?null:n[o-1]},clearEmptySibling:function(e,t,n){function i(e,t){for(var n;e&&!domUtils.isBookmarkNode(e)&&(domUtils.isEmptyInlineElement(e)||!new RegExp("[^\t\n\r"+domUtils.fillChar+"]").test(e.nodeValue));)n=e[t],domUtils.remove(e),e=n}t||i(e.nextSibling,"nextSibling"),n||i(e.previousSibling,"previousSibling")},split:function(e,t){var n=e.ownerDocument;if(browser.ie&&t==e.nodeValue.length){var i=n.createTextNode("");return domUtils.insertAfter(e,i)}var r=e.splitText(t);if(browser.ie8){var o=n.createTextNode("");domUtils.insertAfter(r,o),domUtils.remove(o)}return r},isWhitespace:function(e){return!new RegExp("[^ \t\n\r"+domUtils.fillChar+"]").test(e.nodeValue)},getXY:function(e){for(var t=0,n=0;e.offsetParent;)n+=e.offsetTop,t+=e.offsetLeft,e=e.offsetParent;return{x:t,y:n}},on:function(e,t,n){var i=utils.isArray(t)?t:utils.trim(t).split(/\s+/),r=i.length;if(r)for(;r--;)if(t=i[r],e.addEventListener)e.addEventListener(t,n,!1);else{n._d||(n._d={els:[]});var o=t+n.toString(),a=utils.indexOf(n._d.els,e);n._d[o]&&-1!=a||(-1==a&&n._d.els.push(e),n._d[o]||(n._d[o]=function(e){return n.call(e.srcElement,e||window.event)}),e.attachEvent("on"+t,n._d[o]))}e=null},un:function(e,t,n){var i=utils.isArray(t)?t:utils.trim(t).split(/\s+/),r=i.length;if(r)for(;r--;)if(t=i[r],e.removeEventListener)e.removeEventListener(t,n,!1);else{var o=t+n.toString();try{e.detachEvent("on"+t,n._d?n._d[o]:n)}catch(e){}if(n._d&&n._d[o]){var a=utils.indexOf(n._d.els,e);-1!=a&&n._d.els.splice(a,1),0==n._d.els.length&&delete n._d[o]}}},isSameElement:function(e,t){if(e.tagName!=t.tagName)return!1;var n=e.attributes,i=t.attributes;if(!ie&&n.length!=i.length)return!1;for(var r,o,a=0,s=0,l=0;r=n[l++];){if("style"==r.nodeName){if(r.specified&&a++,domUtils.isSameStyle(e,t))continue;return!1}if(ie){if(!r.specified)continue;a++,o=i.getNamedItem(r.nodeName)}else o=t.attributes[r.nodeName];if(!o.specified||r.nodeValue!=o.nodeValue)return!1}if(ie){for(l=0;o=i[l++];)o.specified&&s++;if(a!=s)return!1}return!0},isSameStyle:function(e,t){var n=e.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":"),i=t.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":");if(browser.opera){if(n=e.style,i=t.style,n.length!=i.length)return!1;for(var r in n)if(!/^(\d+|csstext)$/i.test(r)&&n[r]!=i[r])return!1;return!0}if(!n||!i)return n==i;if(n=n.split(";"),i=i.split(";"),n.length!=i.length)return!1;for(var o,a=0;o=n[a++];)if(-1==utils.indexOf(i,o))return!1;return!0},isBlockElm:function(e){return 1==e.nodeType&&(dtd.$block[e.tagName]||styleBlock[domUtils.getComputedStyle(e,"display")])&&!dtd.$nonChild[e.tagName]},isBody:function(e){return e&&1==e.nodeType&&"body"==e.tagName.toLowerCase()},breakParent:function(e,t){var n,i,r,o=e,a=e;do{for(o=o.parentNode,r=i?((n=o.cloneNode(!1)).appendChild(i),i=n,(n=o.cloneNode(!1)).appendChild(r),n):(i=o.cloneNode(!1)).cloneNode(!1);n=a.previousSibling;)i.insertBefore(n,i.firstChild);for(;n=a.nextSibling;)r.appendChild(n);a=o}while(t!==o);return(n=t.parentNode).insertBefore(i,t),n.insertBefore(r,t),n.insertBefore(e,r),domUtils.remove(t),e},isEmptyInlineElement:function(e){if(1!=e.nodeType||!dtd.$removeEmpty[e.tagName])return 0;for(e=e.firstChild;e;){if(domUtils.isBookmarkNode(e))return 0;if(1==e.nodeType&&!domUtils.isEmptyInlineElement(e)||3==e.nodeType&&!domUtils.isWhitespace(e))return 0;e=e.nextSibling}return 1},trimWhiteTextNode:function(n){function e(e){for(var t;(t=n[e])&&3==t.nodeType&&domUtils.isWhitespace(t);)n.removeChild(t)}e("firstChild"),e("lastChild")},mergeChild:function(e,t,n){for(var i,r=domUtils.getElementsByTagName(e,e.tagName.toLowerCase()),o=0;i=r[o++];)if(i.parentNode&&!domUtils.isBookmarkNode(i))if("span"!=i.tagName.toLowerCase())domUtils.isSameElement(e,i)&&domUtils.remove(i,!0);else{if(e===i.parentNode&&(domUtils.trimWhiteTextNode(e),1==e.childNodes.length)){e.style.cssText=i.style.cssText+";"+e.style.cssText,domUtils.remove(i,!0);continue}if(i.style.cssText=e.style.cssText+";"+i.style.cssText,n){var a=n.style;if(a){a=a.split(";");for(var s,l=0;s=a[l++];)i.style[utils.cssStyleToDomStyle(s.split(":")[0])]=s.split(":")[1]}}domUtils.isSameStyle(i,e)&&domUtils.remove(i,!0)}},getElementsByTagName:function(e,t,n){if(n&&utils.isString(n)){var i=n;n=function(e){return domUtils.hasClass(e,i)}}t=utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var r,o=[],a=0;r=t[a++];)for(var s,l=e.getElementsByTagName(r),d=0;s=l[d++];)n&&!n(s)||o.push(s);return o},mergeToParent:function(e){for(var t=e.parentNode;t&&dtd.$removeEmpty[t.tagName];){if(t.tagName==e.tagName||"A"==t.tagName){if(domUtils.trimWhiteTextNode(t),"SPAN"==t.tagName&&!domUtils.isSameStyle(t,e)||"A"==t.tagName&&"SPAN"==e.tagName){if(1<t.childNodes.length||t!==e.parentNode){e.style.cssText=t.style.cssText+";"+e.style.cssText,t=t.parentNode;continue}t.style.cssText+=";"+e.style.cssText,"A"==t.tagName&&(t.style.textDecoration="underline")}if("A"!=t.tagName){t===e.parentNode&&domUtils.remove(e,!0);break}}t=t.parentNode}},mergeSibling:function(e,t,n){function i(e,t,n){var i;if((i=n[e])&&!domUtils.isBookmarkNode(i)&&1==i.nodeType&&domUtils.isSameElement(n,i)){for(;i.firstChild;)"firstChild"==t?n.insertBefore(i.lastChild,n.firstChild):n.appendChild(i.firstChild);domUtils.remove(i)}}t||i("previousSibling","firstChild",e),n||i("nextSibling","lastChild",e)},unSelectable:ie&&browser.ie9below||browser.opera?function(e){e.onselectstart=function(){return!1},e.onclick=e.onkeyup=e.onkeydown=function(){return!1},e.unselectable="on",e.setAttribute("unselectable","on");for(var t,n=0;t=e.all[n++];)switch(t.tagName.toLowerCase()){case"iframe":case"textarea":case"input":case"select":break;default:t.unselectable="on",e.setAttribute("unselectable","on")}}:function(e){e.style.MozUserSelect=e.style.webkitUserSelect=e.style.msUserSelect=e.style.KhtmlUserSelect="none"},removeAttributes:function(e,t){t=utils.isArray(t)?t:utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var n,i=0;n=t[i++];){switch(n=attrFix[n]||n){case"className":e[n]="";break;case"style":e.style.cssText="";var r=e.getAttributeNode("style");!browser.ie&&r&&e.removeAttributeNode(r)}e.removeAttribute(n)}},createElement:function(e,t,n){return domUtils.setAttributes(e.createElement(t),n)},setAttributes:function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];switch(n){case"class":e.className=i;break;case"style":e.style.cssText=e.style.cssText+";"+i;break;case"innerHTML":e[n]=i;break;case"value":e.value=i;break;default:e.setAttribute(attrFix[n]||n,i)}}return e},getComputedStyle:function(e,t){if(-1<"width height top left".indexOf(t))return e["offset"+t.replace(/^\w/,function(e){return e.toUpperCase()})]+"px";if(3==e.nodeType&&(e=e.parentNode),browser.ie&&browser.version<9&&"font-size"==t&&!e.style.fontSize&&!dtd.$empty[e.tagName]&&!dtd.$nonChild[e.tagName]){var n=e.ownerDocument.createElement("span");n.style.cssText="padding:0;border:0;font-family:simsun;",n.innerHTML=".",e.appendChild(n);var i=n.offsetHeight;return e.removeChild(n),n=null,i+"px"}try{var r=domUtils.getStyle(e,t)||(window.getComputedStyle?domUtils.getWindow(e).getComputedStyle(e,"").getPropertyValue(t):(e.currentStyle||e.style)[utils.cssStyleToDomStyle(t)])}catch(e){return""}return utils.transUnitToPx(utils.fixColor(t,r))},removeClasses:function(e,t){t=utils.isArray(t)?t:utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var n,i=0,r=e.className;n=t[i++];)r=r.replace(new RegExp("\\b"+n+"\\b"),"");(r=utils.trim(r).replace(/[ ]{2,}/g," "))?e.className=r:domUtils.removeAttributes(e,["class"])},addClass:function(e,t){if(e){t=utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var n,i=0,r=e.className;n=t[i++];)new RegExp("\\b"+n+"\\b").test(r)||(r+=" "+n);e.className=utils.trim(r)}},hasClass:function(e,t){if(utils.isRegExp(t))return t.test(e.className);t=utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var n,i=0,r=e.className;n=t[i++];)if(!new RegExp("\\b"+n+"\\b","i").test(r))return!1;return i-1==t.length},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},removeStyle:function(e,t){browser.ie?("color"==t&&(t="(^|;)"+t),e.style.cssText=e.style.cssText.replace(new RegExp(t+"[^:]*:[^;]+;?","ig"),"")):e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(utils.cssStyleToDomStyle(t)),e.style.cssText||domUtils.removeAttributes(e,["style"])},getStyle:function(e,t){var n=e.style[utils.cssStyleToDomStyle(t)];return utils.fixColor(t,n)},setStyle:function(e,t,n){e.style[utils.cssStyleToDomStyle(t)]=n,utils.trim(e.style.cssText)||this.removeAttributes(e,"style")},setStyles:function(e,t){for(var n in t)t.hasOwnProperty(n)&&domUtils.setStyle(e,n,t[n])},removeDirtyAttr:function(e){for(var t,n=0,i=e.getElementsByTagName("*");t=i[n++];)t.removeAttribute("_moz_dirty");e.removeAttribute("_moz_dirty")},getChildCount:function(e,t){var n=0,i=e.firstChild;for(t=t||function(){return 1};i;)t(i)&&n++,i=i.nextSibling;return n},isEmptyNode:function(e){return!e.firstChild||0==domUtils.getChildCount(e,function(e){return!domUtils.isBr(e)&&!domUtils.isBookmarkNode(e)&&!domUtils.isWhitespace(e)})},clearSelectedArr:function(e){for(var t;t=e.pop();)domUtils.removeAttributes(t,["class"])},scrollToView:function(e,t,n){var i,r,o=(i=t.document,{width:((r="CSS1Compat"==i.compatMode)?i.documentElement.clientWidth:i.body.clientWidth)||0,height:(r?i.documentElement.clientHeight:i.body.clientHeight)||0}).height,a=-1*o+n;a+=e.offsetHeight||0,a+=domUtils.getXY(e).y;var s=function(e){if("pageXOffset"in e)return{x:e.pageXOffset||0,y:e.pageYOffset||0};var t=e.document;return{x:t.documentElement.scrollLeft||t.body.scrollLeft||0,y:t.documentElement.scrollTop||t.body.scrollTop||0}}(t).y;(s<a||a<s-o)&&t.scrollTo(0,a+(a<0?-20:20))},isBr:function(e){return 1==e.nodeType&&"BR"==e.tagName},isFillChar:function(e,t){if(3!=e.nodeType)return!1;var n=e.nodeValue;return t?new RegExp("^"+domUtils.fillChar).test(n):!n.replace(new RegExp(domUtils.fillChar,"g"),"").length},isStartInblock:function(e){var t,n=e.cloneRange(),i=0,r=n.startContainer;if(1==r.nodeType&&r.childNodes[n.startOffset])for(var o=(r=r.childNodes[n.startOffset]).previousSibling;o&&domUtils.isFillChar(o);)o=(r=o).previousSibling;for(this.isFillChar(r,!0)&&1==n.startOffset&&(n.setStartBefore(r),r=n.startContainer);r&&domUtils.isFillChar(r);)r=(t=r).previousSibling;for(t&&(n.setStartBefore(t),r=n.startContainer),1==r.nodeType&&domUtils.isEmptyNode(r)&&1==n.startOffset&&n.setStart(r,0).collapse(!0);!n.startOffset;){if(r=n.startContainer,domUtils.isBlockElm(r)||domUtils.isBody(r)){i=1;break}var a;if(o=n.startContainer.previousSibling){for(;o&&domUtils.isFillChar(o);)o=(a=o).previousSibling;a?n.setStartBefore(a):n.setStartBefore(n.startContainer)}else n.setStartBefore(n.startContainer)}return i&&!domUtils.isBody(n.startContainer)?1:0},isEmptyBlock:function(e,t){if(!e||1!=e.nodeType)return 0;if(t=t||new RegExp("[  \t\r\n"+domUtils.fillChar+"]","g"),0<e[browser.ie?"innerText":"textContent"].replace(t,"").length)return 0;for(var n in dtd.$isNotEmpty)if(e.getElementsByTagName(n).length)return 0;return 1},setViewportOffset:function(e,t){var n=0|parseInt(e.style.left),i=0|parseInt(e.style.top),r=e.getBoundingClientRect(),o=t.left-r.left,a=t.top-r.top;o&&(e.style.left=n+o+"px"),a&&(e.style.top=i+a+"px")},fillNode:function(e,t){var n=browser.ie?e.createTextNode(domUtils.fillChar):e.createElement("br");t.innerHTML="",t.appendChild(n)},moveChild:function(e,t,n){for(;e.firstChild;)n&&t.firstChild?t.insertBefore(e.lastChild,t.firstChild):t.appendChild(e.firstChild)},hasNoAttributes:function(e){return browser.ie?/^<\w+\s*?>/.test(e.outerHTML):0==e.attributes.length},isCustomeNode:function(e){return 1==e.nodeType&&e.getAttribute("_ue_custom_node_")},isTagNode:function(e,t){return 1==e.nodeType&&new RegExp("\\b"+e.tagName+"\\b","i").test(t)},filterNodeList:function(e,t,n){var i=[];if(!utils.isFunction(t)){var r=t;t=function(e){return-1!=utils.indexOf(utils.isArray(r)?r:r.split(" "),e.tagName.toLowerCase())}}return utils.each(e,function(e){t(e)&&i.push(e)}),0==i.length?null:1!=i.length&&n?i:i[0]},isInNodeEndBoundary:function(e,t){var n=e.startContainer;if(3==n.nodeType&&e.startOffset!=n.nodeValue.length)return 0;if(1==n.nodeType&&e.startOffset!=n.childNodes.length)return 0;for(;n!==t;){if(n.nextSibling)return 0;n=n.parentNode}return 1},isBoundaryNode:function(e,t){for(;!domUtils.isBody(e);)if(e!==(e=e.parentNode)[t])return!1;return!0},fillHtml:browser.ie11below?"&nbsp;":"<br/>"},fillCharReg=new RegExp(domUtils.fillChar,"g"),jQ,hQ,iQ,oQ,ZV,YV,cW;function lQ(e){return!e.collapsed&&1==e.startContainer.nodeType&&e.startContainer===e.endContainer&&e.endOffset-e.startOffset==1}function mQ(e,t,n,i){return 1==t.nodeType&&(dtd.$empty[t.tagName]||dtd.$nonChild[t.tagName])&&(n=domUtils.getNodeIndex(t)+(e?0:1),t=t.parentNode),e?(i.startContainer=t,i.startOffset=n,i.endContainer||i.collapse(!0)):(i.endContainer=t,i.endOffset=n,i.startContainer||i.collapse(!1)),function(e){e.collapsed=e.startContainer&&e.endContainer&&e.startContainer===e.endContainer&&e.startOffset==e.endOffset}(i),i}function nQ(e,t){var n,i,r=e.startContainer,o=e.endContainer,a=e.startOffset,s=e.endOffset,l=e.document,d=l.createDocumentFragment();if(1==r.nodeType&&(r=r.childNodes[a]||(n=r.appendChild(l.createTextNode("")))),1==o.nodeType&&(o=o.childNodes[s]||(i=o.appendChild(l.createTextNode("")))),r===o&&3==r.nodeType)return d.appendChild(l.createTextNode(r.substringData(a,s-a))),t&&(r.deleteData(a,s-a),e.collapse(!0)),d;for(var c,u,f=d,m=domUtils.findParents(r,!0),h=domUtils.findParents(o,!0),p=0;m[p]==h[p];)p++;for(var g,v=p;g=m[v];v++){for(c=g.nextSibling,g==r?n||(3==e.startContainer.nodeType?(f.appendChild(l.createTextNode(r.nodeValue.slice(a))),t&&r.deleteData(a,r.nodeValue.length-a)):f.appendChild(t?r:r.cloneNode(!0))):(u=g.cloneNode(!1),f.appendChild(u));c&&c!==o&&c!==h[v];)g=c.nextSibling,f.appendChild(t?c:c.cloneNode(!0)),c=g;f=u}f=d,m[p]||(f.appendChild(m[p-1].cloneNode(!1)),f=f.firstChild);var b;for(v=p;b=h[v];v++){if(c=b.previousSibling,b==o?i||3!=e.endContainer.nodeType||(f.appendChild(l.createTextNode(o.substringData(0,s))),t&&o.deleteData(0,s)):(u=b.cloneNode(!1),f.appendChild(u)),v!=p||!m[p])for(;c&&c!==r;)b=c.previousSibling,f.insertBefore(t?c:c.cloneNode(!0),f.firstChild),c=b;f=u}return t&&e.setStartBefore(h[p]?m[p]?h[p]:m[p-1]:h[p-1]).collapse(!0),n&&domUtils.remove(n),i&&domUtils.remove(i),d}function pQ(e,t){try{if(jQ&&domUtils.inDoc(jQ,e))if(jQ.nodeValue.replace(fillCharReg,"").length)jQ.nodeValue=jQ.nodeValue.replace(fillCharReg,"");else{var n=jQ.parentNode;for(domUtils.remove(jQ);n&&domUtils.isEmptyInlineElement(n)&&(browser.safari?!(domUtils.getPosition(n,t)&domUtils.POSITION_CONTAINS):!n.contains(t));)jQ=n.parentNode,domUtils.remove(n),n=jQ}}catch(e){}}function qQ(e,t){var n;for(e=e[t];e&&domUtils.isFillChar(e);)n=e[t],domUtils.remove(e),e=n}function KU(e,t){var n=domUtils.getNodeIndex;(e=e.duplicate()).collapse(t);var i=e.parentElement();if(!i.hasChildNodes())return{container:i,offset:0};for(var r,o,a=i.children,s=e.duplicate(),l=0,d=a.length-1,c=-1;l<=d;){r=a[c=Math.floor((l+d)/2)],s.moveToElementText(r);var u=s.compareEndPoints("StartToStart",e);if(0<u)d=c-1;else{if(!(u<0))return{container:i,offset:n(r)};l=c+1}}if(-1==c){if(s.moveToElementText(i),s.setEndPoint("StartToStart",e),o=s.text.replace(/(\r\n|\r)/g,"\n").length,a=i.childNodes,!o)return{container:r=a[a.length-1],offset:r.nodeValue.length};for(var f=a.length;0<o;)o-=a[--f].nodeValue.length;return{container:a[f],offset:-o}}if(s.collapse(0<u),s.setEndPoint(0<u?"StartToStart":"EndToStart",e),!(o=s.text.replace(/(\r\n|\r)/g,"\n").length))return dtd.$empty[r.tagName]||dtd.$nonChild[r.tagName]?{container:i,offset:n(r)+(0<u?0:1)}:{container:r,offset:0<u?0:r.childNodes.length};for(;0<o;)try{var m=r;o-=(r=r[0<u?"previousSibling":"nextSibling"]).nodeValue.length}catch(e){return{container:i,offset:n(m)}}return{container:r,offset:0<u?-o:r.nodeValue.length+o}}function MU(e){var t;try{t=e.getNative().createRange()}catch(e){return null}var n=t.item?t.item(0):t.parentElement();return(n.ownerDocument||n)===e.document?t:null}function $V(e,t){var n;if(t.textarea)if(utils.isString(t.textarea)){for(var i,r=0,o=domUtils.getElementsByTagName(e,"textarea");i=o[r++];)if(i.id=="ueditor_textarea_"+t.options.textarea){n=i;break}}else n=t.textarea;n||(e.appendChild(n=domUtils.createElement(document,"textarea",{name:t.options.textarea,id:"ueditor_textarea_"+t.options.textarea,style:"display:none"})),t.textarea=n),n.getAttribute("name")||n.setAttribute("name",t.options.textarea),n.value=t.hasContents()?t.options.allHtmlEnabled?t.getAllHtml():t.getContent(null,null,!0):""}function bW(e){e.langIsReady=!0,e.fireEvent("langReady")}function pZ(){var e=this;e.document.getElementById("initContent")&&(e.body.innerHTML="<p>"+(ie?"":"<br/>")+"</p>",e.removeListener("firstBeforeExecCommand focus",pZ),setTimeout(function(){e.focus(),e._selectionChange()},0))}hQ=0,iQ=domUtils.fillChar,oQ=dom.Range=function(e){var t=this;t.startContainer=t.startOffset=t.endContainer=t.endOffset=null,t.document=e,t.collapsed=!0},oQ.prototype={cloneContents:function(){return this.collapsed?null:nQ(this,0)},deleteContents:function(){var e;return this.collapsed||nQ(this,1),browser.webkit&&(3!=(e=this.startContainer).nodeType||e.nodeValue.length||(this.setStartBefore(e).collapse(!0),domUtils.remove(e))),this},extractContents:function(){return this.collapsed?null:nQ(this,2)},setStart:function(e,t){return mQ(!0,e,t,this)},setEnd:function(e,t){return mQ(!1,e,t,this)},setStartAfter:function(e){return this.setStart(e.parentNode,domUtils.getNodeIndex(e)+1)},setStartBefore:function(e){return this.setStart(e.parentNode,domUtils.getNodeIndex(e))},setEndAfter:function(e){return this.setEnd(e.parentNode,domUtils.getNodeIndex(e)+1)},setEndBefore:function(e){return this.setEnd(e.parentNode,domUtils.getNodeIndex(e))},setStartAtFirst:function(e){return this.setStart(e,0)},setStartAtLast:function(e){return this.setStart(e,3==e.nodeType?e.nodeValue.length:e.childNodes.length)},setEndAtFirst:function(e){return this.setEnd(e,0)},setEndAtLast:function(e){return this.setEnd(e,3==e.nodeType?e.nodeValue.length:e.childNodes.length)},selectNode:function(e){return this.setStartBefore(e).setEndAfter(e)},selectNodeContents:function(e){return this.setStart(e,0).setEndAtLast(e)},cloneRange:function(){var e=this;return new oQ(e.document).setStart(e.startContainer,e.startOffset).setEnd(e.endContainer,e.endOffset)},collapse:function(e){var t=this;return e?(t.endContainer=t.startContainer,t.endOffset=t.startOffset):(t.startContainer=t.endContainer,t.startOffset=t.endOffset),t.collapsed=!0,t},shrinkBoundary:function(e){var t,n=this,i=n.collapsed;function r(e){return 1==e.nodeType&&!domUtils.isBookmarkNode(e)&&!dtd.$empty[e.tagName]&&!dtd.$nonChild[e.tagName]}for(;1==n.startContainer.nodeType&&(t=n.startContainer.childNodes[n.startOffset])&&r(t);)n.setStart(t,0);if(i)return n.collapse(!0);if(!e)for(;1==n.endContainer.nodeType&&0<n.endOffset&&(t=n.endContainer.childNodes[n.endOffset-1])&&r(t);)n.setEnd(t,t.childNodes.length);return n},getCommonAncestor:function(e,t){var n=this.startContainer,i=this.endContainer;return n===i?e&&lQ(this)&&1==(n=n.childNodes[this.startOffset]).nodeType?n:t&&3==n.nodeType?n.parentNode:n:domUtils.getCommonAncestor(n,i)},trimBoundary:function(e){this.txtToElmBoundary();var t=this.startContainer,n=this.startOffset,i=this.collapsed,r=this.endContainer;if(3==t.nodeType){if(0==n)this.setStartBefore(t);else if(n>=t.nodeValue.length)this.setStartAfter(t);else{var o=domUtils.split(t,n);t===r?this.setEnd(o,this.endOffset-n):t.parentNode===r&&(this.endOffset+=1),this.setStartBefore(o)}if(i)return this.collapse(!0)}return e||(n=this.endOffset,3==(r=this.endContainer).nodeType&&(0==n?this.setEndBefore(r):(n<r.nodeValue.length&&domUtils.split(r,n),this.setEndAfter(r)))),this},txtToElmBoundary:function(e){function t(e,t){var n=e[t+"Container"],i=e[t+"Offset"];3==n.nodeType&&(i?i>=n.nodeValue.length&&e["set"+t.replace(/(\w)/,function(e){return e.toUpperCase()})+"After"](n):e["set"+t.replace(/(\w)/,function(e){return e.toUpperCase()})+"Before"](n))}return!e&&this.collapsed||(t(this,"start"),t(this,"end")),this},insertNode:function(e){var t=e,n=1;11==e.nodeType&&(t=e.firstChild,n=e.childNodes.length),this.trimBoundary(!0);var i=this.startContainer,r=this.startOffset,o=i.childNodes[r];return o?i.insertBefore(e,o):i.appendChild(e),t.parentNode===this.endContainer&&(this.endOffset=this.endOffset+n),this.setStartBefore(t)},setCursor:function(e,t){return this.collapse(!e).select(t)},createBookmark:function(e,t){var n,i=this.document.createElement("span");return i.style.cssText="display:none;line-height:0px;",i.appendChild(this.document.createTextNode("‍")),i.id="_baidu_bookmark_start_"+(t?"":hQ++),this.collapsed||((n=i.cloneNode(!0)).id="_baidu_bookmark_end_"+(t?"":hQ++)),this.insertNode(i),n&&this.collapse().insertNode(n).setEndBefore(n),this.setStartAfter(i),{start:e?i.id:i,end:n?e?n.id:n:null,id:e}},moveToBookmark:function(e){var t=e.id?this.document.getElementById(e.start):e.start,n=e.end&&e.id?this.document.getElementById(e.end):e.end;return this.setStartBefore(t),domUtils.remove(t),n?(this.setEndBefore(n),domUtils.remove(n)):this.collapse(!0),this},enlarge:function(e,t){var n,i,r=domUtils.isBody,o=this.document.createTextNode("");if(e){for(n=1==(i=this.startContainer).nodeType?i=i.childNodes[this.startOffset]?i.childNodes[this.startOffset]:(i.appendChild(o),o):i;;){if(domUtils.isBlockElm(i)){for(i=n;(n=i.previousSibling)&&!domUtils.isBlockElm(n);)i=n;this.setStartBefore(i);break}i=(n=i).parentNode}for(n=1==(i=this.endContainer).nodeType?((n=i.childNodes[this.endOffset])?i.insertBefore(o,n):i.appendChild(o),i=o):i;;){if(domUtils.isBlockElm(i)){for(i=n;(n=i.nextSibling)&&!domUtils.isBlockElm(n);)i=n;this.setEndAfter(i);break}i=(n=i).parentNode}o.parentNode===this.endContainer&&this.endOffset--,domUtils.remove(o)}if(!this.collapsed){for(;!(0!=this.startOffset||t&&t(this.startContainer)||r(this.startContainer));)this.setStartBefore(this.startContainer);for(;!(this.endOffset!=(1==this.endContainer.nodeType?this.endContainer.childNodes.length:this.endContainer.nodeValue.length)||t&&t(this.endContainer)||r(this.endContainer));)this.setEndAfter(this.endContainer)}return this},enlargeToBlockElm:function(e){for(;!domUtils.isBlockElm(this.startContainer);)this.setStartBefore(this.startContainer);if(!e)for(;!domUtils.isBlockElm(this.endContainer);)this.setEndAfter(this.endContainer);return this},adjustmentBoundary:function(){if(!this.collapsed){for(;!domUtils.isBody(this.startContainer)&&this.startOffset==this.startContainer[3==this.startContainer.nodeType?"nodeValue":"childNodes"].length&&this.startContainer[3==this.startContainer.nodeType?"nodeValue":"childNodes"].length;)this.setStartAfter(this.startContainer);for(;!domUtils.isBody(this.endContainer)&&!this.endOffset&&this.endContainer[3==this.endContainer.nodeType?"nodeValue":"childNodes"].length;)this.setEndBefore(this.endContainer)}return this},applyInlineStyle:function(t,e,n){if(this.collapsed)return this;function i(e){return 1==e.nodeType?"br"!=e.tagName.toLowerCase():!domUtils.isWhitespace(e)}this.trimBoundary().enlarge(!1,function(e){return 1==e.nodeType&&domUtils.isBlockElm(e)}).adjustmentBoundary();for(var r,o,a=this.createBookmark(),s=a.end,l=domUtils.getNextDomNode(a.start,!1,i),d=this.cloneRange();l&&domUtils.getPosition(l,s)&domUtils.POSITION_PRECEDING;)if(3==l.nodeType||dtd[t][l.tagName]){for(d.setStartBefore(l),r=l;r&&(3==r.nodeType||dtd[t]&&dtd[t][r.tagName])&&r!==s;)o=r,r=domUtils.getNextDomNode(r,1==r.nodeType,null,function(e){return dtd[t][e.tagName]});var c,u,f=d.setEndAfter(o).extractContents();if(n&&0<n.length){var m,h;h=m=n[0].cloneNode(!1);for(var p,g=1;p=n[g++];)m.appendChild(p.cloneNode(!1)),m=m.firstChild;c=m}else c=d.document.createElement(t);if(e&&domUtils.setAttributes(c,e),c.appendChild(f),d.insertNode(n?h:c),"span"==t&&e.style&&/text\-decoration/.test(e.style)&&(u=domUtils.findParentByTagName(c,"a",!0))?(domUtils.setAttributes(u,e),domUtils.remove(c,!0),c=u):(domUtils.mergeSibling(c),domUtils.clearEmptySibling(c)),domUtils.mergeChild(c,e),l=domUtils.getNextDomNode(c,!1,i),domUtils.mergeToParent(c),r===s)break}else l=domUtils.getNextDomNode(l,!0,i);return this.moveToBookmark(a)},removeInlineStyle:function(e){if(this.collapsed)return this;e=utils.isArray(e)?e:[e],this.shrinkBoundary().adjustmentBoundary();for(var t=this.startContainer,n=this.endContainer;;){if(1==t.nodeType){if(-1<utils.indexOf(e,t.tagName.toLowerCase()))break;if("body"==t.tagName.toLowerCase()){t=null;break}}t=t.parentNode}for(;;){if(1==n.nodeType){if(-1<utils.indexOf(e,n.tagName.toLowerCase()))break;if("body"==n.tagName.toLowerCase()){n=null;break}}n=n.parentNode}var i,r,o=this.createBookmark();t&&(i=(r=this.cloneRange().setEndBefore(o.start).setStartBefore(t)).extractContents(),r.insertNode(i),domUtils.clearEmptySibling(t,!0),t.parentNode.insertBefore(o.start,t)),n&&(i=(r=this.cloneRange().setStartAfter(o.end).setEndAfter(n)).extractContents(),r.insertNode(i),domUtils.clearEmptySibling(n,!1,!0),n.parentNode.insertBefore(o.end,n.nextSibling));for(var a,s=domUtils.getNextDomNode(o.start,!1,function(e){return 1==e.nodeType});s&&s!==o.end;)a=domUtils.getNextDomNode(s,!0,function(e){return 1==e.nodeType}),-1<utils.indexOf(e,s.tagName.toLowerCase())&&domUtils.remove(s,!0),s=a;return this.moveToBookmark(o)},getClosedNode:function(){var e;if(!this.collapsed){var t=this.cloneRange().adjustmentBoundary().shrinkBoundary();if(lQ(t)){var n=t.startContainer.childNodes[t.startOffset];n&&1==n.nodeType&&(dtd.$empty[n.tagName]||dtd.$nonChild[n.tagName])&&(e=n)}}return e},select:browser.ie?function(e,t){var n;this.collapsed||this.shrinkBoundary();var i=this.getClosedNode();if(i&&!t){try{(n=this.document.body.createControlRange()).addElement(i),n.select()}catch(e){}return this}var r,o=this.createBookmark(),a=o.start;if((n=this.document.body.createTextRange()).moveToElementText(a),n.moveStart("character",1),this.collapsed){if(!e&&3!=this.startContainer.nodeType){var s=this.document.createTextNode(iQ),l=this.document.createElement("span");l.appendChild(this.document.createTextNode(iQ)),a.parentNode.insertBefore(l,a),a.parentNode.insertBefore(s,a),pQ(this.document,s),jQ=s,qQ(l,"previousSibling"),qQ(a,"nextSibling"),n.moveStart("character",-1),n.collapse(!0)}}else{var d=this.document.body.createTextRange();r=o.end,d.moveToElementText(r),n.setEndPoint("EndToEnd",d)}this.moveToBookmark(o),l&&domUtils.remove(l);try{n.select()}catch(e){}return this}:function(e){var t,i,n=domUtils.getWindow(this.document),r=n.getSelection();if(browser.gecko?this.document.body.focus():n.focus(),r){if(r.removeAllRanges(),this.collapsed&&!e){var o=this.startContainer,a=o;1==o.nodeType&&(a=o.childNodes[this.startOffset]),3==o.nodeType&&this.startOffset||(a?a.previousSibling&&3==a.previousSibling.nodeType:o.lastChild&&3==o.lastChild.nodeType)||(t=this.document.createTextNode(iQ),this.insertNode(t),pQ(this.document,t),qQ(t,"previousSibling"),qQ(t,"nextSibling"),jQ=t,this.setStart(t,browser.webkit?1:0).collapse(!0))}var s=this.document.createRange();if(this.collapsed&&browser.opera&&1==this.startContainer.nodeType)if(a=this.startContainer.childNodes[this.startOffset]){for(;a&&domUtils.isBlockElm(a)&&1==a.nodeType&&a.childNodes[0];)a=a.childNodes[0];a&&this.setStartBefore(a).collapse(!0)}else(a=this.startContainer.lastChild)&&domUtils.isBr(a)&&this.setStartBefore(a).collapse(!0);l((i=this).startContainer,i.startOffset,"start"),l(i.endContainer,i.endOffset,"end"),s.setStart(this.startContainer,this.startOffset),s.setEnd(this.endContainer,this.endOffset),r.addRange(s)}function l(e,t,n){3==e.nodeType&&e.nodeValue.length<t&&(i[n+"Offset"]=e.nodeValue.length)}return this},scrollToView:function(e,t){e=e?window:domUtils.getWindow(this.document);var n=this.document.createElement("span");return n.innerHTML="&nbsp;",this.cloneRange().insertNode(n),domUtils.scrollToView(n,e,t),domUtils.remove(n),this},inFillChar:function(){var e=this.startContainer;return!(!this.collapsed||3!=e.nodeType||e.nodeValue.replace(new RegExp("^"+domUtils.fillChar),"").length+1!=e.nodeValue.length)},createAddress:function(e,d){var t={},c=this;function n(e){for(var t,n=e?c.startContainer:c.endContainer,i=domUtils.findParents(n,!0,function(e){return!domUtils.isBody(e)}),r=[],o=0;t=i[o++];)r.push(domUtils.getNodeIndex(t,d));var a=0;if(d)if(3==n.nodeType){for(var s=n.previousSibling;s&&3==s.nodeType;)a+=s.nodeValue.replace(fillCharReg,"").length,s=s.previousSibling;a+=e?c.startOffset:c.endOffset}else if(n=n.childNodes[e?c.startOffset:c.endOffset])a=domUtils.getNodeIndex(n,d);else for(var l=(n=e?c.startContainer:c.endContainer).firstChild;l;)if(domUtils.isFillChar(l))l=l.nextSibling;else if(a++,3==l.nodeType)for(;l&&3==l.nodeType;)l=l.nextSibling;else l=l.nextSibling;else a=e?domUtils.isFillChar(n)?0:c.startOffset:c.endOffset;return a<0&&(a=0),r.push(a),r}return t.startAddress=n(!0),e||(t.endAddress=c.collapsed?[].concat(t.startAddress):n()),t},moveToAddress:function(e,t){var l=this;function n(e,t){for(var n,i,r,o=l.document.body,a=0,s=e.length;a<s;a++)if(r=e[a],!(o=(n=o).childNodes[r])){i=r;break}t?o?l.setStartBefore(o):l.setStart(n,i):o?l.setEndBefore(o):l.setEnd(n,i)}return n(e.startAddress,!0),!t&&e.endAddress&&n(e.endAddress),l},equals:function(e){for(var t in this)if(this.hasOwnProperty(t)&&this[t]!==e[t])return!1;return!0},traversal:function(e,t){if(this.collapsed)return this;for(var n=this.createBookmark(),i=n.end,r=domUtils.getNextDomNode(n.start,!1,t);r&&r!==i&&domUtils.getPosition(r,i)&domUtils.POSITION_PRECEDING;){var o=domUtils.getNextDomNode(r,!1,t);e(r),r=o}return this.moveToBookmark(n)}},(dom.Selection=function(e){var t,n=this;n.document=e,browser.ie9below&&(t=domUtils.getWindow(e).frameElement,domUtils.on(t,"beforedeactivate",function(){n._bakIERange=n.getIERange()}),domUtils.on(t,"activate",function(){try{!MU(n)&&n._bakIERange&&n._bakIERange.select()}catch(e){}n._bakIERange=null})),t=e=null}).prototype={rangeInBody:function(e,t){var n=browser.ie9below||t?e.item?e.item():e.parentElement():e.startContainer;return n===this.document.body||domUtils.inDoc(n,this.document)},getNative:function(){var e=this.document;try{return e?browser.ie9below?e.selection:domUtils.getWindow(e).getSelection():null}catch(e){return null}},getIERange:function(){var e=MU(this);return!e&&this._bakIERange?this._bakIERange:e},cache:function(){this.clear(),this._cachedRange=this.getRange(),this._cachedStartElement=this.getStart(),this._cachedStartElementPath=this.getStartElementPath()},getStartElementPath:function(){if(this._cachedStartElementPath)return this._cachedStartElementPath;var e=this.getStart();return e?domUtils.findParents(e,!0,null,!0):[]},clear:function(){this._cachedStartElementPath=this._cachedRange=this._cachedStartElement=null},isFocus:function(){try{if(browser.ie9below){var e=MU(this);return!(!e||!this.rangeInBody(e))}return!!this.getNative().rangeCount}catch(e){return!1}},getRange:function(){var i=this;function t(e){for(var t=i.document.body.firstChild,n=e.collapsed;t&&t.firstChild;)e.setStart(t,0),t=t.firstChild;e.startContainer||e.setStart(i.document.body,0),n&&e.collapse(!0)}if(null!=i._cachedRange)return this._cachedRange;var n=new baidu.editor.dom.Range(i.document);if(browser.ie9below){var e=i.getIERange();if(e)try{!function(e,t){if(e.item)t.selectNode(e.item(0));else{var n=KU(e,!0);t.setStart(n.container,n.offset),0!=e.compareEndPoints("StartToEnd",e)&&(n=KU(e,!1),t.setEnd(n.container,n.offset))}}(e,n)}catch(e){t(n)}else t(n)}else{var r=i.getNative();if(r&&r.rangeCount){var o=r.getRangeAt(0),a=r.getRangeAt(r.rangeCount-1);n.setStart(o.startContainer,o.startOffset).setEnd(a.endContainer,a.endOffset),n.collapsed&&domUtils.isBody(n.startContainer)&&!n.startOffset&&t(n)}else{if(this._bakRange&&domUtils.inDoc(this._bakRange.startContainer,this.document))return this._bakRange;t(n)}}return this._bakRange=n},getStart:function(){if(this._cachedStartElement)return this._cachedStartElement;var e,t,n,i,r=browser.ie9below?this.getIERange():this.getRange();if(browser.ie9below){if(!r)return this.document.body.firstChild;if(r.item)return r.item(0);for(0<(e=r.duplicate()).text.length&&e.moveStart("character",1),e.collapse(1),t=e.parentElement(),i=n=r.parentElement();n=n.parentNode;)if(n==t){t=i;break}}else if(r.shrinkBoundary(),1==(t=r.startContainer).nodeType&&t.hasChildNodes()&&(t=t.childNodes[Math.min(t.childNodes.length-1,r.startOffset)]),3==t.nodeType)return t.parentNode;return t},getText:function(){var e,t;return this.isFocus()&&(e=this.getNative())?(t=browser.ie9below?e.createRange():e.getRangeAt(0),browser.ie9below?t.text:t.toString()):""},clearRange:function(){this.getNative()[browser.ie9below?"empty":"removeAllRanges"]()}},YV=0,cW=UE.Editor=function(e){var t=this;t.uid=YV++,EventBase.call(t),t.commands={},t.options=utils.extend(utils.clone(e||{}),UEDITOR_CONFIG,!0),t.shortcutkeys={},t.inputRules=[],t.outputRules=[],t.setOpt(cW.defaultOptions(t)),t.loadServerConfig(),utils.isEmptyObject(UE.I18N)?utils.loadFile(document,{src:t.options.langPath+t.options.lang+"/"+t.options.lang+".js",tag:"script",type:"text/javascript",defer:"defer"},function(){UE.plugin.load(t),bW(t)}):(t.options.lang=function(e){for(var t in e)return t}(UE.I18N),UE.plugin.load(t),bW(t)),UE.instants["ueditorInstant"+t.uid]=t},cW.prototype={registerCommand:function(e,t){this.commands[e]=t},ready:function(e){e&&(this.isReady?e.apply(this):this.addListener("ready",e))},setOpt:function(e,t){var n={};utils.isString(e)?n[e]=t:n=e,utils.extend(this.options,n,!0)},getOpt:function(e){return this.options[e]},destroy:function(){var e=this;e.fireEvent("destroy");var t=e.container.parentNode,n=e.textarea;n?n.style.display="":(n=document.createElement("textarea"),t.parentNode.insertBefore(n,t)),n.style.width=e.iframe.offsetWidth+"px",n.style.height=e.iframe.offsetHeight+"px",n.value=e.getContent(),n.id=e.key,t.innerHTML="",domUtils.remove(t);var i=e.key;for(var r in e)e.hasOwnProperty(r)&&delete this[r];UE.delEditor(i)},render:function(t){function e(e){return parseInt(domUtils.getComputedStyle(t,e))}var n=this.options;if(utils.isString(t)&&(t=document.getElementById(t)),t){n.initialFrameWidth?n.minFrameWidth=n.initialFrameWidth:n.minFrameWidth=n.initialFrameWidth=t.offsetWidth,n.initialFrameHeight?n.minFrameHeight=n.initialFrameHeight:n.initialFrameHeight=n.minFrameHeight=t.offsetHeight,t.style.width=/%$/.test(n.initialFrameWidth)?"100%":n.initialFrameWidth-e("padding-left")-e("padding-right")+"px",t.style.height=/%$/.test(n.initialFrameHeight)?"100%":n.initialFrameHeight-e("padding-top")-e("padding-bottom")+"px",t.style.zIndex=n.zIndex;var i=(ie&&browser.version<9?"":"<!DOCTYPE html>")+"<html xmlns='http://www.w3.org/1999/xhtml' class='view' ><head><style type='text/css'>.view{padding:0;word-wrap:break-word;cursor:text;height:90%;}\nbody{margin:8px;font-family:sans-serif;font-size:16px;}p{margin:5px 0;}</style>"+(n.iframeCssUrl?"<link rel='stylesheet' type='text/css' href='"+utils.unhtml(n.iframeCssUrl)+"'/>":"")+(n.initialStyle?"<style>"+n.initialStyle+"</style>":"")+"</head><body class='view' ></body><script type='text/javascript' "+(ie?"defer='defer'":"")+" id='_initialScript'>setTimeout(function(){editor = window.parent.UE.instants['ueditorInstant"+this.uid+"'];editor._setup(document);},0);var _tmpScript = document.getElementById('_initialScript');_tmpScript.parentNode.removeChild(_tmpScript);<\/script></html>";t.appendChild(domUtils.createElement(document,"iframe",{id:"ueditor_"+this.uid,width:"100%",height:"100%",frameborder:"0",src:"javascript:void(function(){document.open();"+(n.customDomain&&document.domain!=location.hostname?'document.domain="'+document.domain+'";':"")+'document.write("'+i+'");document.close();}())'})),t.style.overflow="hidden",setTimeout(function(){/%$/.test(n.initialFrameWidth)&&(n.minFrameWidth=n.initialFrameWidth=t.offsetWidth),/%$/.test(n.initialFrameHeight)&&(n.minFrameHeight=n.initialFrameHeight=t.offsetHeight,t.style.height=n.initialFrameHeight+"px")})}},_setup:function(e){var t,n=this,i=n.options;ie?(e.body.disabled=!0,e.body.contentEditable=!0,e.body.disabled=!1):e.body.contentEditable=!0,e.body.spellcheck=!1,n.document=e,n.window=e.defaultView||e.parentWindow,n.iframe=n.window.frameElement,n.body=e.body,n.selection=new dom.Selection(e),browser.gecko&&(t=this.selection.getNative())&&t.removeAllRanges(),this._initEvents();for(var r=this.iframe.parentNode;!domUtils.isBody(r);r=r.parentNode)if("FORM"==r.tagName){n.form=r,n.options.autoSyncData?domUtils.on(n.window,"blur",function(){$V(r,n)}):domUtils.on(r,"submit",function(){$V(this,n)});break}if(i.initialContent)if(i.autoClearinitialContent){var o=n.execCommand;n.execCommand=function(){return n.fireEvent("firstBeforeExecCommand"),o.apply(n,arguments)},this._setDefaultContent(i.initialContent)}else this.setContent(i.initialContent,!1,!0);domUtils.isEmptyNode(n.body)&&(n.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>"),i.focus&&setTimeout(function(){n.focus(n.options.focusInEnd),n.options.autoClearinitialContent||n._selectionChange()},0),n.container||(n.container=this.iframe.parentNode),i.fullscreen&&n.ui&&n.ui.setFullScreen(!0);try{n.document.execCommand("2D-position",!1,!1)}catch(e){}try{n.document.execCommand("enableInlineTableEditing",!1,!1)}catch(e){}try{n.document.execCommand("enableObjectResizing",!1,!1)}catch(e){}if(n._bindshortcutKeys(),n.isReady=1,n.fireEvent("ready"),i.onready&&i.onready.call(n),browser.ie9below||domUtils.on(n.window,["blur","focus"],function(e){if("blur"==e.type){n._bakRange=n.selection.getRange();try{n._bakNativeRange=n.selection.getNative().getRangeAt(0),n.selection.getNative().removeAllRanges()}catch(e){n._bakNativeRange=null}}else try{n._bakRange&&n._bakRange.select()}catch(e){}}),browser.gecko&&browser.version<=10902){n.body.contentEditable=!1,setTimeout(function(){n.body.contentEditable=!0},100);var a=setInterval(function(){if(!n.body)return clearInterval(a);n.body.style.height=n.iframe.offsetHeight-20+"px"},100)}i.isShow||n.setHide(),i.readonly&&n.setDisabled()},sync:function(e){var t=e?document.getElementById(e):domUtils.findParent(this.iframe.parentNode,function(e){return"FORM"==e.tagName},!0);t&&$V(t,this)},setHeight:function(e,t){e!==parseInt(this.iframe.parentNode.style.height)&&(this.iframe.parentNode.style.height=e+"px"),t||(this.options.minFrameHeight=this.options.initialFrameHeight=e),this.body.style.height=e+"px",t||this.trigger("setHeight")},addshortcutkey:function(e,t){var n={};t?n[e]=t:n=e,utils.extend(this.shortcutkeys,n)},_bindshortcutKeys:function(){var d=this,c=this.shortcutkeys;d.addListener("keydown",function(e,t){var n=t.keyCode||t.which;for(var i in c)for(var r,o=c[i].split(","),a=0;r=o[a++];){var s=(r=r.split(":"))[0],l=r[1];(/^(ctrl)(\+shift)?\+(\d+)$/.test(s.toLowerCase())||/^(\d+)$/.test(s))&&(("ctrl"!=RegExp.$1||!t.ctrlKey&&!t.metaKey||""!=RegExp.$2&&!t[RegExp.$2.slice(1)+"Key"]||n!=RegExp.$3)&&n!=RegExp.$1||(-1!=d.queryCommandState(i,l)&&d.execCommand(i,l),domUtils.preventDefault(t)))}})},getContent:function(e,t,n,i,r){if(e&&utils.isFunction(e)&&(t=e,e=""),t?!t():!this.hasContents())return"";this.fireEvent("beforegetcontent");var o=UE.htmlparser(this.body.innerHTML,i);return this.filterOutputRule(o),this.fireEvent("aftergetcontent",e,o),o.toHtml(r)},getAllHtml:function(){var e=this,t=[];if(e.fireEvent("getAllHtml",t),browser.ie&&8<browser.version){var n="";utils.each(e.document.styleSheets,function(e){n+=e.href?'<link rel="stylesheet" type="text/css" href="'+e.href+'" />':"<style>"+e.cssText+"</style>"}),utils.each(e.document.getElementsByTagName("script"),function(e){n+=e.outerHTML})}return"<html><head>"+(e.options.charset?'<meta http-equiv="Content-Type" content="text/html; charset='+e.options.charset+'"/>':"")+(n||e.document.getElementsByTagName("head")[0].innerHTML)+t.join("\n")+"</head><body "+(ie&&browser.version<9?'class="view"':"")+">"+e.getContent(null,null,!0)+"</body></html>"},getPlainTxt:function(){var e=new RegExp(domUtils.fillChar,"g"),t=this.body.innerHTML.replace(/[\n\r]/g,"");return(t=t.replace(/<(p|div)[^>]*>(<br\/?>|&nbsp;)<\/\1>/gi,"\n").replace(/<br\/?>/gi,"\n").replace(/<[^>/]+>/g,"").replace(/(\n)?<\/([^>]+)>/g,function(e,t,n){return dtd.$block[n]?"\n":t||""})).replace(e,"").replace(/\u00a0/g," ").replace(/&nbsp;/g," ")},getContentTxt:function(){var e=new RegExp(domUtils.fillChar,"g");return this.body[browser.ie?"innerText":"textContent"].replace(e,"").replace(/\u00a0/g," ")},setContent:function(e,t,n){var i=this;i.fireEvent("beforesetcontent",e);var r,o,a=UE.htmlparser(e);if(i.filterInputRule(a),e=a.toHtml(),i.body.innerHTML=(t?i.body.innerHTML:"")+e,"p"==i.options.enterTag){var s,l=this.body.firstChild;if(!l||1==l.nodeType&&(dtd.$cdata[l.tagName]||"DIV"==(r=l).tagName&&r.getAttribute("cdata_tag")||domUtils.isCustomeNode(l))&&l===this.body.lastChild)this.body.innerHTML="<p>"+(browser.ie?"&nbsp;":"<br/>")+"</p>"+this.body.innerHTML;else for(var d=i.document.createElement("p");l;){for(;l&&(3==l.nodeType||1==l.nodeType&&dtd.p[l.tagName]&&!dtd.$cdata[l.tagName]);)s=l.nextSibling,d.appendChild(l),l=s;if(d.firstChild){if(!l){i.body.appendChild(d);break}l.parentNode.insertBefore(d,l),d=i.document.createElement("p")}l=l.nextSibling}}i.fireEvent("aftersetcontent"),i.fireEvent("contentchange"),n||i._selectionChange(),i._bakRange=i._bakIERange=i._bakNativeRange=null,browser.gecko&&(o=this.selection.getNative())&&o.removeAllRanges(),i.options.autoSyncData&&i.form&&$V(i.form,i)},focus:function(e){try{var t,n=this.selection.getRange();if(e)(t=this.body.lastChild)&&1==t.nodeType&&!dtd.$empty[t.tagName]&&(domUtils.isEmptyBlock(t)?n.setStartAtFirst(t):n.setStartAtLast(t),n.collapse(!0)),n.setCursor(!0);else!n.collapsed&&domUtils.isBody(n.startContainer)&&0==n.startOffset&&(t=this.body.firstChild)&&1==t.nodeType&&!dtd.$empty[t.tagName]&&n.setStartAtFirst(t).collapse(!0),n.select(!0);this.fireEvent("focus selectionchange")}catch(e){}},isFocus:function(){return this.selection.isFocus()},blur:function(){var e=this.selection.getNative();if(e.empty&&browser.ie){var t=document.body.createTextRange();t.moveToElementText(document.body),t.collapse(!0),t.select(),e.empty()}else e.removeAllRanges()},_initEvents:function(){var t=this,e=t.document,n=t.window;t._proxyDomEvent=utils.bind(t._proxyDomEvent,t),domUtils.on(e,["click","contextmenu","mousedown","keydown","keyup","keypress","mouseup","mouseover","mouseout","selectstart"],t._proxyDomEvent),domUtils.on(n,["focus","blur"],t._proxyDomEvent),domUtils.on(t.body,"drop",function(e){browser.gecko&&e.stopPropagation&&e.stopPropagation(),t.fireEvent("contentchange")}),domUtils.on(e,["mouseup","keydown"],function(e){"keydown"==e.type&&(e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)||2!=e.button&&t._selectionChange(250,e)})},_proxyDomEvent:function(e){return!1!==this.fireEvent("before"+e.type.replace(/^on/,"").toLowerCase())&&!1!==this.fireEvent(e.type.replace(/^on/,""),e)&&this.fireEvent("after"+e.type.replace(/^on/,"").toLowerCase())},_selectionChange:function(e,n){var i,r,o=this,a=!1;browser.ie&&browser.version<9&&n&&"mouseup"==n.type&&(this.selection.getRange().collapsed||(a=!0,i=n.clientX,r=n.clientY)),clearTimeout(ZV),ZV=setTimeout(function(){if(o.selection&&o.selection.getNative()){var t,e;if(a&&"None"==o.selection.getNative().type){t=o.document.body.createTextRange();try{t.moveToPoint(i,r)}catch(e){t=null}}t&&(e=o.selection.getIERange,o.selection.getIERange=function(){return t}),o.selection.cache(),e&&(o.selection.getIERange=e),o.selection._cachedRange&&o.selection._cachedStartElement&&(o.fireEvent("beforeselectionchange"),o.fireEvent("selectionchange",!!n),o.fireEvent("afterselectionchange"),o.selection.clear())}},e||50)},_callCmdFn:function(e,t){var n,i,r=t[0].toLowerCase();return i=(n=this.commands[r]||UE.commands[r])&&n[e],n&&i||"queryCommandState"!=e?i?i.apply(this,t):void 0:0},execCommand:function(e){e=e.toLowerCase();var t,n=this,i=n.commands[e]||UE.commands[e];return i&&i.execCommand?(i.notNeedUndo||n.__hasEnterExecCommand?(t=this._callCmdFn("execCommand",arguments),n.__hasEnterExecCommand||i.ignoreContentChange||n._ignoreContentChange||n.fireEvent("contentchange")):(n.__hasEnterExecCommand=!0,-1!=n.queryCommandState.apply(n,arguments)&&(n.fireEvent("saveScene"),n.fireEvent.apply(n,["beforeexeccommand",e].concat(arguments)),t=this._callCmdFn("execCommand",arguments),n.fireEvent.apply(n,["afterexeccommand",e].concat(arguments)),n.fireEvent("saveScene")),n.__hasEnterExecCommand=!1),n.__hasEnterExecCommand||i.ignoreContentChange||n._ignoreContentChange||n._selectionChange(),t):null},queryCommandState:function(e){return this._callCmdFn("queryCommandState",arguments)},queryCommandValue:function(e){return this._callCmdFn("queryCommandValue",arguments)},hasContents:function(e){if(e)for(var t,n=0;t=e[n++];)if(0<this.document.getElementsByTagName(t).length)return!0;if(!domUtils.isEmptyBlock(this.body))return!0;for(e=["div"],n=0;t=e[n++];)for(var i,r=domUtils.getElementsByTagName(this.document,t),o=0;i=r[o++];)if(domUtils.isCustomeNode(i))return!0;return!1},reset:function(){this.fireEvent("reset")},setEnabled:function(){var t,n=this;if(n.body&&"false"==n.body.contentEditable){n.body.contentEditable=!0,t=n.selection.getRange();try{t.moveToBookmark(n.lastBk),delete n.lastBk}catch(e){t.setStartAtFirst(n.body).collapse(!0)}t.select(!0),n.bkqueryCommandState&&(n.queryCommandState=n.bkqueryCommandState,delete n.bkqueryCommandState),n.bkqueryCommandValue&&(n.queryCommandValue=n.bkqueryCommandValue,delete n.bkqueryCommandValue),n.fireEvent("selectionchange")}},enable:function(){return this.setEnabled()},setDisabled:function(t){var n=this;t=t?utils.isArray(t)?t:[t]:[],"true"==n.body.contentEditable&&(n.lastBk||(n.lastBk=n.selection.getRange().createBookmark(!0)),n.body.contentEditable=!1,n.bkqueryCommandState=n.queryCommandState,n.bkqueryCommandValue=n.queryCommandValue,n.queryCommandState=function(e){return-1!=utils.indexOf(t,e)?n.bkqueryCommandState.apply(n,arguments):-1},n.queryCommandValue=function(e){return-1!=utils.indexOf(t,e)?n.bkqueryCommandValue.apply(n,arguments):null},n.fireEvent("selectionchange"))},disable:function(e){return this.setDisabled(e)},_setDefaultContent:function(e){this.body.innerHTML='<p id="initContent">'+e+"</p>",this.addListener("firstBeforeExecCommand focus",pZ)},setShow:function(){var t=this,n=t.selection.getRange();if("none"==t.container.style.display){try{n.moveToBookmark(t.lastBk),delete t.lastBk}catch(e){n.setStartAtFirst(t.body).collapse(!0)}setTimeout(function(){n.select(!0)},100),t.container.style.display=""}},show:function(){return this.setShow()},setHide:function(){this.lastBk||(this.lastBk=this.selection.getRange().createBookmark(!0)),this.container.style.display="none"},hide:function(){return this.setHide()},getLang:function(e){if(this.options){var t=this.options?UE.I18N[this.options.lang]:"";if(!t)throw Error("not import language file");e=(e||"").split(".");for(var n,i=0;(n=e[i++])&&(t=t[n]););return t}},getContentLength:function(e,t){var n=this.getContent(!1,!1,!0).length;if(e){t=(t||[]).concat(["hr","img","iframe"]),n=this.getContentTxt().replace(/[\t\r\n]+/g,"").length;for(var i,r=0;i=t[r++];)n+=this.document.getElementsByTagName(i).length}return n},addInputRule:function(e){this.inputRules.push(e)},filterInputRule:function(e){for(var t,n=0;t=this.inputRules[n++];)t.call(this,e)},addOutputRule:function(e){this.outputRules.push(e)},filterOutputRule:function(e){for(var t,n=0;t=this.outputRules[n++];)t.call(this,e)},getActionUrl:function(e){var t=this.getOpt(e)||e,n=this.getOpt("imageUrl"),i=this.getOpt("serverUrl");return!i&&n&&(i=n.replace(/^(.*[\/]).+([\.].+)$/,"$1controller$2")),i?(i=i+(-1==i.indexOf("?")?"?":"&")+"action="+(t||""),utils.formatUrl(i)):""}},utils.inherits(cW,EventBase),UE.Editor.defaultOptions=function(e){var t=e.options.UEDITOR_HOME_URL;return console.log(t),console.log("编辑器配置路径1"),{isShow:!0,initialContent:"",initialStyle:"",autoClearinitialContent:!1,iframeCssUrl:"./"+t+"themes/iframe.css",textarea:"editorValue",focus:!1,focusInEnd:!0,autoClearEmptyNode:!0,fullscreen:!1,readonly:!1,zIndex:999,imagePopup:!0,enterTag:"p",customDomain:!1,lang:"zh-cn",langPath:t+"lang/",theme:"default",themePath:t+"themes/",allHtmlEnabled:!1,scaleEnabled:!1,tableNativeEditInFF:!1,autoSyncData:!0,fileNameFormat:"{time}{rand:6}"}},UE.Editor.prototype.loadServerConfig=function(){var t=this;setTimeout(function(){try{t.options.imageUrl&&t.setOpt("serverUrl",t.options.imageUrl.replace(/^(.*[\/]).+([\.].+)$/,"$1controller$2"));var e=t.getActionUrl("config");utils.isCrossDomainUrl(e),t._serverConfigLoaded=!1,t.fireEvent("serverConfigLoaded"),t._serverConfigLoaded=!0}catch(e){!function(e){console&&console.error(e)}(t.getLang("loadconfigError"))}})},UE.Editor.prototype.isServerConfigLoaded=function(){return this._serverConfigLoaded||!1},UE.Editor.prototype.afterConfigReady=function(t){if(t&&utils.isFunction(t)){var n=this;n.isServerConfigLoaded()?t.call(n,"serverConfigLoaded"):n.addListener("serverConfigLoaded",function e(){t.apply(n,arguments),n.removeListener("serverConfigLoaded",e)})}},UE.ajax=function(){var t="XMLHttpRequest()";try{new ActiveXObject("Msxml2.XMLHTTP"),t="ActiveXObject('Msxml2.XMLHTTP')"}catch(e){try{new ActiveXObject("Microsoft.XMLHTTP"),t="ActiveXObject('Microsoft.XMLHTTP')"}catch(e){}}var c=new Function("return new "+t);function v(e){var t=[];for(var n in e)if("method"!=n&&"timeout"!=n&&"async"!=n&&"dataType"!=n&&"callback"!=n&&null!=e[n]&&null!=e[n])if("function"!=_typeof(e[n]).toLowerCase()&&"object"!=_typeof(e[n]).toLowerCase())t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));else if(utils.isArray(e[n]))for(var i=0;i<e[n].length;i++)t.push(encodeURIComponent(n)+"[]="+encodeURIComponent(e[n][i]));return t.join("&")}function i(e,t){var n,i,r,o=t.onsuccess||function(){},a=document.createElement("SCRIPT"),s=t||{},l=s.charset,d=s.jsonp||"callback",c=s.timeOut||0,u=new RegExp("(\\?|&)"+d+"=([^&]*)");utils.isFunction(o)?(n="bd__editor__"+Math.floor(2147483648*Math.random()).toString(36),window[n]=g(0)):utils.isString(o)?n=o:(r=u.exec(e))&&(n=r[2]),(e=e.replace(u,"$1"+d+"="+n)).search(u)<0&&(e+=(e.indexOf("?")<0?"?":"&")+d+"="+n);var f,m,h,p=v(t);function g(e){return function(){try{if(e)s.onerror&&s.onerror();else try{clearTimeout(i),o.apply(window,arguments)}catch(e){}}catch(e){s.onerror&&s.onerror.call(window,e)}finally{s.oncomplete&&s.oncomplete.apply(window,arguments),a.parentNode&&a.parentNode.removeChild(a),window[n]=null;try{delete window[n]}catch(e){}}}}utils.isEmptyObject(t.data)||(p+=(p?"&":"")+v(t.data)),p&&(e=e.replace(/\?/,"?"+p+"&")),a.onerror=g(1),c&&(i=setTimeout(g(1),c)),m=e,h=l,(f=a).setAttribute("type","text/javascript"),f.setAttribute("defer","defer"),h&&f.setAttribute("charset",h),f.setAttribute("src",m),document.getElementsByTagName("head")[0].appendChild(f)}return{request:function(e,t){t&&"jsonp"==t.dataType?i(e,t):function(e,t){var n=c(),i=!1,r={method:"POST",timeout:5e3,async:!0,data:{},onsuccess:function(){},onerror:function(){}};if("object"===(void 0===e?"undefined":_typeof(e))&&(e=(t=e).url),n&&e){var o=t?utils.extend(r,t):r,a=v(o);utils.isEmptyObject(o.data)||(a+=(a?"&":"")+v(o.data));var s=setTimeout(function(){4!=n.readyState&&(i=!0,n.abort(),clearTimeout(s))},o.timeout),l=o.method.toUpperCase(),d=e+(-1==e.indexOf("?")?"?":"&")+("POST"==l?"":a+"&noCache="+ +new Date);n.open(l,d,o.async),n.setRequestHeader("Authorization",function(e){var t=new RegExp("[?&]s*"+e+"s*=([^&$#]*)","i"),n=location.pathname&&"/"!==location.pathname?location.pathname:location.search,i=t.exec(n);if(i&&2===i.length)return"ak"===e&&window.sessionStorage.setItem("ak",i[1]),decodeURIComponent(i[1])}("ak")||sessionStorage.getItem("ak")),n.withCredentials=!0,n.onreadystatechange=function(){4==n.readyState&&(i||200!=n.status?o.onerror(n):o.onsuccess(n))},"POST"==l?n.send(o.data):n.send(null)}}(e,t)},getJSONP:function(e,t,n){i(e,{data:t,oncomplete:n})}}}();var filterWord=UE.filterWord=function(e){return function(e){return/(class="?Mso|style="[^"]*\bmso\-|w:WordDocument|<(v|o):|lang=)/gi.test(e)}(e)?function(e){return e.replace(/[\t\r\n]+/g," ").replace(/<!--[\s\S]*?-->/gi,"").replace(/<v:shape [^>]*>[\s\S]*?.<\/v:shape>/gi,function(e){if(browser.opera)return"";try{if(/Bitmap/i.test(e))return"";var t=e.match(/width:([ \d.]*p[tx])/i)[1],n=e.match(/height:([ \d.]*p[tx])/i)[1],i=e.match(/src=\s*"([^"]*)"/i)[1];return'<img width="'+t_(t)+'" height="'+t_(n)+'" src="'+i+'" />'}catch(e){return""}}).replace(/<\/?div[^>]*>/g,"").replace(/v:\w+=(["']?)[^'"]+\1/g,"").replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|xml|meta|link|style|\w+:\w+)(?=[\s\/>]))[^>]*>/gi,"").replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1</strong></p>").replace(/\s+(class|lang|align)\s*=\s*(['"]?)([\w-]+)\2/gi,function(e,t,n,i){return"class"==t&&"MsoListParagraph"==i?e:""}).replace(/<(font|span)[^>]*>(\s*)<\/\1>/gi,function(e,t,n){return n.replace(/[\t\r\n ]+/g," ")}).replace(/(<[a-z][^>]*)\sstyle=(["'])([^\2]*?)\2/gi,function(e,t,n,i){for(var r,o=[],a=i.replace(/^\s+|\s+$/,"").replace(/&#39;/g,"'").replace(/&quot;/gi,"'").replace(/[\d.]+(cm|pt)/g,function(e){return utils.transUnitToPx(e)}).split(/;\s*/g),s=0;r=a[s];s++){var l,d,c=r.split(":");if(2==c.length){if(l=c[0].toLowerCase(),d=c[1].toLowerCase(),/^(background)\w*/.test(l)&&0==d.replace(/(initial|\s)/g,"").length||/^(margin)\w*/.test(l)&&/^0\w+$/.test(d))continue;switch(l){case"mso-padding-alt":case"mso-padding-top-alt":case"mso-padding-right-alt":case"mso-padding-bottom-alt":case"mso-padding-left-alt":case"mso-margin-alt":case"mso-margin-top-alt":case"mso-margin-right-alt":case"mso-margin-bottom-alt":case"mso-margin-left-alt":case"mso-height":case"mso-width":case"mso-vertical-align-alt":/<table/.test(t)||(o[s]=l.replace(/^mso-|-alt$/g,"")+":"+t_(d));continue;case"horiz-align":o[s]="text-align:"+d;continue;case"vert-align":o[s]="vertical-align:"+d;continue;case"font-color":case"mso-foreground":o[s]="color:"+d;continue;case"mso-background":case"mso-highlight":o[s]="background:"+d;continue;case"mso-default-height":o[s]="min-height:"+t_(d);continue;case"mso-default-width":o[s]="min-width:"+t_(d);continue;case"mso-padding-between-alt":o[s]="border-collapse:separate;border-spacing:"+t_(d);continue;case"text-line-through":"single"!=d&&"double"!=d||(o[s]="text-decoration:line-through");continue;case"mso-zero-height":"yes"==d&&(o[s]="display:none");continue;case"margin":if(!/[1-9]/.test(d))continue}if(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?:decor|trans)|top-bar|version|vnd|word-break)/.test(l)||/text\-indent|padding|margin/.test(l)&&/\-[\d.]+/.test(d))continue;o[s]=l+":"+c[1]}}return t+(o.length?' style="'+o.join(";").replace(/;{2,}/g,";")+'"':"")})}(e):e},Y_,Z_,$_,__,a0;function t_(e){return e=e.replace(/[\d.]+\w+/g,function(e){return utils.transUnitToPx(e)})}function b0(e,t,n){return e.push(a0),t+(n?1:-1)}function c0(e,t){for(var n=0;n<t;n++)e.push(__)}function d0(e,t,n,i){switch(e.type){case"root":for(var r,o=0;r=e.children[o++];)n&&"element"==r.type&&!dtd.$inlineWithA[r.tagName]&&1<o&&(b0(t,i,!0),c0(t,i)),d0(r,t,n,i);break;case"text":!function(e,t){"pre"==e.parentNode.tagName?t.push(e.data):t.push($_[e.parentNode.tagName]?utils.html(e.data):e.data.replace(/[ ]{2}/g," &nbsp;"))}(e,t);break;case"element":!function(e,t,n,i){var r="";if(e.attrs){r=[];var o=e.attrs;for(var a in o)r.push(a+(void 0!==o[a]?'="'+(Z_[a]?utils.html(o[a]).replace(/["]/g,function(e){return"&quot;"}):utils.unhtml(o[a]))+'"':""));r=r.join(" ")}t.push("<"+e.tagName+(r?" "+r:"")+(dtd.$empty[e.tagName]?"/":"")+">"),!n||dtd.$inlineWithA[e.tagName]||"pre"==e.tagName||e.children&&e.children.length&&(i=b0(t,i,!0),c0(t,i));if(e.children&&e.children.length)for(var s,l=0;s=e.children[l++];)n&&"element"==s.type&&!dtd.$inlineWithA[s.tagName]&&1<l&&(b0(t,i),c0(t,i)),d0(s,t,n,i);dtd.$empty[e.tagName]||(n&&!dtd.$inlineWithA[e.tagName]&&"pre"!=e.tagName&&e.children&&e.children.length&&(i=b0(t,i),c0(t,i)),t.push("</"+e.tagName+">"))}(e,t,n,i);break;case"comment":!function(e,t){t.push("\x3c!--"+e.data+"--\x3e")}(e,t)}return t}function h0(e,t){var n;if("element"==e.type&&e.getAttr("id")==t)return e;if(e.children&&e.children.length)for(var i,r=0;i=e.children[r++];)if(n=h0(i,t))return n}function i0(e,t,n){if("element"==e.type&&e.tagName==t&&n.push(e),e.children&&e.children.length)for(var i,r=0;i=e.children[r++];)i0(i,t,n)}Y_=UE.uNode=function(e){this.type=e.type,this.data=e.data,this.tagName=e.tagName,this.parentNode=e.parentNode,this.attrs=e.attrs||{},this.children=e.children},Z_={href:1,src:1,_src:1,_href:1,cdata_data:1},$_={style:1,script:1},__="    ",a0="\n",Y_.createElement=function(e){return/[<>]/.test(e)?UE.htmlparser(e).children[0]:new Y_({type:"element",children:[],tagName:e})},Y_.createText=function(e,t){return new UE.uNode({type:"text",data:t?e:utils.unhtml(e||"")})},Y_.prototype={toHtml:function(e){var t=[];return d0(this,t,e,0),t.join("")},innerHTML:function(e){if("element"!=this.type||dtd.$empty[this.tagName])return this;if(utils.isString(e)){if(this.children)for(var t=0;n=this.children[t++];)n.parentNode=null;this.children=[];var n,i=UE.htmlparser(e);for(t=0;n=i.children[t++];)this.children.push(n),n.parentNode=this;return this}return(i=new UE.uNode({type:"root",children:this.children})).toHtml()},innerText:function(e,t){if("element"!=this.type||dtd.$empty[this.tagName])return this;if(e){if(this.children)for(var n,i=0;n=this.children[i++];)n.parentNode=null;return this.children=[],this.appendChild(Y_.createText(e,t)),this}return this.toHtml().replace(/<[^>]+>/g,"")},getData:function(){return"element"==this.type?"":this.data},firstChild:function(){return this.children?this.children[0]:null},lastChild:function(){return this.children?this.children[this.children.length-1]:null},previousSibling:function(){for(var e,t=this.parentNode,n=0;e=t.children[n];n++)if(e===this)return 0==n?null:t.children[n-1]},nextSibling:function(){for(var e,t=this.parentNode,n=0;e=t.children[n++];)if(e===this)return t.children[n]},replaceChild:function(e,t){if(this.children){e.parentNode&&e.parentNode.removeChild(e);for(var n,i=0;n=this.children[i];i++)if(n===t)return this.children.splice(i,1,e),t.parentNode=null,e.parentNode=this,e}},appendChild:function(e){if("root"==this.type||"element"==this.type&&!dtd.$empty[this.tagName]){this.children||(this.children=[]),e.parentNode&&e.parentNode.removeChild(e);for(var t,n=0;t=this.children[n];n++)if(t===e){this.children.splice(n,1);break}return this.children.push(e),e.parentNode=this,e}},insertBefore:function(e,t){if(this.children){e.parentNode&&e.parentNode.removeChild(e);for(var n,i=0;n=this.children[i];i++)if(n===t)return this.children.splice(i,0,e),e.parentNode=this,e}},insertAfter:function(e,t){if(this.children){e.parentNode&&e.parentNode.removeChild(e);for(var n,i=0;n=this.children[i];i++)if(n===t)return this.children.splice(i+1,0,e),e.parentNode=this,e}},removeChild:function(e,t){if(this.children)for(var n,i=0;n=this.children[i];i++)if(n===e){if(this.children.splice(i,1),n.parentNode=null,t&&n.children&&n.children.length)for(var r,o=0;r=n.children[o];o++)this.children.splice(i+o,0,r),r.parentNode=this;return n}},getAttr:function(e){return this.attrs&&this.attrs[e.toLowerCase()]},setAttr:function(e,t){if(e)if(this.attrs||(this.attrs={}),utils.isObject(e))for(var n in e)e[n]?this.attrs[n.toLowerCase()]=e[n]:delete this.attrs[n];else t?this.attrs[e.toLowerCase()]=t:delete this.attrs[e];else delete this.attrs},getIndex:function(){for(var e,t=this.parentNode,n=0;e=t.children[n];n++)if(e===this)return n;return-1},getNodeById:function(e){var t;if(this.children&&this.children.length)for(var n,i=0;n=this.children[i++];)if(t=h0(n,e))return t},getNodesByTagName:function(e){e=utils.trim(e).replace(/[ ]{2,}/g," ").split(" ");var i=[],r=this;return utils.each(e,function(e){if(r.children&&r.children.length)for(var t,n=0;t=r.children[n++];)i0(t,e,i)}),i},getStyle:function(e){var t=this.getAttr("style");if(!t)return"";var n=new RegExp("(^|;)\\s*"+e+":([^;]+)","i"),i=t.match(n);return i&&i[0]?i[2]:""},setStyle:function(e,t){function n(e,t){var n=new RegExp("(^|;)\\s*"+e+":([^;]+;?)","gi");i=i.replace(n,"$1"),t&&(i=e+":"+utils.unhtml(t)+";"+i)}var i=this.getAttr("style");if(i=i||"",utils.isObject(e))for(var r in e)n(r,e[r]);else n(e,t);this.setAttr("style",utils.trim(i))},traversal:function(e){return this.children&&this.children.length&&function e(t,n){if(t.children&&t.children.length)for(var i,r=0;i=t.children[r];)e(i,n),i.parentNode&&(i.children&&i.children.length&&n(i),i.parentNode&&r++);else n(t)}(this,e),this}};var htmlparser=UE.htmlparser=function(e,n){var t=/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)-->)|(?:([^\s\/<>]+)\s*((?:(?:"[^"]*")|(?:'[^']*')|[^"'<>])*)\/?>))/g,d=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,i={b:1,code:1,i:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,span:1,sub:1,img:1,sup:1,font:1,big:1,small:1,iframe:1,a:1,br:1,pre:1};e=e.replace(new RegExp(domUtils.fillChar,"g"),""),n||(e=e.replace(new RegExp("[\\r\\t\\n"+(n?"":" ")+"]*</?(\\w+)\\s*(?:[^>]*)>[\\r\\t\\n"+(n?"":" ")+"]*","g"),function(e,t){return t&&i[t.toLowerCase()]?e.replace(/(^[\n\r]+)|([\n\r]+$)/g,""):e.replace(new RegExp("^[\\r\\n"+(n?"":" ")+"]+"),"").replace(new RegExp("[\\r\\n"+(n?"":" ")+"]+$"),"")}));var c={href:1,src:1},u=UE.uNode,f={td:"tr",tr:["tbody","thead","tfoot"],tbody:"table",th:"tr",thead:"table",tfoot:"table",caption:"table",li:["ul","ol"],dt:"dl",dd:"dl",option:"select"},r={ol:"li",ul:"li"};function o(e,t){if(r[e.tagName]){var n=u.createElement(r[e.tagName]);e.appendChild(n),n.appendChild(u.createText(t)),e=n}else e.appendChild(u.createText(t))}function m(e,t,n){var i;if(i=f[t]){for(var r,o=e;"root"!=o.type;){if(utils.isArray(i)?-1!=utils.indexOf(i,o.tagName):i==o.tagName){e=o,r=!0;break}o=o.parentNode}r||(e=m(e,utils.isArray(i)?i[0]:i))}var a=new u({parentNode:e,type:"element",tagName:t.toLowerCase(),children:dtd.$empty[t]?null:[]});if(n){for(var s,l={};s=d.exec(n);)l[s[1].toLowerCase()]=c[s[1].toLowerCase()]?s[2]||s[3]||s[4]:utils.unhtml(s[2]||s[3]||s[4]);a.attrs=l}return e.children.push(a),dtd.$empty[t]?e:a}for(var a,s,l,h=0,p=0,g=new u({type:"root",children:[]}),v=g;a=t.exec(e);){h=a.index;try{if(p<h&&o(v,e.slice(p,h)),a[3])dtd.$cdata[v.tagName]?o(v,a[0]):v=m(v,a[3].toLowerCase(),a[4]);else if(a[1]){if("root"!=v.type)if(dtd.$cdata[v.tagName]&&!dtd.$cdata[a[1]])o(v,a[0]);else{for(var b=v;"element"==v.type&&v.tagName!=a[1].toLowerCase();)if("root"==(v=v.parentNode).type)throw v=b,"break";v=v.parentNode}}else a[2]&&(s=v,l=a[2],s.children.push(new u({type:"comment",data:l,parentNode:s})))}catch(e){}p=t.lastIndex}return p<e.length&&o(v,e.slice(p)),g},filterNode=UE.filterNode=function(e,t){if(utils.isEmptyObject(t))return e;var n;(n=t["-"])&&utils.each(n.split(" "),function(e){t[e]="-"});for(var i,r=0;i=e.children[r];)p3(i,t),i.parentNode&&r++;return e},K3;function p3(n,e){switch(n.type){case"text":break;case"element":var t;if(t=e[n.tagName])if("-"===t)n.parentNode.removeChild(n);else if(utils.isFunction(t)){var i=n.parentNode,r=n.getIndex();if(t(n),n.parentNode){if(n.children)for(var o=0;u=n.children[o];)p3(u,e),u.parentNode&&o++}else for(o=r;u=i.children[o];)p3(u,e),u.parentNode&&o++}else{var a=t.$;if(a&&n.attrs){var s,l={};for(var d in a){if(s=n.getAttr(d),"style"==d&&utils.isArray(a[d])){var c=[];utils.each(a[d],function(e){var t;(t=n.getStyle(e))&&c.push(e+":"+t)}),s=c.join(";")}s&&(l[d]=s)}n.attrs=l}if(n.children)for(o=0;u=n.children[o];)p3(u,e),u.parentNode&&o++}else if(dtd.$cdata[n.tagName])n.parentNode.removeChild(n);else{i=n.parentNode,r=n.getIndex();n.parentNode.removeChild(n,!0);var u;for(o=r;u=i.children[o];)p3(u,e),u.parentNode&&o++}break;case"comment":n.parentNode.removeChild(n)}}UE.plugin=(K3={},{register:function(e,t,n,i){n&&utils.isFunction(n)&&(i=n,n=null),K3[e]={optionName:n||e,execFn:t,afterDisabled:i}},load:function(n){utils.each(K3,function(e){var t=e.execFn.call(n);!1!==n.options[e.optionName]?t&&utils.each(t,function(e,t){switch(t.toLowerCase()){case"shortcutkey":n.addshortcutkey(e);break;case"bindevents":utils.each(e,function(e,t){n.addListener(t,e)});break;case"bindmultievents":utils.each(utils.isArray(e)?e:[e],function(t){var e=utils.trim(t.type).split(/\s+/);utils.each(e,function(e){n.addListener(e,t.handler)})});break;case"commands":utils.each(e,function(e,t){n.commands[t]=e});break;case"outputrule":n.addOutputRule(e);break;case"inputrule":n.addInputRule(e);break;case"defaultoptions":n.setOpt(e)}}):e.afterDisabled&&e.afterDisabled.call(n)}),utils.each(UE.plugins,function(e){e.call(n)})},run:function(e,t){var n=K3[e];n&&n.exeFn.call(t)}});var keymap=UE.keymap={Backspace:8,Tab:9,Enter:13,Shift:16,Control:17,Alt:18,CapsLock:20,Esc:27,Spacebar:32,PageUp:33,PageDown:34,End:35,Home:36,Left:37,Up:38,Right:39,Down:40,Insert:45,Del:46,NumLock:144,Cmd:91,"=":187,"-":189,b:66,i:73,z:90,y:89,v:86,x:88,s:83,n:78},LocalStorage=UE.LocalStorage=(g4=window.localStorage||((q4=document.createElement("div")).style.display="none",q4.addBehavior?(q4.addBehavior("#default#userdata"),{getItem:function(e){var t=null;try{document.body.appendChild(q4),q4.load(h4),t=q4.getAttribute(e),document.body.removeChild(q4)}catch(e){}return t},setItem:function(e,t){document.body.appendChild(q4),q4.setAttribute(e,t),q4.save(h4),document.body.removeChild(q4)},removeItem:function(e){document.body.appendChild(q4),q4.removeAttribute(e),q4.save(h4),document.body.removeChild(q4)}}):null)||null,h4="localStorage",{saveLocalData:function(e,t){return!(!g4||!t||(g4.setItem(e,t),0))},getLocalData:function(e){return g4?g4.getItem(e):null},removeItem:function(e){g4&&g4.removeItem(e)}}),q4,g4,h4,A4,Zba,Dma,Aoa,yoa,Wra,zza;function $ba(e){return domUtils.filterNodeList(e.selection.getStartElementPath(),function(e){return e&&1==e.nodeType&&e.getAttribute("dir")})}function zoa(){this.editor=null,this.resizer=null,this.cover=null,this.doc=document,this.prePos={x:0,y:0},this.startPos={x:0,y:0}}function Aza(e){return zza.getTableItemsByRange(e)}function Bza(e){return zza.getUETableBySelected(e)}function Cza(e,t){return zza.getDefaultValue(e,t)}function Dza(e){return zza.getUETable(e)}function Eza(e,t){var n=domUtils.getElementsByTagName(e,"td th");utils.each(n,function(e){e.removeAttribute("width")}),e.setAttribute("width",function(e,t,n){var i=e.body;return i.offsetWidth-(t?2*parseInt(domUtils.getComputedStyle(i,"margin-left"),10):0)-2*n.tableBorder-(e.options.offsetWidth||0)}(t,!0,Cza(t,e)));var i=[];setTimeout(function(){utils.each(n,function(e){1==e.colSpan&&i.push(e.offsetWidth)}),utils.each(n,function(e,t){1==e.colSpan&&e.setAttribute("width",i[t]+"")})},0)}function Gza(e){var t=Aza(e).cell;if(t){var n=Dza(t);return n.selectedTds.length?n.selectedTds:[t]}return[]}A4="ueditor_preference",UE.Editor.prototype.setPreferences=function(e,t){var n={};utils.isString(e)?n[e]=t:n=e;var i=LocalStorage.getLocalData(A4);(i=i&&utils.str2json(i))?utils.extend(i,n):i=n,i&&LocalStorage.saveLocalData(A4,utils.json2str(i))},UE.Editor.prototype.getPreferences=function(e){var t=LocalStorage.getLocalData(A4);return(t=t&&utils.str2json(t))?e?t[e]:t:null},UE.Editor.prototype.removePreferences=function(e){var t=LocalStorage.getLocalData(A4);(t=t&&utils.str2json(t))&&(t[e]=void 0,delete t[e]),t&&LocalStorage.saveLocalData(A4,utils.json2str(t))},UE.plugins.defaultfilter=function(){var s=this;s.setOpt({allowDivTransToP:!0,disabledTableInTable:!0}),s.addInputRule(function(e){var o,a=this.options.allowDivTransToP;e.traversal(function(r){if("element"==r.type){if(!dtd.$cdata[r.tagName]&&s.options.autoClearEmptyNode&&dtd.$inline[r.tagName]&&!dtd.$empty[r.tagName]&&(!r.attrs||utils.isEmptyObject(r.attrs)))return void(r.firstChild()?"span"!=r.tagName||r.attrs&&!utils.isEmptyObject(r.attrs)||r.parentNode.removeChild(r,!0):r.parentNode.removeChild(r));switch(r.tagName){case"style":case"script":r.setAttr({cdata_tag:r.tagName,cdata_data:r.innerHTML()||"",_ue_custom_node_:"true"}),r.tagName="div",r.innerHTML("");break;case"a":(o=r.getAttr("href"))&&r.setAttr("_href",o);break;case"img":if((o=r.getAttr("src"))&&/^data:/.test(o)){r.parentNode.removeChild(r);break}r.setAttr("_src",r.getAttr("src"));break;case"span":browser.webkit&&(o=r.getStyle("white-space"))&&/nowrap|normal/.test(o)&&(r.setStyle("white-space",""),s.options.autoClearEmptyNode&&utils.isEmptyObject(r.attrs)&&r.parentNode.removeChild(r,!0)),(o=r.getAttr("id"))&&/^_baidu_bookmark_/i.test(o)&&r.parentNode.removeChild(r);break;case"p":(o=r.getAttr("align"))&&(r.setAttr("align"),r.setStyle("text-align",o)),utils.each(r.children,function(e){if("element"==e.type&&"p"==e.tagName){var t=e.nextSibling();r.parentNode.insertAfter(e,r);for(var n=e;t;){var i=t.nextSibling();r.parentNode.insertAfter(t,n),n=t,t=i}return!1}}),r.firstChild()||r.innerHTML(browser.ie?"&nbsp;":"<br/>");break;case"div":if(r.getAttr("cdata_tag"))break;if((o=r.getAttr("class"))&&/^line number\d+/.test(o))break;if(!a)break;for(var e,t=UE.uNode.createElement("p");e=r.firstChild();)"text"!=e.type&&UE.dom.dtd.$block[e.tagName]?t.firstChild()?(r.parentNode.insertBefore(t,r),t=UE.uNode.createElement("p")):r.parentNode.insertBefore(e,r):t.appendChild(e);t.firstChild()&&r.parentNode.insertBefore(t,r),r.parentNode.removeChild(r);break;case"dl":r.tagName="ul";break;case"dt":case"dd":r.tagName="li";break;case"li":var n=r.getAttr("class");n&&/list\-/.test(n)||r.setAttr();var i=r.getNodesByTagName("ol ul");UE.utils.each(i,function(e){r.parentNode.insertAfter(e,r)});break;case"td":case"th":case"caption":r.children&&r.children.length||r.appendChild(browser.ie11below?UE.uNode.createText(" "):UE.uNode.createElement("br"));break;case"table":s.options.disabledTableInTable&&function(e){for(;e&&"element"==e.type;){if("td"==e.tagName)return!0;e=e.parentNode}return!1}(r)&&(r.parentNode.insertBefore(UE.uNode.createText(r.innerText()),r),r.parentNode.removeChild(r))}}})}),s.addOutputRule(function(e){var t;e.traversal(function(e){if("element"==e.type){if(s.options.autoClearEmptyNode&&dtd.$inline[e.tagName]&&!dtd.$empty[e.tagName]&&(!e.attrs||utils.isEmptyObject(e.attrs)))return void(e.firstChild()?"span"!=e.tagName||e.attrs&&!utils.isEmptyObject(e.attrs)||e.parentNode.removeChild(e,!0):e.parentNode.removeChild(e));switch(e.tagName){case"div":(t=e.getAttr("cdata_tag"))&&(e.tagName=t,e.appendChild(UE.uNode.createText(e.getAttr("cdata_data"))),e.setAttr({cdata_tag:"",cdata_data:"",_ue_custom_node_:""}));break;case"a":(t=e.getAttr("_href"))&&e.setAttr({href:utils.html(t),_href:""});break;case"span":(t=e.getAttr("id"))&&/^_baidu_bookmark_/i.test(t)&&e.parentNode.removeChild(e);break;case"img":(t=e.getAttr("_src"))&&e.setAttr({src:e.getAttr("_src"),_src:""})}}})})},UE.commands.inserthtml={execCommand:function(e,t,n){var i,r,o=this;if(t&&!0!==o.fireEvent("beforeinserthtml",t)){if((r=(i=o.selection.getRange()).document.createElement("div")).style.display="inline",!n){var a=UE.htmlparser(t);o.options.filterRules&&UE.filterNode(a,o.options.filterRules),o.filterInputRule(a),t=a.toHtml()}if(r.innerHTML=utils.trim(t),!i.collapsed){var s=i.startContainer;if(domUtils.isFillChar(s)&&i.setStartBefore(s),s=i.endContainer,domUtils.isFillChar(s)&&i.setEndAfter(s),i.txtToElmBoundary(),i.endContainer&&1==i.endContainer.nodeType&&(s=i.endContainer.childNodes[i.endOffset])&&domUtils.isBr(s)&&i.setEndAfter(s),0==i.startOffset&&(s=i.startContainer,domUtils.isBoundaryNode(s,"firstChild")&&(s=i.endContainer,i.endOffset==(3==s.nodeType?s.nodeValue.length:s.childNodes.length)&&domUtils.isBoundaryNode(s,"lastChild")&&(o.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>",i.setStart(o.body.firstChild,0).collapse(!0)))),i.collapsed||i.deleteContents(),1==i.startContainer.nodeType)if((l=i.startContainer.childNodes[i.startOffset])&&domUtils.isBlockElm(l)&&(v=l.previousSibling)&&domUtils.isBlockElm(v)){for(i.setEnd(v,v.childNodes.length).collapse();l.firstChild;)v.appendChild(l.firstChild);domUtils.remove(l)}}var l,d,c,u,f=0;i.inFillChar()&&(l=i.startContainer,domUtils.isFillChar(l)?(i.setStartBefore(l).collapse(!0),domUtils.remove(l)):domUtils.isFillChar(l,!0)&&(l.nodeValue=l.nodeValue.replace(fillCharReg,""),i.startOffset--,i.collapsed&&i.collapse(!0)));var m=domUtils.findParentByTagName(i.startContainer,"li",!0);if(m){for(var h;l=r.firstChild;){for(;l&&(3==l.nodeType||!domUtils.isBlockElm(l)||"HR"==l.tagName);)b=l.nextSibling,i.insertNode(l).collapse(),h=l,l=b;if(l)if(/^(ol|ul)$/i.test(l.tagName)){for(;l.firstChild;)h=l.firstChild,domUtils.insertAfter(m,l.firstChild),m=m.nextSibling;domUtils.remove(l)}else{var p;b=l.nextSibling,p=o.document.createElement("li"),domUtils.insertAfter(m,p),p.appendChild(l),h=l,l=b,m=p}}m=domUtils.findParentByTagName(i.startContainer,"li",!0),domUtils.isEmptyBlock(m)&&domUtils.remove(m),h&&i.setStartAfter(h).collapse(!0).select(!0)}else{for(;l=r.firstChild;){if(f){for(var g=o.document.createElement("p");l&&(3==l.nodeType||!dtd.$block[l.tagName]);)u=l.nextSibling,g.appendChild(l),l=u;g.firstChild&&(l=g)}if(i.insertNode(l),u=l.nextSibling,!f&&l.nodeType==domUtils.NODE_ELEMENT&&domUtils.isBlockElm(l)&&(d=domUtils.findParent(l,function(e){return domUtils.isBlockElm(e)}))&&"body"!=d.tagName.toLowerCase()&&(!dtd[d.tagName][l.nodeName]||l.parentNode!==d)){if(dtd[d.tagName][l.nodeName])for(c=l.parentNode;c!==d;)c=(v=c).parentNode;else v=d;domUtils.breakParent(l,v||c);var v=l.previousSibling;domUtils.trimWhiteTextNode(v),v.childNodes.length||domUtils.remove(v),!browser.ie&&(b=l.nextSibling)&&domUtils.isBlockElm(b)&&b.lastChild&&!domUtils.isBr(b.lastChild)&&b.appendChild(o.document.createElement("br")),f=1}var b=l.nextSibling;if(!r.firstChild&&b&&domUtils.isBlockElm(b)){i.setStart(b,0).collapse(!0);break}i.setEndAfter(l).collapse()}if(l=i.startContainer,u&&domUtils.isBr(u)&&domUtils.remove(u),domUtils.isBlockElm(l)&&domUtils.isEmptyNode(l))if(u=l.nextSibling)domUtils.remove(l),1==u.nodeType&&dtd.$block[u.tagName]&&i.setStart(u,0).collapse(!0).shrinkBoundary();else try{l.innerHTML=browser.ie?domUtils.fillChar:"<br/>"}catch(e){i.setStartBefore(l),domUtils.remove(l)}try{i.select(!0)}catch(e){}}setTimeout(function(){(i=o.selection.getRange()).scrollToView(o.autoHeightEnabled,o.autoHeightEnabled?domUtils.getXY(o.iframe).y:0),o.fireEvent("afterinserthtml",t)},200)}}},UE.plugins.autotypeset=function(){this.setOpt({autotypeset:{mergeEmptyline:!0,removeClass:!0,removeEmptyline:!1,textAlign:"left",imageBlockLine:"center",pasteFilter:!1,clearFontSize:!1,clearFontFamily:!1,removeEmptyNode:!1,removeTagNames:utils.extend({div:1},dtd.$removeEmpty),indent:!1,indentValue:"2em",bdc2sb:!1,tobdc:!1}});var p,e,t=this,g=t.options.autotypeset,v={selectTdClass:1,pagebreak:1,anchorclass:1},b={li:1},n={div:1,p:1,blockquote:1,center:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,span:1};g&&(e=t.getPreferences("autotypeset"),utils.extend(t.options.autotypeset,e),g.pasteFilter&&t.addListener("beforepaste",i),t.commands.autotypeset={execCommand:function(){t.removeListener("beforepaste",i),g.pasteFilter&&t.addListener("beforepaste",i),i.call(t)}});function y(e,t){return e&&3!=e.nodeType?domUtils.isBr(e)?1:e&&e.parentNode&&n[e.tagName.toLowerCase()]?p&&p.contains(e)||e.getAttribute("pagebreak")?0:t?!domUtils.isEmptyBlock(e):domUtils.isEmptyBlock(e,new RegExp("[\\s"+domUtils.fillChar+"]","g")):void 0:0}function x(e){e.style.cssText||(domUtils.removeAttributes(e,["style"]),"span"==e.tagName.toLowerCase()&&domUtils.hasNoAttributes(e)&&domUtils.remove(e,!0))}function i(e,t){var n,i=this;if(t){if(!g.pasteFilter)return;(n=i.document.createElement("div")).innerHTML=t.html}else n=i.document.body;for(var r,o,a=domUtils.getElementsByTagName(n,"*"),s=0;r=a[s++];)if(!0!==i.fireEvent("excludeNodeinautotype",r)){if(g.clearFontSize&&r.style.fontSize&&(domUtils.removeStyle(r,"font-size"),x(r)),g.clearFontFamily&&r.style.fontFamily&&(domUtils.removeStyle(r,"font-family"),x(r)),y(r)){if(g.mergeEmptyline)for(var l=r.nextSibling,d=domUtils.isBr(r);y(l)&&(l=(u=l).nextSibling,!d||l&&(!l||domUtils.isBr(l)));)domUtils.remove(u);if(g.removeEmptyline&&domUtils.inDoc(r,n)&&!b[r.parentNode.tagName.toLowerCase()]){if(domUtils.isBr(r)&&(l=r.nextSibling)&&!domUtils.isBr(l))continue;domUtils.remove(r);continue}}if(y(r,!0)&&"SPAN"!=r.tagName&&(g.indent&&(r.style.textIndent=g.indentValue),g.textAlign&&(r.style.textAlign=g.textAlign)),g.removeClass&&r.className&&!v[r.className.toLowerCase()]){if(p&&p.contains(r))continue;domUtils.removeAttributes(r,["class"])}if(g.imageBlockLine&&"img"==r.tagName.toLowerCase()&&!r.getAttribute("emotion"))if(t){var c=r;switch(g.imageBlockLine){case"left":case"right":case"none":for(var u,f,m=c.parentNode;dtd.$inline[m.tagName]||"A"==m.tagName;)m=m.parentNode;if("P"==(u=m).tagName&&"center"==domUtils.getStyle(u,"text-align")&&!domUtils.isBody(u)&&1==domUtils.getChildCount(u,function(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)}))if(f=u.previousSibling,l=u.nextSibling,f&&l&&1==f.nodeType&&1==l.nodeType&&f.tagName==l.tagName&&domUtils.isBlockElm(f)){for(f.appendChild(u.firstChild);l.firstChild;)f.appendChild(l.firstChild);domUtils.remove(u),domUtils.remove(l)}else domUtils.setStyle(u,"text-align","");domUtils.setStyle(c,"float",g.imageBlockLine);break;case"center":if("center"!=i.queryCommandValue("imagefloat")){for(m=c.parentNode,domUtils.setStyle(c,"float","none"),u=c;m&&1==domUtils.getChildCount(m,function(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)})&&(dtd.$inline[m.tagName]||"A"==m.tagName);)m=(u=m).parentNode;var h=i.document.createElement("p");domUtils.setAttributes(h,{style:"text-align:center"}),u.parentNode.insertBefore(h,u),h.appendChild(u),domUtils.setStyle(u,"float","")}}}else{i.selection.getRange().selectNode(r).select(),i.execCommand("imagefloat",g.imageBlockLine)}g.removeEmptyNode&&g.removeTagNames[r.tagName.toLowerCase()]&&domUtils.hasNoAttributes(r)&&domUtils.isEmptyBlock(r)&&domUtils.remove(r)}g.tobdc&&((o=UE.htmlparser(n.innerHTML)).traversal(function(e){"text"==e.type&&(e.data=function(e){e=utils.html(e);for(var t="",n=0;n<e.length;n++)32==e.charCodeAt(n)?t+=String.fromCharCode(12288):e.charCodeAt(n)<127?t+=String.fromCharCode(e.charCodeAt(n)+65248):t+=e.charAt(n);return t}(e.data))}),n.innerHTML=o.toHtml());g.bdc2sb&&((o=UE.htmlparser(n.innerHTML)).traversal(function(e){"text"==e.type&&(e.data=function(e){for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);t+=65281<=i&&i<=65373?String.fromCharCode(e.charCodeAt(n)-65248):12288==i?String.fromCharCode(e.charCodeAt(n)-12288+32):e.charAt(n)}return t}(e.data))}),n.innerHTML=o.toHtml());t&&(t.html=n.innerHTML)}},UE.plugin.register("autosubmit",function(){return{shortcutkey:{autosubmit:"ctrl+13"},commands:{autosubmit:{execCommand:function(){var e=domUtils.findParentByTagName(this.iframe,"form",!1);if(e){if(!1===this.fireEvent("beforesubmit"))return;this.sync(),e.submit()}}}}}}),UE.plugin.register("background",function(){var n,l=this,i="editor_background",r=new RegExp("body[\\s]*\\{(.+)\\}","i");function o(e){var i={},t=e.split(";");return utils.each(t,function(e){var t=e.indexOf(":"),n=utils.trim(e.substr(0,t)).toLowerCase();n&&(i[n]=utils.trim(e.substr(t+1)||""))}),i}function a(e){if(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+":"+e[n]+"; ");utils.cssRule(i,t.length?"body{"+t.join("")+"}":"",l.document)}else utils.cssRule(i,"",l.document)}var e=l.hasContents;return l.hasContents=function(){return!!l.queryCommandValue("background")||e.apply(l,arguments)},{bindEvents:{getAllHtml:function(e,t){var n=this.body,i=domUtils.getComputedStyle(n,"background-image"),r="";r=0<i.indexOf(l.options.imagePath)?i.substring(i.indexOf(l.options.imagePath),i.length-1).replace(/"|\(|\)/gi,""):"none"!=i?i.replace(/url\("?|"?\)/gi,""):"";var o='<style type="text/css">body{',a={"background-color":domUtils.getComputedStyle(n,"background-color")||"#ffffff","background-image":r?"url("+r+")":"","background-repeat":domUtils.getComputedStyle(n,"background-repeat")||"","background-position":browser.ie?domUtils.getComputedStyle(n,"background-position-x")+" "+domUtils.getComputedStyle(n,"background-position-y"):domUtils.getComputedStyle(n,"background-position"),height:domUtils.getComputedStyle(n,"height")};for(var s in a)a.hasOwnProperty(s)&&(o+=s+":"+a[s]+"; ");o+="}</style> ",t.push(o)},aftersetcontent:function(){0==n&&a()}},inputRule:function(e){n=!1,utils.each(e.getNodesByTagName("p"),function(e){var t=e.getAttr("data-background");t&&(n=!0,a(o(t)),e.parentNode.removeChild(e))})},outputRule:function(e){var t=(utils.cssRule(i,this.document)||"").replace(/[\n\r]+/g,"").match(r);t&&e.appendChild(UE.uNode.createElement('<p style="display:none;" data-background="'+utils.trim(t[1].replace(/"/g,"").replace(/[\s]+/g," "))+'"><br/></p>'))},commands:{background:{execCommand:function(e,t){a(t)},queryCommandValue:function(){var e=(utils.cssRule(i,this.document)||"").replace(/[\n\r]+/g,"").match(r);return e?o(e[1]):null},notNeedUndo:!0}}}}),UE.commands.imagefloat={execCommand:function(e,t){var n=this,i=n.selection.getRange();if(!i.collapsed){var r=i.getClosedNode();if(r&&"IMG"==r.tagName)switch(t){case"left":case"right":case"none":for(var o,a,s,l=r.parentNode;dtd.$inline[l.tagName]||"A"==l.tagName;)l=l.parentNode;if("P"==(o=l).tagName&&"center"==domUtils.getStyle(o,"text-align")){if(!domUtils.isBody(o)&&1==domUtils.getChildCount(o,function(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)}))if(a=o.previousSibling,s=o.nextSibling,a&&s&&1==a.nodeType&&1==s.nodeType&&a.tagName==s.tagName&&domUtils.isBlockElm(a)){for(a.appendChild(o.firstChild);s.firstChild;)a.appendChild(s.firstChild);domUtils.remove(o),domUtils.remove(s)}else domUtils.setStyle(o,"text-align","");i.selectNode(r).select()}domUtils.setStyle(r,"float","none"==t?"":t),"none"==t&&domUtils.removeAttributes(r,"align");break;case"center":if("center"!=n.queryCommandValue("imagefloat")){for(l=r.parentNode,domUtils.setStyle(r,"float",""),domUtils.removeAttributes(r,"align"),o=r;l&&1==domUtils.getChildCount(l,function(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)})&&(dtd.$inline[l.tagName]||"A"==l.tagName);)l=(o=l).parentNode;i.setStartBefore(o).setCursor(!1),(l=n.document.createElement("div")).appendChild(o),domUtils.setStyle(o,"float",""),n.execCommand("insertHtml",'<p id="_img_parent_tmp" style="text-align:center">'+l.innerHTML+"</p>"),(o=n.document.getElementById("_img_parent_tmp")).removeAttribute("id"),o=o.firstChild,i.selectNode(o).select(),(s=o.parentNode.nextSibling)&&domUtils.isEmptyNode(s)&&domUtils.remove(s)}}}},queryCommandValue:function(){var e,t,n=this.selection.getRange();return n.collapsed?"none":(e=n.getClosedNode())&&1==e.nodeType&&"IMG"==e.tagName?("none"==(t=domUtils.getComputedStyle(e,"float")||e.getAttribute("align"))&&(t="center"==domUtils.getComputedStyle(e.parentNode,"text-align")?"center":t),{left:1,right:1,center:1}[t]?t:"none"):"none"},queryCommandState:function(){var e,t=this.selection.getRange();return t.collapsed?-1:(e=t.getClosedNode())&&1==e.nodeType&&"IMG"==e.tagName?0:-1}},UE.commands.insertimage={execCommand:function(e,t){if((t=utils.isArray(t)?t:[t]).length){var n=this,i=n.selection.getRange(),r=i.getClosedNode();if(!0!==n.fireEvent("beforeinsertimage",t)){if(!r||!/img/i.test(r.tagName)||"edui-faked-video"==r.className&&-1==r.className.indexOf("edui-upload-video")||r.getAttribute("word_img")){var o,a=[],s="";if(o=t[0],1==t.length)s='<img src="'+o.src+'" '+(o._src?' _src="'+o._src+'" ':"")+(o.width?'width="'+o.width+'" ':"")+(o.height?' height="'+o.height+'" ':"")+("left"==o.floatStyle||"right"==o.floatStyle?' style="float:'+o.floatStyle+';"':"")+(o.title&&""!=o.title?' title="'+o.title+'"':"")+(o.border&&"0"!=o.border?' border="'+o.border+'"':"")+(o.alt&&""!=o.alt?' alt="'+o.alt+'"':"")+(o.hspace&&"0"!=o.hspace?' hspace = "'+o.hspace+'"':"")+(o.vspace&&"0"!=o.vspace?' vspace = "'+o.vspace+'"':"")+"/>","center"==o.floatStyle&&(s='<p style="text-align: center">'+s+"</p>"),a.push(s);else for(var l=0;o=t[l++];)s="<p "+("center"==o.floatStyle?'style="text-align: center" ':"")+'><img src="'+o.src+'" '+(o.width?'width="'+o.width+'" ':"")+(o._src?' _src="'+o._src+'" ':"")+(o.height?' height="'+o.height+'" ':"")+' style="'+(o.floatStyle&&"center"!=o.floatStyle?"float:"+o.floatStyle+";":"")+(o.border||"")+'" '+(o.title?' title="'+o.title+'"':"")+" /></p>",a.push(s);n.execCommand("insertHtml",a.join(""))}else{var d=t.shift(),c=d.floatStyle;delete d.floatStyle,domUtils.setAttributes(r,d),n.execCommand("imagefloat",c),0<t.length&&(i.setStartAfter(r).setCursor(!1,!0),n.execCommand("insertimage",t))}n.fireEvent("afterinsertimage",t)}}}},UE.plugins.justify=function(){var u=domUtils.isBlockElm,n={left:1,right:1,center:1,justify:1};UE.commands.justify={execCommand:function(e,t){var n,i=this.selection.getRange();return i.collapsed&&(n=this.document.createTextNode("p"),i.insertNode(n)),function(e,t){function n(e){return 1==e.nodeType?"br"!=e.tagName.toLowerCase()&&!domUtils.isBookmarkNode(e):!domUtils.isWhitespace(e)}var i=e.createBookmark();e.enlarge(!0);for(var r,o=e.createBookmark(),a=domUtils.getNextDomNode(o.start,!1,n),s=e.cloneRange();a&&!(domUtils.getPosition(a,o.end)&domUtils.POSITION_FOLLOWING);)if(3!=a.nodeType&&u(a))a=domUtils.getNextDomNode(a,!0,n);else{for(s.setStartBefore(a);a&&a!==o.end&&!u(a);)r=a,a=domUtils.getNextDomNode(a,!1,null,function(e){return!u(e)});s.setEndAfter(r);var l=s.getCommonAncestor();if(!domUtils.isBody(l)&&u(l))domUtils.setStyles(l,utils.isString(t)?{"text-align":t}:t),a=l;else{var d=e.document.createElement("p");domUtils.setStyles(d,utils.isString(t)?{"text-align":t}:t);var c=s.extractContents();d.appendChild(c),s.insertNode(d),a=d}a=domUtils.getNextDomNode(a,!1,n)}e.moveToBookmark(o).moveToBookmark(i)}(i,t),n&&(i.setStartBefore(n).collapse(!0),domUtils.remove(n)),i.select(),!0},queryCommandValue:function(){var e=this.selection.getStart(),t=domUtils.getComputedStyle(e,"text-align");return n[t]?t:"left"},queryCommandState:function(){var e=this.selection.getStart();return e&&domUtils.findParentByTagName(e,["td","th","caption"],!0)?-1:0}}},UE.plugins.font=function(){var e={forecolor:"color",backcolor:"background-color",fontsize:"font-size",fontfamily:"font-family",underline:"text-decoration",strikethrough:"text-decoration",fontborder:"border"},d={underline:1,strikethrough:1,fontborder:1},a={forecolor:"color",backcolor:"background-color",fontsize:"font-size",fontfamily:"font-family"};function c(e,i,r){var t,n=e.collapsed,o=e.createBookmark();if(n)for(t=o.start.parentNode;dtd.$inline[t.tagName];)t=t.parentNode;else t=domUtils.getCommonAncestor(o.start,o.end);utils.each(domUtils.getElementsByTagName(t,"span"),function(e){if(e.parentNode&&!domUtils.isBookmarkNode(e))if(/\s*border\s*:\s*none;?\s*/i.test(e.style.cssText))/^\s*border\s*:\s*none;?\s*$/.test(e.style.cssText)?domUtils.remove(e,!0):domUtils.removeStyle(e,"border");else{if(/border/i.test(e.style.cssText)&&"SPAN"==e.parentNode.tagName&&/border/i.test(e.parentNode.style.cssText)&&(e.style.cssText=e.style.cssText.replace(/border[^:]*:[^;]+;?/gi,"")),"fontborder"!=i||"none"!=r)for(var t=e.nextSibling;t&&1==t.nodeType&&"SPAN"==t.tagName;)if(domUtils.isBookmarkNode(t)&&"fontborder"==i)e.appendChild(t),t=e.nextSibling;else{if(t.style.cssText==e.style.cssText&&(domUtils.moveChild(t,e),domUtils.remove(t)),e.nextSibling===t)break;t=e.nextSibling}if(function(e){for(var t;(t=e.parentNode)&&"SPAN"==t.tagName&&1==domUtils.getChildCount(t,function(e){return!domUtils.isBookmarkNode(e)&&!domUtils.isBr(e)});)t.style.cssText+=e.style.cssText,domUtils.remove(e,!0),e=t}(e),browser.ie&&8<browser.version){var n=domUtils.findParent(e,function(e){return"SPAN"==e.tagName&&/background-color/.test(e.style.cssText)});n&&!/background-color/.test(e.style.cssText)&&(e.style.backgroundColor=n.style.backgroundColor)}}}),e.moveToBookmark(o),function(e,t,n){if(a[t]&&(e.adjustmentBoundary(),!e.collapsed&&1==e.startContainer.nodeType)){var i=e.startContainer.childNodes[e.startOffset];if(i&&domUtils.isTagNode(i,"span")){var r=e.createBookmark();utils.each(domUtils.getElementsByTagName(i,"span"),function(e){e.parentNode&&!domUtils.isBookmarkNode(e)&&("backcolor"==t&&domUtils.getComputedStyle(e,"background-color").toLowerCase()===n||(domUtils.removeStyle(e,a[t]),0==e.style.cssText.replace(/^\s+$/,"").length&&domUtils.remove(e,!0)))}),e.moveToBookmark(r)}}}(e,i,r)}for(var t in this.setOpt({fontfamily:[{name:"songti",val:"宋体,SimSun"},{name:"yahei",val:"微软雅黑,Microsoft YaHei"},{name:"kaiti",val:"楷体,楷体_GB2312, SimKai"},{name:"heiti",val:"黑体, SimHei"},{name:"lishu",val:"隶书, SimLi"},{name:"andaleMono",val:"andale mono"},{name:"arial",val:"arial, helvetica,sans-serif"},{name:"arialBlack",val:"arial black,avant garde"},{name:"comicSansMs",val:"comic sans ms"},{name:"impact",val:"impact,chicago"},{name:"timesNewRoman",val:"times new roman"}],fontsize:[10,11,12,14,16,18,20,24,36]}),this.addInputRule(function(e){utils.each(e.getNodesByTagName("u s del font strike"),function(e){if("font"==e.tagName){var t=[];for(var n in e.attrs)switch(n){case"size":t.push("font-size:"+({1:"10",2:"12",3:"16",4:"18",5:"24",6:"32",7:"48"}[e.attrs[n]]||e.attrs[n])+"px");break;case"color":t.push("color:"+e.attrs[n]);break;case"face":t.push("font-family:"+e.attrs[n]);break;case"style":t.push(e.attrs[n])}e.attrs={style:t.join(";")}}else{var i="u"==e.tagName?"underline":"line-through";e.attrs={style:(e.getAttr("style")||"")+"text-decoration:"+i+";"}}e.tagName="span"})}),e)!function(s,l){UE.commands[s]={execCommand:function(e,t){t=t||(this.queryCommandState(e)?"none":"underline"==e?"underline":"fontborder"==e?"1px solid #000":"line-through");var n,i=this,r=this.selection.getRange();if("default"==t)r.collapsed&&(n=i.document.createTextNode("font"),r.insertNode(n).select()),i.execCommand("removeFormat","span,a",l),n&&(r.setStartBefore(n).collapse(!0),domUtils.remove(n)),c(r,e,t),r.select();else if(r.collapsed){var o=domUtils.findParentByTagName(r.startContainer,"span",!0);if(n=i.document.createTextNode("font"),!o||o.children.length||o[browser.ie?"innerText":"textContent"].replace(fillCharReg,"").length){if(r.insertNode(n),r.selectNode(n).select(),o=r.document.createElement("span"),d[s]){if(domUtils.findParentByTagName(n,"a",!0))return r.setStartBefore(n).setCursor(),void domUtils.remove(n);i.execCommand("removeFormat","span,a",l)}if(o.style.cssText=l+":"+t,n.parentNode.insertBefore(o,n),!browser.ie||browser.ie&&9==browser.version)for(var a=o.parentNode;!domUtils.isBlockElm(a);)"SPAN"==a.tagName&&(o.style.cssText=a.style.cssText+";"+o.style.cssText),a=a.parentNode;opera?setTimeout(function(){r.setStart(o,0).collapse(!0),c(r,e,t),r.select()}):(r.setStart(o,0).collapse(!0),c(r,e,t),r.select())}else r.insertNode(n),d[s]&&(r.selectNode(n).select(),i.execCommand("removeFormat","span,a",l,null),o=domUtils.findParentByTagName(n,"span",!0),r.setStartBefore(n)),o&&(o.style.cssText+=";"+l+":"+t),r.collapse(!0).select();domUtils.remove(n)}else d[s]&&i.queryCommandValue(s)&&i.execCommand("removeFormat","span,a",l),(r=i.selection.getRange()).applyInlineStyle("span",{style:l+":"+t}),c(r,e,t),r.select();return!0},queryCommandValue:function(e){var t=this.selection.getStart();if("underline"==e||"strikethrough"==e){for(var n,i=t;i&&!domUtils.isBlockElm(i)&&!domUtils.isBody(i);){if(1==i.nodeType&&"none"!=(n=domUtils.getComputedStyle(i,l)))return n;i=i.parentNode}return"none"}if("fontborder"==e){for(var r,o=t;o&&dtd.$inline[o.tagName];){if((r=domUtils.getComputedStyle(o,"border"))&&/1px/.test(r)&&/solid/.test(r))return r;o=o.parentNode}return""}if("FontSize"!=e)return domUtils.getComputedStyle(t,l);var a=domUtils.getComputedStyle(t,l);return(o=/^([\d\.]+)(\w+)$/.exec(a))?Math.floor(o[1])+o[2]:a},queryCommandState:function(e){if(!d[e])return 0;var t=this.queryCommandValue(e);return"fontborder"==e?/1px/.test(t)&&/solid/.test(t):"underline"==e?/underline/.test(t):/line\-through/.test(t)}}}(t,e[t])},UE.plugins.link=function(){function l(e){var t=e.startContainer,n=e.endContainer;(t=domUtils.findParentByTagName(t,"a",!0))&&e.setStartBefore(t),(n=domUtils.findParentByTagName(n,"a",!0))&&e.setEndAfter(n)}UE.commands.unlink={execCommand:function(){var e,t=this.selection.getRange();t.collapsed&&!domUtils.findParentByTagName(t.startContainer,"a",!0)||(e=t.createBookmark(),l(t),t.removeInlineStyle("a").moveToBookmark(e).select())},queryCommandState:function(){return!this.highlight&&this.queryCommandValue("link")?0:-1}},UE.commands.link={execCommand:function(e,t){var n;t._href&&(t._href=utils.unhtml(t._href,/[<">]/g)),t.href&&(t.href=utils.unhtml(t.href,/[<">]/g)),t.textValue&&(t.textValue=utils.unhtml(t.textValue,/[<">]/g)),function(e,t,n){var i=e.cloneRange(),r=n.queryCommandValue("link");l(e=e.adjustmentBoundary());var o=e.startContainer;if(1==o.nodeType&&r&&(o=o.childNodes[e.startOffset])&&1==o.nodeType&&"A"==o.tagName&&/^(?:https?|ftp|file)\s*:\s*\/\//.test(o[browser.ie?"innerText":"textContent"])&&(o[browser.ie?"innerText":"textContent"]=utils.html(t.textValue||t.href)),i.collapsed&&!r||(e.removeInlineStyle("a"),i=e.cloneRange()),i.collapsed){var a=e.document.createElement("a"),s="";t.textValue?(s=utils.html(t.textValue),delete t.textValue):s=utils.html(t.href),domUtils.setAttributes(a,t),(o=domUtils.findParentByTagName(i.startContainer,"a",!0))&&domUtils.isInNodeEndBoundary(i,o)&&e.setStartAfter(o).collapse(!0),a[browser.ie?"innerText":"textContent"]=s,e.insertNode(a).selectNode(a)}else e.applyInlineStyle("a",t)}(n=this.selection.getRange(),t,this),n.collapse().select(!0)},queryCommandValue:function(){var e,t=this.selection.getRange();if(!t.collapsed){t.shrinkBoundary();var n=3!=t.startContainer.nodeType&&t.startContainer.childNodes[t.startOffset]?t.startContainer.childNodes[t.startOffset]:t.startContainer,i=3==t.endContainer.nodeType||0==t.endOffset?t.endContainer:t.endContainer.childNodes[t.endOffset-1],r=t.getCommonAncestor();if(!(e=domUtils.findParentByTagName(r,"a",!0))&&1==r.nodeType)for(var o,a,s,l=r.getElementsByTagName("a"),d=0;s=l[d++];)if(o=domUtils.getPosition(s,n),a=domUtils.getPosition(s,i),(o&domUtils.POSITION_FOLLOWING||o&domUtils.POSITION_CONTAINS)&&(a&domUtils.POSITION_PRECEDING||a&domUtils.POSITION_CONTAINS)){e=s;break}return e}if((e=(e=1==(e=t.startContainer).nodeType?e:e.parentNode)&&domUtils.findParentByTagName(e,"a",!0))&&!domUtils.isInNodeEndBoundary(t,e))return e},queryCommandState:function(){var e=this.selection.getRange().getClosedNode();return e&&("edui-faked-video"==e.className||-1!=e.className.indexOf("edui-upload-video"))?-1:0}}},UE.plugins.insertframe=function(){var e=this;e.addListener("selectionchange",function(){e._iframe&&delete e._iframe})},UE.commands.scrawl={queryCommandState:function(){return browser.ie&&browser.version<=8?-1:0}},UE.plugins.removeformat=function(){this.setOpt({removeFormatTags:"b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var",removeFormatAttributes:"class,style,lang,width,height,align,hspace,valign"}),this.commands.removeformat={execCommand:function(e,t,d,n,c){var u,f,m=new RegExp("^(?:"+(t||this.options.removeFormatTags).replace(/,/g,"|")+")$","i"),h=d?[]:(n||this.options.removeFormatAttributes).split(","),i=new dom.Range(this.document),p=function(e){return 1==e.nodeType};function g(e){if(3==e.nodeType||"span"!=e.tagName.toLowerCase())return 0;if(browser.ie){var t=e.attributes;if(t.length){for(var n=0,i=t.length;n<i;n++)if(t[n].specified)return 0;return 1}}return!e.attributes.length}(function(e){var t=e.createBookmark();if(e.collapsed&&e.enlarge(!0),!c){var n=domUtils.findParentByTagName(e.startContainer,"a",!0);n&&e.setStartBefore(n),(n=domUtils.findParentByTagName(e.endContainer,"a",!0))&&e.setEndAfter(n)}for(s=(u=e.createBookmark()).start;(f=s.parentNode)&&!domUtils.isBlockElm(f);)domUtils.breakParent(s,f),domUtils.clearEmptySibling(s);if(u.end){for(s=u.end;(f=s.parentNode)&&!domUtils.isBlockElm(f);)domUtils.breakParent(s,f),domUtils.clearEmptySibling(s);for(var i,r=domUtils.getNextDomNode(u.start,!1,p);r&&r!=u.end;)i=domUtils.getNextDomNode(r,!0,p),dtd.$empty[r.tagName.toLowerCase()]||domUtils.isBookmarkNode(r)||(m.test(r.tagName)?d?(domUtils.removeStyle(r,d),g(r)&&"text-decoration"!=d&&domUtils.remove(r,!0)):domUtils.remove(r,!0):dtd.$tableContent[r.tagName]||dtd.$list[r.tagName]||(domUtils.removeAttributes(r,h),g(r)&&domUtils.remove(r,!0))),r=i}var o=u.start.parentNode;!domUtils.isBlockElm(o)||dtd.$tableContent[o.tagName]||dtd.$list[o.tagName]||domUtils.removeAttributes(o,h),o=u.end.parentNode,u.end&&domUtils.isBlockElm(o)&&!dtd.$tableContent[o.tagName]&&!dtd.$list[o.tagName]&&domUtils.removeAttributes(o,h),e.moveToBookmark(u).moveToBookmark(t);for(var a,s=e.startContainer,l=e.collapsed;1==s.nodeType&&domUtils.isEmptyNode(s)&&dtd.$removeEmpty[s.tagName];)a=s.parentNode,e.setStartBefore(s),e.startContainer===e.endContainer&&e.endOffset--,domUtils.remove(s),s=a;if(!l)for(s=e.endContainer;1==s.nodeType&&domUtils.isEmptyNode(s)&&dtd.$removeEmpty[s.tagName];)a=s.parentNode,e.setEndBefore(s),domUtils.remove(s),s=a})(i=this.selection.getRange()),i.select()}}},UE.plugins.blockquote=function(){function y(e){return domUtils.filterNodeList(e.selection.getStartElementPath(),"blockquote")}this.commands.blockquote={execCommand:function(e,t){var n=this.selection.getRange(),i=y(this),r=dtd.blockquote,o=n.createBookmark();if(i){var a=n.startContainer,s=domUtils.isBlockElm(a)?a:domUtils.findParent(a,function(e){return domUtils.isBlockElm(e)}),l=n.endContainer,d=domUtils.isBlockElm(l)?l:domUtils.findParent(l,function(e){return domUtils.isBlockElm(e)});s=domUtils.findParentByTagName(s,"li",!0)||s,d=domUtils.findParentByTagName(d,"li",!0)||d,"LI"==s.tagName||"TD"==s.tagName||s===i||domUtils.isBody(s)?domUtils.remove(i,!0):domUtils.breakParent(s,i),s!==d&&(i=domUtils.findParentByTagName(d,"blockquote"))&&("LI"==d.tagName||"TD"==d.tagName||domUtils.isBody(d)?i.parentNode&&domUtils.remove(i,!0):domUtils.breakParent(d,i));for(var c,u=domUtils.getElementsByTagName(this.document,"blockquote"),f=0;c=u[f++];)c.childNodes.length?domUtils.getPosition(c,s)&domUtils.POSITION_FOLLOWING&&domUtils.getPosition(c,d)&domUtils.POSITION_PRECEDING&&domUtils.remove(c,!0):domUtils.remove(c)}else{for(var m=n.cloneRange(),h=1==m.startContainer.nodeType?m.startContainer:m.startContainer.parentNode,p=h,g=1;;){if(domUtils.isBody(h)){p!==h?n.collapsed?(m.selectNode(p),g=0):m.setStartBefore(p):m.setStart(h,0);break}if(!r[h.tagName]){n.collapsed?m.selectNode(p):m.setStartBefore(p);break}h=(p=h).parentNode}if(g)for(p=h=h=1==m.endContainer.nodeType?m.endContainer:m.endContainer.parentNode;;){if(domUtils.isBody(h)){p!==h?m.setEndAfter(p):m.setEnd(h,h.childNodes.length);break}if(!r[h.tagName]){m.setEndAfter(p);break}h=(p=h).parentNode}h=n.document.createElement("blockquote"),domUtils.setAttributes(h,t),h.appendChild(m.extractContents()),m.insertNode(h);var v,b=domUtils.getElementsByTagName(h,"blockquote");for(f=0;v=b[f++];)v.parentNode&&domUtils.remove(v,!0)}n.moveToBookmark(o).select()},queryCommandState:function(){return y(this)?1:0}}},UE.commands.touppercase=UE.commands.tolowercase={execCommand:function(e){var t=this.selection.getRange();if(t.collapsed)return t;function n(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)}for(var i=t.createBookmark(),r=i.end,o=domUtils.getNextDomNode(i.start,!1,n);o&&domUtils.getPosition(o,r)&domUtils.POSITION_PRECEDING&&(3==o.nodeType&&(o.nodeValue=o.nodeValue["touppercase"==e?"toUpperCase":"toLowerCase"]()),(o=domUtils.getNextDomNode(o,!0,n))!==r););t.moveToBookmark(i).select()}},UE.commands.indent={execCommand:function(){var e=this.queryCommandState("indent")?"0em":this.options.indentValue||"2em";this.execCommand("Paragraph","p",{style:"text-indent:"+e})},queryCommandState:function(){var e=domUtils.filterNodeList(this.selection.getStartElementPath(),"p h1 h2 h3 h4 h5 h6");return e&&e.style.textIndent&&parseInt(e.style.textIndent)?1:0}},UE.commands.print={execCommand:function(){this.window.print()},notNeedUndo:1},UE.commands.preview={execCommand:function(){var e=window.open("","_blank","").document;e.open(),e.write('<!DOCTYPE html><html><head><meta charset="utf-8"/><script src="'+this.options.UEDITOR_HOME_URL+"ueditor.parse.js\"><\/script><script>setTimeout(function(){uParse('div',{rootPath: '"+this.options.UEDITOR_HOME_URL+"'})},300)<\/script></head><body><div>"+this.getContent(null,null,!0)+"</div></body></html>"),e.close()},notNeedUndo:1},UE.plugins.selectall=function(){this.commands.selectall={execCommand:function(){var e=this.body,t=this.selection.getRange();t.selectNodeContents(e),domUtils.isEmptyBlock(e)&&(browser.opera&&e.firstChild&&1==e.firstChild.nodeType&&t.setStartAtFirst(e.firstChild),t.collapse(!0)),t.select(!0)},notNeedUndo:1},this.addshortcutkey({selectAll:"ctrl+65"})},UE.plugins.paragraph=function(){var f=domUtils.isBlockElm,m=["TD","LI","PRE"];this.setOpt("paragraph",{p:"",h1:"",h2:"",h3:"",h4:"",h5:"",h6:""}),this.commands.paragraph={execCommand:function(e,t,n,i){var r=this.selection.getRange();if(r.collapsed){var o=this.document.createTextNode("p");if(r.insertNode(o),browser.ie){var a=o.previousSibling;a&&domUtils.isWhitespace(a)&&domUtils.remove(a),(a=o.nextSibling)&&domUtils.isWhitespace(a)&&domUtils.remove(a)}}if(r=function(e,t,n,i){function r(e){return 1==e.nodeType?"br"!=e.tagName.toLowerCase()&&!domUtils.isBookmarkNode(e):!domUtils.isWhitespace(e)}var o,a=e.createBookmark();e.enlarge(!0);for(var s,l=e.createBookmark(),d=domUtils.getNextDomNode(l.start,!1,r),c=e.cloneRange();d&&!(domUtils.getPosition(d,l.end)&domUtils.POSITION_FOLLOWING);)if(3!=d.nodeType&&f(d))d=domUtils.getNextDomNode(d,!0,r);else{for(c.setStartBefore(d);d&&d!==l.end&&!f(d);)s=d,d=domUtils.getNextDomNode(d,!1,null,function(e){return!f(e)});c.setEndAfter(s),o=e.document.createElement(t),n&&(domUtils.setAttributes(o,n),i&&"customstyle"==i&&n.style&&(o.style.cssText=n.style)),o.appendChild(c.extractContents()),domUtils.isEmptyNode(o)&&domUtils.fillChar(e.document,o),c.insertNode(o);var u=o.parentNode;f(u)&&!domUtils.isBody(o.parentNode)&&-1==utils.indexOf(m,u.tagName)&&(i&&"customstyle"==i||(u.getAttribute("dir")&&o.setAttribute("dir",u.getAttribute("dir")),u.style.cssText&&(o.style.cssText=u.style.cssText+";"+o.style.cssText),u.style.textAlign&&!o.style.textAlign&&(o.style.textAlign=u.style.textAlign),u.style.textIndent&&!o.style.textIndent&&(o.style.textIndent=u.style.textIndent),u.style.padding&&!o.style.padding&&(o.style.padding=u.style.padding)),n&&/h\d/i.test(u.tagName)&&!/h\d/i.test(o.tagName)?(domUtils.setAttributes(u,n),i&&"customstyle"==i&&n.style&&(u.style.cssText=n.style),domUtils.remove(o,!0),o=u):domUtils.remove(o.parentNode,!0)),d=-1!=utils.indexOf(m,u.tagName)?u:o,d=domUtils.getNextDomNode(d,!1,r)}return e.moveToBookmark(l).moveToBookmark(a)}(r,t,n,i),o&&(r.setStartBefore(o).collapse(!0),pN=o.parentNode,domUtils.remove(o),domUtils.isBlockElm(pN)&&domUtils.isEmptyNode(pN)&&domUtils.fillNode(this.document,pN)),browser.gecko&&r.collapsed&&1==r.startContainer.nodeType){var s=r.startContainer.childNodes[r.startOffset];s&&1==s.nodeType&&s.tagName.toLowerCase()==t&&r.setStart(s,0).collapse(!0)}return r.select(),!0},queryCommandValue:function(){var e=domUtils.filterNodeList(this.selection.getStartElementPath(),"p h1 h2 h3 h4 h5 h6");return e?e.tagName.toLowerCase():""}}},Zba=domUtils.isBlockElm,UE.commands.directionality={execCommand:function(e,t){var n=this.selection.getRange();if(n.collapsed){var i=this.document.createTextNode("d");n.insertNode(i)}return function(e,t,n){function i(e){return 1==e.nodeType?!domUtils.isBookmarkNode(e):!domUtils.isWhitespace(e)}var r,o=$ba(t);if(o&&e.collapsed)return o.setAttribute("dir",n);r=e.createBookmark(),e.enlarge(!0);for(var a,s=e.createBookmark(),l=domUtils.getNextDomNode(s.start,!1,i),d=e.cloneRange();l&&!(domUtils.getPosition(l,s.end)&domUtils.POSITION_FOLLOWING);)if(3!=l.nodeType&&Zba(l))l=domUtils.getNextDomNode(l,!0,i);else{for(d.setStartBefore(l);l&&l!==s.end&&!Zba(l);)a=l,l=domUtils.getNextDomNode(l,!1,null,function(e){return!Zba(e)});d.setEndAfter(a);var c=d.getCommonAncestor();if(!domUtils.isBody(c)&&Zba(c))c.setAttribute("dir",n),l=c;else{var u=e.document.createElement("p");u.setAttribute("dir",n);var f=d.extractContents();u.appendChild(f),d.insertNode(u),l=u}l=domUtils.getNextDomNode(l,!1,i)}e.moveToBookmark(s).moveToBookmark(r)}(n,this,t),i&&(n.setStartBefore(i).collapse(!0),domUtils.remove(i)),n.select(),!0},queryCommandValue:function(){var e=$ba(this);return e?e.getAttribute("dir"):"ltr"}},UE.plugins.horizontal=function(){this.commands.horizontal={execCommand:function(e){if(-1!==this.queryCommandState(e)){this.execCommand("insertHtml","<hr>");var t,n=this.selection.getRange(),i=n.startContainer;if(1==i.nodeType&&!i.childNodes[n.startOffset])(t=i.childNodes[n.startOffset-1])&&1==t.nodeType&&"HR"==t.tagName&&("p"==this.options.enterTag?(t=this.document.createElement("p"),n.insertNode(t),n.setStart(t,0).setCursor()):(t=this.document.createElement("br"),n.insertNode(t),n.setStartBefore(t).setCursor()));return!0}},queryCommandState:function(){return domUtils.filterNodeList(this.selection.getStartElementPath(),"table")?-1:0}},this.addListener("delkeydown",function(e,t){var n=this.selection.getRange();if(n.txtToElmBoundary(!0),domUtils.isStartInblock(n)){var i=n.startContainer.previousSibling;if(i&&domUtils.isTagNode(i,"hr"))return domUtils.remove(i),n.select(),domUtils.preventDefault(t),!0}})},UE.commands.time=UE.commands.date={execCommand:function(e,t){var n,i,r,o,a,s,l,d,c,u,f,m=new Date;this.execCommand("insertHtml","time"==e?(d=t,c=("0"+(l=m).getHours()).slice(-2),u=("0"+l.getMinutes()).slice(-2),f=("0"+l.getSeconds()).slice(-2),(d=d||"hh:ii:ss").replace(/hh/gi,c).replace(/ii/gi,u).replace(/ss/gi,f)):(i=t,r=("000"+(n=m).getFullYear()).slice(-4),o=r.slice(-2),a=("0"+(n.getMonth()+1)).slice(-2),s=("0"+n.getDate()).slice(-2),(i=i||"yyyy-mm-dd").replace(/yyyy/gi,r).replace(/yy/gi,o).replace(/mm/gi,a).replace(/dd/gi,s)))}},UE.plugins.rowspacing=function(){this.setOpt({rowspacingtop:["5","10","15","20","25"],rowspacingbottom:["5","10","15","20","25"]}),this.commands.rowspacing={execCommand:function(e,t,n){return this.execCommand("paragraph","p",{style:"margin-"+n+":"+t+"px"}),!0},queryCommandValue:function(e,t){var n=domUtils.filterNodeList(this.selection.getStartElementPath(),function(e){return domUtils.isBlockElm(e)});return n&&domUtils.getComputedStyle(n,"margin-"+t).replace(/[^\d]/g,"")||0}}},UE.plugins.lineheight=function(){this.setOpt({lineheight:["1","1.5","1.75","2","3","4","5"]}),this.commands.lineheight={execCommand:function(e,t){return this.execCommand("paragraph","p",{style:"line-height:"+("1"==t?"normal":t+"em")}),!0},queryCommandValue:function(){var e=domUtils.filterNodeList(this.selection.getStartElementPath(),function(e){return domUtils.isBlockElm(e)});if(e){var t=domUtils.getComputedStyle(e,"line-height");return"normal"==t?1:t.replace(/[^\d.]*/gi,"")}}}},UE.plugins.insertcode=function(){var d=this;d.ready(function(){utils.cssRule("pre","pre{margin:.5em 0;padding:.4em .6em;border-radius:8px;background:#f8f8f8;}",d.document)}),d.setOpt("insertcode",{as3:"ActionScript3",bash:"Bash/Shell",cpp:"C/C++",css:"Css",cf:"CodeFunction","c#":"C#",delphi:"Delphi",diff:"Diff",erlang:"Erlang",groovy:"Groovy",html:"Html",java:"Java",jfx:"JavaFx",js:"Javascript",pl:"Perl",php:"Php",plain:"Plain Text",ps:"PowerShell",python:"Python",ruby:"Ruby",scala:"Scala",sql:"Sql",vb:"Vb",xml:"Xml"}),d.commands.insertcode={execCommand:function(e,t){var n=this.selection.getRange(),i=domUtils.findParentByTagName(n.startContainer,"pre",!0);if(i)i.className="brush:"+t+";toolbar:false;";else{var r="";if(n.collapsed)r=browser.ie&&browser.ie11below?browser.version<=8?"&nbsp;":"":"<br/>";else{var o=n.extractContents(),a=this.document.createElement("div");a.appendChild(o),utils.each(UE.filterNode(UE.htmlparser(a.innerHTML.replace(/[\r\t]/g,"")),this.options.filterTxtRules).children,function(t){if(browser.ie&&browser.ie11below&&8<browser.version)"element"==t.type?"br"==t.tagName?r+="\n":dtd.$empty[t.tagName]||(utils.each(t.children,function(e){"element"==e.type?"br"==e.tagName?r+="\n":dtd.$empty[t.tagName]||(r+=e.innerText()):r+=e.data}),/\n$/.test(r)||(r+="\n")):r+=t.data+"\n",!t.nextSibling()&&/\n$/.test(r)&&(r=r.replace(/\n$/,""));else if(browser.ie&&browser.ie11below)"element"==t.type?"br"==t.tagName?r+="<br>":dtd.$empty[t.tagName]||(utils.each(t.children,function(e){"element"==e.type?"br"==e.tagName?r+="<br>":dtd.$empty[t.tagName]||(r+=e.innerText()):r+=e.data}),/br>$/.test(r)||(r+="<br>")):r+=t.data+"<br>",!t.nextSibling()&&/<br>$/.test(r)&&(r=r.replace(/<br>$/,""));else if(r+="element"==t.type?dtd.$empty[t.tagName]?"":t.innerText():t.data,!/br\/?\s*>$/.test(r)){if(!t.nextSibling())return;r+="<br>"}})}this.execCommand("inserthtml",'<pre id="coder"class="brush:'+t+';toolbar:false">'+r+"</pre>",!0),i=this.document.getElementById("coder"),domUtils.removeAttributes(i,"id");var s=i.previousSibling;s&&(3==s.nodeType&&1==s.nodeValue.length&&browser.ie&&6==browser.version||domUtils.isEmptyBlock(s))&&domUtils.remove(s);n=this.selection.getRange();domUtils.isEmptyBlock(i)?n.setStart(i,0).setCursor(!1,!0):n.selectNodeContents(i).select()}},queryCommandValue:function(){var e=this.selection.getStartElementPath(),n="";return utils.each(e,function(e){if("PRE"==e.nodeName){var t=e.className.match(/brush:([^;]+)/);return n=t&&t[1]?t[1]:"",!1}}),n}},d.addInputRule(function(e){utils.each(e.getNodesByTagName("pre"),function(t){var e=t.getNodesByTagName("br");if(e.length)browser.ie&&browser.ie11below&&8<browser.version&&utils.each(e,function(e){var t=UE.uNode.createText("\n");e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e)});else if(!(browser.ie&&browser.ie11below&&8<browser.version)){var n=t.innerText().split(/\n/);t.innerHTML(""),utils.each(n,function(e){e.length&&t.appendChild(UE.uNode.createText(e)),t.appendChild(UE.uNode.createElement("br"))})}})}),d.addOutputRule(function(e){utils.each(e.getNodesByTagName("pre"),function(e){var t="";utils.each(e.children,function(e){"text"==e.type?t+=e.data.replace(/[ ]/g,"&nbsp;").replace(/\n$/,""):"br"==e.tagName?t+="\n":t+=dtd.$empty[e.tagName]?e.innerText():""}),e.innerText(t.replace(/(&nbsp;|\n)+$/,""))})}),d.notNeedCodeQuery={help:1,undo:1,redo:1,source:1,print:1,searchreplace:1,fullscreen:1,preview:1,insertparagraph:1,elementpath:1,insertcode:1,inserthtml:1,selectall:1};d.queryCommandState;d.queryCommandState=function(e){return!this.notNeedCodeQuery[e.toLowerCase()]&&this.selection&&this.queryCommandValue("insertcode")?-1:UE.Editor.prototype.queryCommandState.apply(this,arguments)},d.addListener("beforeenterkeydown",function(){var e=d.selection.getRange();if(t=domUtils.findParentByTagName(e.startContainer,"pre",!0)){if(d.fireEvent("saveScene"),e.collapsed||e.deleteContents(),!browser.ie||browser.ie9above){var t,n=d.document.createElement("br");for(e.insertNode(n).setStartAfter(n).collapse(!0),n.nextSibling||browser.ie&&!(10<browser.version)?e.setStartAfter(n):e.insertNode(n.cloneNode(!1)),t=n.previousSibling;t;)if(!(t=(s=t).previousSibling)||"BR"==t.nodeName){t=s;break}if(t){for(var i="";t&&"BR"!=t.nodeName&&new RegExp("^[\\s"+domUtils.fillChar+"]*$").test(t.nodeValue);)i+=t.nodeValue,t=t.nextSibling;if("BR"!=t.nodeName)(l=t.nodeValue.match(new RegExp("^([\\s"+domUtils.fillChar+"]+)")))&&l[1]&&(i+=l[1]);i&&(i=d.document.createTextNode(i),e.insertNode(i).setStartAfter(i))}e.collapse(!0).select(!0)}else if(8<browser.version){var r=d.document.createTextNode("\n"),o=e.startContainer;if(0==e.startOffset){if(o.previousSibling){e.insertNode(r);var a=d.document.createTextNode(" ");e.setStartAfter(r).insertNode(a).setStart(a,0).collapse(!0).select(!0)}}else{e.insertNode(r).setStartAfter(r);a=d.document.createTextNode(" ");(o=e.startContainer.childNodes[e.startOffset])&&!/^\n/.test(o.nodeValue)&&e.setStartBefore(r),e.insertNode(a).setStart(a,0).collapse(!0).select(!0)}}else{var s;n=d.document.createElement("br");for(e.insertNode(n),e.insertNode(d.document.createTextNode(domUtils.fillChar)),e.setStartAfter(n),t=n.previousSibling;t;)if(!(t=(s=t).previousSibling)||"BR"==t.nodeName){t=s;break}if(t){var l;for(i="";t&&"BR"!=t.nodeName&&new RegExp("^[ "+domUtils.fillChar+"]*$").test(t.nodeValue);)i+=t.nodeValue,t=t.nextSibling;if("BR"!=t.nodeName)(l=t.nodeValue.match(new RegExp("^([ "+domUtils.fillChar+"]+)")))&&l[1]&&(i+=l[1]);i=d.document.createTextNode(i),e.insertNode(i).setStartAfter(i)}e.collapse(!0).select()}return d.fireEvent("saveScene"),!0}}),d.addListener("tabkeydown",function(e,t){var n=d.selection.getRange(),i=domUtils.findParentByTagName(n.startContainer,"pre",!0);if(i){if(d.fireEvent("saveScene"),t.shiftKey);else if(n.collapsed){var r=d.document.createTextNode("    ");n.insertNode(r).setStartAfter(r).collapse(!0).select(!0)}else{for(var o=n.createBookmark(),a=o.start.previousSibling;a;){if(i.firstChild===a&&!domUtils.isBr(a)){i.insertBefore(d.document.createTextNode("    "),a);break}if(domUtils.isBr(a)){i.insertBefore(d.document.createTextNode("    "),a.nextSibling);break}a=a.previousSibling}var s=o.end;for(a=o.start.nextSibling,i.firstChild===o.start&&i.insertBefore(d.document.createTextNode("    "),a.nextSibling);a&&a!==s;){if(domUtils.isBr(a)&&a.nextSibling){if(a.nextSibling===s)break;i.insertBefore(d.document.createTextNode("    "),a.nextSibling)}a=a.nextSibling}n.moveToBookmark(o).select()}return d.fireEvent("saveScene"),!0}}),d.addListener("beforeinserthtml",function(e,t){var n=this,i=n.selection.getRange();if(domUtils.findParentByTagName(i.startContainer,"pre",!0)){i.collapsed||i.deleteContents();var r="";if(browser.ie&&8<browser.version){utils.each(UE.filterNode(UE.htmlparser(t),n.options.filterTxtRules).children,function(t){"element"==t.type?"br"==t.tagName?r+="\n":dtd.$empty[t.tagName]||(utils.each(t.children,function(e){"element"==e.type?"br"==e.tagName?r+="\n":dtd.$empty[t.tagName]||(r+=e.innerText()):r+=e.data}),/\n$/.test(r)||(r+="\n")):r+=t.data+"\n",!t.nextSibling()&&/\n$/.test(r)&&(r=r.replace(/\n$/,""))});var o=n.document.createTextNode(utils.html(r.replace(/&nbsp;/g," ")));i.insertNode(o).selectNode(o).select()}else{var a=n.document.createDocumentFragment();utils.each(UE.filterNode(UE.htmlparser(t),n.options.filterTxtRules).children,function(t){"element"==t.type?"br"==t.tagName?a.appendChild(n.document.createElement("br")):dtd.$empty[t.tagName]||(utils.each(t.children,function(e){"element"==e.type?"br"==e.tagName?a.appendChild(n.document.createElement("br")):dtd.$empty[t.tagName]||a.appendChild(n.document.createTextNode(utils.html(e.innerText().replace(/&nbsp;/g," ")))):a.appendChild(n.document.createTextNode(utils.html(e.data.replace(/&nbsp;/g," "))))}),"BR"!=a.lastChild.nodeName&&a.appendChild(n.document.createElement("br"))):a.appendChild(n.document.createTextNode(utils.html(t.data.replace(/&nbsp;/g," ")))),t.nextSibling()||"BR"!=a.lastChild.nodeName||a.removeChild(a.lastChild)}),i.insertNode(a).select()}return!0}}),d.addListener("keydown",function(e,t){if(40==(t.keyCode||t.which)){var n,i=this.selection.getRange(),r=i.startContainer;if(i.collapsed&&(n=domUtils.findParentByTagName(i.startContainer,"pre",!0))&&!n.nextSibling){for(var o=n.lastChild;o&&"BR"==o.nodeName;)o=o.previousSibling;(o===r||i.startContainer===n&&i.startOffset==n.childNodes.length)&&(this.execCommand("insertparagraph"),domUtils.preventDefault(t))}}}),d.addListener("delkeydown",function(e,t){var n=this.selection.getRange();n.txtToElmBoundary(!0);var i=n.startContainer;if(domUtils.isTagNode(i,"pre")&&n.collapsed&&domUtils.isStartInblock(n)){var r=d.document.createElement("p");return domUtils.fillNode(d.document,r),i.parentNode.insertBefore(r,i),domUtils.remove(i),n.setStart(r,0).setCursor(!1,!0),domUtils.preventDefault(t),!0}})},UE.commands.cleardoc={execCommand:function(e){var t=this,n=t.options.enterTag,i=t.selection.getRange();"br"==n?(t.body.innerHTML="<br/>",i.setStart(t.body,0).setCursor()):(t.body.innerHTML="<p>"+(ie?"":"<br/>")+"</p>",i.setStart(t.body.firstChild,0).setCursor(!1,!0)),setTimeout(function(){t.fireEvent("clearDoc")},0)}},UE.plugin.register("anchor",function(){return{bindEvents:{ready:function(){utils.cssRule("anchor",".anchorclass{background: url('"+this.options.themePath+this.options.theme+"/images/anchor.gif') no-repeat scroll left center transparent;cursor: auto;display: inline-block;height: 16px;width: 15px;}",this.document)}},outputRule:function(e){utils.each(e.getNodesByTagName("img"),function(e){var t;(t=e.getAttr("anchorname"))&&(e.tagName="a",e.setAttr({anchorname:"",name:t,class:""}))})},inputRule:function(e){utils.each(e.getNodesByTagName("a"),function(e){e.getAttr("name")&&!e.getAttr("href")&&(e.tagName="img",e.setAttr({anchorname:e.getAttr("name"),class:"anchorclass"}),e.setAttr("name"))})},commands:{anchor:{execCommand:function(e,t){var n=this.selection.getRange(),i=n.getClosedNode();if(i&&i.getAttribute("anchorname"))t?i.setAttribute("anchorname",t):(n.setStartBefore(i).setCursor(),domUtils.remove(i));else if(t){var r=this.document.createElement("img");n.collapse(!0),domUtils.setAttributes(r,{anchorname:t,class:"anchorclass"}),n.insertNode(r).setStartAfter(r).setCursor(!1,!0)}}}}}}),UE.plugins.wordcount=function(){var n,e=this;e.setOpt("wordCount",!0),e.addListener("contentchange",function(){e.fireEvent("wordcount")}),e.addListener("ready",function(){var t=this;domUtils.on(t.body,"keyup",function(e){(e.keyCode||e.which)in{16:1,18:1,20:1,37:1,38:1,39:1,40:1}||(clearTimeout(n),n=setTimeout(function(){t.fireEvent("wordcount")},200))})})},UE.plugins.pagebreak=function(){var c=this,u=["td"];function f(e){if(domUtils.isEmptyBlock(e)){for(var t,n=e.firstChild;n&&1==n.nodeType&&domUtils.isEmptyBlock(n);)n=(t=n).firstChild;t=t||e,domUtils.fillNode(c.document,t)}}function m(e){return e&&1==e.nodeType&&"HR"==e.tagName&&"pagebreak"==e.className}c.setOpt("pageBreakTag","_ueditor_page_break_tag_"),c.ready(function(){utils.cssRule("pagebreak",".pagebreak{display:block;clear:both !important;cursor:default !important;width: 100% !important;margin:0;}",c.document)}),c.addInputRule(function(e){e.traversal(function(e){if("text"==e.type&&e.data==c.options.pageBreakTag){var t=UE.uNode.createElement('<hr class="pagebreak" noshade="noshade" size="5" style="-webkit-user-select: none;">');e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e)}})}),c.addOutputRule(function(e){utils.each(e.getNodesByTagName("hr"),function(e){if("pagebreak"==e.getAttr("class")){var t=UE.uNode.createText(c.options.pageBreakTag);e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e)}})}),c.commands.pagebreak={execCommand:function(){var e=c.selection.getRange(),t=c.document.createElement("hr");domUtils.setAttributes(t,{class:"pagebreak",noshade:"noshade",size:"5"}),domUtils.unSelectable(t);var n=domUtils.findParentByTagName(e.startContainer,u,!0),i=[];if(n)switch(n.tagName){case"TD":if((s=n.parentNode).previousSibling)s.parentNode.insertBefore(t,s),i=domUtils.findParents(t);else{var r=domUtils.findParentByTagName(s,"table");r.parentNode.insertBefore(t,r),i=domUtils.findParents(t,!0)}t!==(s=i[1])&&domUtils.breakParent(t,s),c.fireEvent("afteradjusttable",c.document)}else{if(!e.collapsed){e.deleteContents();for(var o=e.startContainer;!domUtils.isBody(o)&&domUtils.isBlockElm(o)&&domUtils.isEmptyNode(o);)e.setStartBefore(o).collapse(!0),domUtils.remove(o),o=e.startContainer}e.insertNode(t);for(var a,s=t.parentNode;!domUtils.isBody(s);)domUtils.breakParent(t,s),(a=t.nextSibling)&&domUtils.isEmptyBlock(a)&&domUtils.remove(a),s=t.parentNode;a=t.nextSibling;var l=t.previousSibling;if(m(l)?domUtils.remove(l):l&&f(l),a)m(a)?domUtils.remove(a):f(a),e.setEndAfter(t).collapse(!1);else{var d=c.document.createElement("p");t.parentNode.appendChild(d),domUtils.fillNode(c.document,d),e.setStart(d,0).collapse(!0)}e.select(!0)}}}},UE.plugin.register("wordimage",function(){var o=this,n=[];return{commands:{wordimage:{execCommand:function(){for(var e,t=domUtils.getElementsByTagName(o.body,"img"),n=[],i=0;e=t[i++];){var r=e.getAttribute("word_img");r&&n.push(r)}return n},queryCommandState:function(){n=domUtils.getElementsByTagName(o.body,"img");for(var e,t=0;e=n[t++];)if(e.getAttribute("word_img"))return 1;return-1},notNeedUndo:!0}},inputRule:function(e){utils.each(e.getNodesByTagName("img"),function(e){var t=e.attrs,n=parseInt(t.width)<128||parseInt(t.height)<43,i=o.options,r=i.UEDITOR_HOME_URL+"themes/default/images/spacer.gif";t.src&&/^(?:(file:\/+))/.test(t.src)&&e.setAttr({width:t.width,height:t.height,alt:t.alt,word_img:t.src,src:r,style:"background:url("+(n?i.themePath+i.theme+"/images/word.gif":i.langPath+i.lang+"/images/localimage.png")+") no-repeat center center;border:1px solid #ddd"})})}}}),UE.plugins.dragdrop=function(){var r=this;r.ready(function(){domUtils.on(this.body,"dragend",function(){var e=r.selection.getRange(),t=e.getClosedNode()||r.selection.getStart();if(t&&"IMG"==t.tagName){for(var n,i=t.previousSibling;(n=t.nextSibling)&&1==n.nodeType&&"SPAN"==n.tagName&&!n.firstChild;)domUtils.remove(n);(!i||1!=i.nodeType||domUtils.isEmptyBlock(i))&&i||n&&(!n||domUtils.isEmptyBlock(n))||(i&&"P"==i.tagName&&!domUtils.isEmptyBlock(i)?(i.appendChild(t),domUtils.moveChild(n,i),domUtils.remove(n)):n&&"P"==n.tagName&&!domUtils.isEmptyBlock(n)&&n.insertBefore(t,n.firstChild),i&&"P"==i.tagName&&domUtils.isEmptyBlock(i)&&domUtils.remove(i),n&&"P"==n.tagName&&domUtils.isEmptyBlock(n)&&domUtils.remove(n),e.selectNode(t).select(),r.fireEvent("saveScene"))}})}),r.addListener("keyup",function(e,t){if(13==(t.keyCode||t.which)){var n,i=r.selection.getRange();(n=domUtils.findParentByTagName(i.startContainer,"p",!0))&&"center"==domUtils.getComputedStyle(n,"text-align")&&domUtils.removeStyle(n,"text-align")}})},UE.plugins.undo=function(){var o,r=this,a=r.options.maxUndoCount||20,s=r.options.maxInputCount||20,l=new RegExp(domUtils.fillChar+"|</hr>","gi"),d={ol:1,ul:1,table:1,tbody:1,tr:1,body:1},c=r.options.autoClearEmptyNode;function u(e,t){if(e.length!=t.length)return 0;for(var n=0,i=e.length;n<i;n++)if(e[n]!=t[n])return 0;return 1}r.undoManger=new function(){this.list=[],this.index=0,this.hasUndo=!1,this.hasRedo=!1,this.undo=function(){if(this.hasUndo){if(!this.list[this.index-1]&&1==this.list.length)return void this.reset();for(;this.list[this.index].content==this.list[this.index-1].content;)if(this.index--,0==this.index)return this.restore(0);this.restore(--this.index)}},this.redo=function(){if(this.hasRedo){for(;this.list[this.index].content==this.list[this.index+1].content;)if(this.index++,this.index==this.list.length-1)return this.restore(this.index);this.restore(++this.index)}},this.restore=function(){var t=this.editor,e=this.list[this.index],n=UE.htmlparser(e.content.replace(l,""));t.options.autoClearEmptyNode=!1,t.filterInputRule(n),t.options.autoClearEmptyNode=c,t.document.body.innerHTML=n.toHtml(),t.fireEvent("afterscencerestore"),browser.ie&&utils.each(domUtils.getElementsByTagName(t.document,"td th caption p"),function(e){domUtils.isEmptyNode(e)&&domUtils.fillNode(t.document,e)});try{var i=new dom.Range(t.document).moveToAddress(e.address);i.select(d[i.startContainer.nodeName.toLowerCase()])}catch(e){}this.update(),this.clearKey(),t.fireEvent("reset",!0)},this.getScene=function(){var e=this.editor,t=e.selection.getRange().createAddress(!1,!0);e.fireEvent("beforegetscene");var n=UE.htmlparser(e.body.innerHTML);e.options.autoClearEmptyNode=!1,e.filterOutputRule(n),e.options.autoClearEmptyNode=c;var i=n.toHtml();return e.fireEvent("aftergetscene"),{address:t,content:i}},this.save=function(e,t){clearTimeout(o);var n=this.getScene(t),i=this.list[this.index];i&&i.content!=n.content&&r.trigger("contentchange"),i&&i.content==n.content&&(e||function(e,t){return e.collapsed!=t.collapsed?0:u(e.startAddress,t.startAddress)&&u(e.endAddress,t.endAddress)?1:0}(i.address,n.address))||(this.list=this.list.slice(0,this.index+1),this.list.push(n),this.list.length>a&&this.list.shift(),this.index=this.list.length-1,this.clearKey(),this.update())},this.update=function(){this.hasRedo=!!this.list[this.index+1],this.hasUndo=!!this.list[this.index-1]},this.reset=function(){this.list=[],this.index=0,this.hasUndo=!1,this.hasRedo=!1,this.clearKey()},this.clearKey=function(){m=0,null}},(r.undoManger.editor=r).addListener("saveScene",function(){var e=Array.prototype.splice.call(arguments,1);this.undoManger.save.apply(this.undoManger,e)}),r.addListener("reset",function(e,t){t||this.undoManger.reset()}),r.commands.redo=r.commands.undo={execCommand:function(e){this.undoManger[e]()},queryCommandState:function(e){return this.undoManger["has"+("undo"==e.toLowerCase()?"Undo":"Redo")]?0:-1},notNeedUndo:1};var f={16:1,17:1,18:1,37:1,38:1,39:1,40:1},m=0,h=!1;r.addListener("ready",function(){domUtils.on(this.body,"compositionstart",function(){h=!0}),domUtils.on(this.body,"compositionend",function(){h=!1})}),r.addshortcutkey({Undo:"ctrl+90",Redo:"ctrl+89"});var p=!0;r.addListener("keydown",function(e,t){var n=this,i=t.keyCode||t.which;if(!(f[i]||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){function r(e){e.undoManger.save(!1,!0),e.fireEvent("selectionchange")}if(h)return;if(!n.selection.getRange().collapsed)return n.undoManger.save(!1,!0),void(p=!1);0==n.undoManger.list.length&&n.undoManger.save(!0),clearTimeout(o),o=setTimeout(function(){if(h)var e=setInterval(function(){h||(r(n),clearInterval(e))},300);else r(n)},200),i,s<=++m&&r(n)}}),r.addListener("keyup",function(e,t){var n=t.keyCode||t.which;if(!(f[n]||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){if(h)return;p||(this.undoManger.save(!1,!0),p=!0)}}),r.stopCmdUndo=function(){r.__hasEnterExecCommand=!0},r.startCmdUndo=function(){r.__hasEnterExecCommand=!1}},UE.plugin.register("copy",function(){var r=this;function e(){ZeroClipboard.config({debug:!1,swfPath:r.options.UEDITOR_HOME_URL+"third-party/zeroclipboard/ZeroClipboard.swf"});var e=r.zeroclipboard=new ZeroClipboard;e.on("copy",function(e){var t=e.client,n=r.selection.getRange(),i=document.createElement("div");i.appendChild(n.cloneContents()),t.setText(i.innerText||i.textContent),t.setHtml(i.innerHTML),n.select()}),e.on("mouseover mouseout",function(e){var t=e.target;"mouseover"==e.type?domUtils.addClass(t,"edui-state-hover"):"mouseout"==e.type&&domUtils.removeClasses(t,"edui-state-hover")}),e.on("wrongflash noflash",function(){ZeroClipboard.destroy()})}return{bindEvents:{ready:function(){browser.ie||(window.ZeroClipboard?e():utils.loadFile(document,{src:r.options.UEDITOR_HOME_URL+"third-party/zeroclipboard/ZeroClipboard.js",tag:"script",type:"text/javascript",defer:"defer"},function(){e()}))}},commands:{copy:{execCommand:function(e){r.document.execCommand("copy")||alert(r.getLang("copymsg"))}}}}}),UE.plugins.paste=function(){function t(i){var r=this.document;if(!r.getElementById("baidu_pastebin")){var o=this.selection.getRange(),a=o.createBookmark(),s=r.createElement("div");s.id="baidu_pastebin",browser.webkit&&s.appendChild(r.createTextNode(domUtils.fillChar+domUtils.fillChar)),r.body.appendChild(s),a.start.style.display="",s.style.cssText="position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;top:"+domUtils.getXY(a.start).y+"px",o.selectNodeContents(s).select(!0),setTimeout(function(){if(browser.webkit)for(var e,t=0,n=r.querySelectorAll("#baidu_pastebin");e=n[t++];){if(!domUtils.isEmptyNode(e)){s=e;break}domUtils.remove(e)}try{s.parentNode.removeChild(s)}catch(e){}o.moveToBookmark(a).select(!0),i(s)},0)}}var v,b,y,x=this;function w(e){return e.replace(/<(\/?)([\w\-]+)([^>]*)>/gi,function(e,t,n,i){return{img:1}[n=n.toLowerCase()]?e:(i=i.replace(/([\w\-]*?)\s*=\s*(("([^"]*)")|('([^']*)')|([^\s>]+))/gi,function(e,t,n){return{src:1,href:1,name:1}[t.toLowerCase()]?t+"="+n+" ":""}),{span:1,div:1}[n]?"":"<"+t+n+" "+utils.trim(i)+">")})}function n(e){var t;if(e.firstChild){for(var n,i=domUtils.getElementsByTagName(e,"span"),r=0;n=i[r++];)"_baidu_cut_start"!=n.id&&"_baidu_cut_end"!=n.id||domUtils.remove(n);if(browser.webkit){var o,a=e.querySelectorAll("div br");for(r=0;o=a[r++];){var s=o.parentNode;"DIV"==s.tagName&&1==s.childNodes.length&&(s.innerHTML="<p><br/></p>",domUtils.remove(s))}var l,d=e.querySelectorAll("#baidu_pastebin");for(r=0;l=d[r++];){var c=x.document.createElement("p");for(l.parentNode.insertBefore(c,l);l.firstChild;)c.appendChild(l.firstChild);domUtils.remove(l)}var u=e.querySelectorAll("meta");for(r=0;m=u[r++];)domUtils.remove(m);a=e.querySelectorAll("br");for(r=0;m=a[r++];)/^apple-/i.test(m.className)&&domUtils.remove(m)}if(browser.gecko){var f=e.querySelectorAll("[_moz_dirty]");for(r=0;m=f[r++];)m.removeAttribute("_moz_dirty")}if(!browser.ie){var m,h=e.querySelectorAll("span.Apple-style-span");for(r=0;m=h[r++];)domUtils.remove(m,!0)}t=e.innerHTML,t=UE.filterWord(t);var p=UE.htmlparser(t);if(x.options.filterRules&&UE.filterNode(p,x.options.filterRules),x.filterInputRule(p),browser.webkit){var g=p.lastChild();g&&"element"==g.type&&"br"==g.tagName&&p.removeChild(g),utils.each(x.body.querySelectorAll("div"),function(e){domUtils.isEmptyBlock(e)&&domUtils.remove(e,!0)})}if(t={html:p.toHtml()},x.fireEvent("beforepaste",t,p),!t.html)return;p=UE.htmlparser(t.html,!0),1===x.queryCommandState("pasteplain")?x.execCommand("insertHtml",UE.filterNode(p,x.options.filterTxtRules).toHtml(),!0):(UE.filterNode(p,x.options.filterTxtRules),v=p.toHtml(),b=t.html,y=x.selection.getRange().createAddress(!0),x.execCommand("insertHtml",!0===x.getOpt("retainOnlyLabelPasted")?w(b):b,!0)),x.fireEvent("afterpaste",t)}}x.setOpt({retainOnlyLabelPasted:!1}),x.addListener("pasteTransfer",function(e,t){if(y&&v&&b&&v!=b){var n=x.selection.getRange();if(n.moveToAddress(y,!0),!n.collapsed){for(;!domUtils.isBody(n.startContainer);){var i=n.startContainer;if(1==i.nodeType){if(!(i=i.childNodes[n.startOffset])){n.setStartBefore(n.startContainer);continue}var r=i.previousSibling;r&&3==r.nodeType&&new RegExp("^[\n\r\t "+domUtils.fillChar+"]*$").test(r.nodeValue)&&n.setStartBefore(r)}if(0!=n.startOffset)break;n.setStartBefore(n.startContainer)}for(;!domUtils.isBody(n.endContainer);){var o=n.endContainer;if(1==o.nodeType){if(!(o=o.childNodes[n.endOffset])){n.setEndAfter(n.endContainer);continue}var a=o.nextSibling;a&&3==a.nodeType&&new RegExp("^[\n\r\t"+domUtils.fillChar+"]*$").test(a.nodeValue)&&n.setEndAfter(a)}if(n.endOffset!=n.endContainer[3==n.endContainer.nodeType?"nodeValue":"childNodes"].length)break;n.setEndAfter(n.endContainer)}}n.deleteContents(),n.select(!0),x.__hasEnterExecCommand=!0;var s=b;2===t?s=w(s):t&&(s=v),x.execCommand("inserthtml",s,!0),x.__hasEnterExecCommand=!1;for(var l=x.selection.getRange();!domUtils.isBody(l.startContainer)&&!l.startOffset&&l.startContainer[3==l.startContainer.nodeType?"nodeValue":"childNodes"].length;)l.setStartBefore(l.startContainer);var d=l.createAddress(!0);y.endAddress=d.startAddress}}),x.addListener("ready",function(){domUtils.on(x.body,"cut",function(){!x.selection.getRange().collapsed&&x.undoManger&&x.undoManger.save()}),domUtils.on(x.body,browser.ie||browser.opera?"keydown":"paste",function(e){(!browser.ie&&!browser.opera||(e.ctrlKey||e.metaKey)&&"86"==e.keyCode)&&t.call(x,function(e){n(e)})})}),x.commands.paste={execCommand:function(e){browser.ie?(t.call(x,function(e){n(e)}),x.document.execCommand("paste")):alert(x.getLang("pastemsg"))}}},UE.plugins.pasteplain=function(){function e(e){e.tagName="p",e.setStyle()}function t(e){e.parentNode.removeChild(e,!0)}this.setOpt({pasteplain:!1,filterTxtRules:{"-":"script style object iframe embed input select",p:{$:{}},br:{$:{}},div:function(e){for(var t,n=UE.uNode.createElement("p");t=e.firstChild();)"text"!=t.type&&UE.dom.dtd.$block[t.tagName]?n.firstChild()?(e.parentNode.insertBefore(n,e),n=UE.uNode.createElement("p")):e.parentNode.insertBefore(t,e):n.appendChild(t);n.firstChild()&&e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e)},ol:t,ul:t,dl:t,dt:t,dd:t,li:t,caption:e,th:e,tr:e,h1:e,h2:e,h3:e,h4:e,h5:e,h6:e,td:function(e){e.innerText()&&e.parentNode.insertAfter(UE.uNode.createText(" &nbsp; &nbsp;"),e),e.parentNode.removeChild(e,e.innerText())}}});var n=this.options.pasteplain;this.commands.pasteplain={queryCommandState:function(){return n?1:0},execCommand:function(){n=0|!n},notNeedUndo:1}},UE.plugins.list=function(){var x=this,I={TD:1,PRE:1,BLOCKQUOTE:1},d={cn:"cn-1-",cn1:"cn-2-",cn2:"cn-3-",num:"num-1-",num1:"num-2-",num2:"num-3-",dash:"dash",dot:"dot"};function e(e){var t=[];for(var n in e)t.push(n);return t}x.setOpt({autoTransWordToList:!1,insertorderedlist:{num:"",num1:"",num2:"",cn:"",cn1:"",cn2:"",decimal:"","lower-alpha":"","lower-roman":"","upper-alpha":"","upper-roman":""},insertunorderedlist:{circle:"",disc:"",square:"",dash:"",dot:""},listDefaultPaddingLeft:"30",listiconpath:"http://bs.baidu.com/listicon/",maxListLevel:-1,disablePInList:!1});var h={OL:e(x.options.insertorderedlist),UL:e(x.options.insertunorderedlist)},i=x.options.listiconpath;for(var t in d)x.options.insertorderedlist.hasOwnProperty(t)||x.options.insertunorderedlist.hasOwnProperty(t)||delete d[t];function D(e){var t=e.className;return domUtils.hasClass(e,/custom_/)?t.match(/custom_(\w+)/)[1]:domUtils.getStyle(e,"list-style-type")}function a(s,l){utils.each(domUtils.getElementsByTagName(s,"ol ul"),function(r){if(domUtils.inDoc(r,s)){var e=r.parentNode;if(e.tagName==r.tagName){var t=D(r)||("OL"==r.tagName?"decimal":"disc");if(t==(D(e)||("OL"==e.tagName?"decimal":"disc"))){var n=utils.indexOf(h[r.tagName],t);n=n+1==h[r.tagName].length?0:n+1,L(r,h[r.tagName][n])}}var o=0,i=2;domUtils.hasClass(r,/custom_/)?/[ou]l/i.test(e.tagName)&&domUtils.hasClass(e,/custom_/)||(i=1):/[ou]l/i.test(e.tagName)&&domUtils.hasClass(e,/custom_/)&&(i=3);var a=domUtils.getStyle(r,"list-style-type");a&&(r.style.cssText="list-style-type:"+a),r.className=utils.trim(r.className.replace(/list-paddingleft-\w+/,""))+" list-paddingleft-"+i,utils.each(domUtils.getElementsByTagName(r,"li"),function(e){if(e.style.cssText&&(e.style.cssText=""),e.firstChild){if(e.parentNode===r){if(o++,domUtils.hasClass(r,/custom_/)){var t=1,n=D(r);if("OL"==r.tagName){if(n)switch(n){case"cn":case"cn1":case"cn2":10<o&&(o%10==0||10<o&&o<20)?t=2:20<o&&(t=3);break;case"num2":9<o&&(t=2)}e.className="list-"+d[n]+o+" list-"+n+"-paddingleft-"+t}else e.className="list-"+d[n]+" list-"+n+"-paddingleft"}else e.className=e.className.replace(/list-[\w\-]+/gi,"");var i=e.getAttribute("class");null===i||i.replace(/\s/g,"")||domUtils.removeAttributes(e,"class")}}else domUtils.remove(e)}),l||R(r,r.tagName.toLowerCase(),D(r)||domUtils.getStyle(r,"list-style-type"),!0)}})}function R(e,t,n,i){var r=e.nextSibling;r&&1==r.nodeType&&r.tagName.toLowerCase()==t&&(D(r)||domUtils.getStyle(r,"list-style-type")||("ol"==t?"decimal":"disc"))==n&&(domUtils.moveChild(r,e),0==r.childNodes.length&&domUtils.remove(r)),r&&domUtils.isFillChar(r)&&domUtils.remove(r);var o=e.previousSibling;o&&1==o.nodeType&&o.tagName.toLowerCase()==t&&(D(o)||domUtils.getStyle(o,"list-style-type")||("ol"==t?"decimal":"disc"))==n&&domUtils.moveChild(e,o),o&&domUtils.isFillChar(o)&&domUtils.remove(o),!i&&domUtils.isEmptyBlock(e)&&domUtils.remove(e),D(e)&&a(e.ownerDocument,!0)}function L(e,t){d[t]&&(e.className="custom_"+t);try{domUtils.setStyle(e,"list-style-type",t)}catch(e){}}function w(e){var t=e.previousSibling;t&&domUtils.isEmptyBlock(t)&&domUtils.remove(t),(t=e.nextSibling)&&domUtils.isEmptyBlock(t)&&domUtils.remove(t)}function O(e){for(;e&&!domUtils.isBody(e);){if("TABLE"==e.nodeName)return null;if("LI"==e.nodeName)return e;e=e.parentNode}}x.ready(function(){var e=[];for(var t in d){if("dash"==t||"dot"==t)e.push("li.list-"+d[t]+"{background-image:url("+i+d[t]+".gif)}"),e.push("ul.custom_"+t+"{list-style:none;}ul.custom_"+t+" li{background-position:0 3px;background-repeat:no-repeat}");else{for(var n=0;n<99;n++)e.push("li.list-"+d[t]+n+"{background-image:url("+i+"list-"+d[t]+n+".gif)}");e.push("ol.custom_"+t+"{list-style:none;}ol.custom_"+t+" li{background-position:0 3px;background-repeat:no-repeat}")}switch(t){case"cn":e.push("li.list-"+t+"-paddingleft-1{padding-left:25px}"),e.push("li.list-"+t+"-paddingleft-2{padding-left:40px}"),e.push("li.list-"+t+"-paddingleft-3{padding-left:55px}");break;case"cn1":e.push("li.list-"+t+"-paddingleft-1{padding-left:30px}"),e.push("li.list-"+t+"-paddingleft-2{padding-left:40px}"),e.push("li.list-"+t+"-paddingleft-3{padding-left:55px}");break;case"cn2":e.push("li.list-"+t+"-paddingleft-1{padding-left:40px}"),e.push("li.list-"+t+"-paddingleft-2{padding-left:55px}"),e.push("li.list-"+t+"-paddingleft-3{padding-left:68px}");break;case"num":case"num1":e.push("li.list-"+t+"-paddingleft-1{padding-left:25px}");break;case"num2":e.push("li.list-"+t+"-paddingleft-1{padding-left:35px}"),e.push("li.list-"+t+"-paddingleft-2{padding-left:40px}");break;case"dash":e.push("li.list-"+t+"-paddingleft{padding-left:35px}");break;case"dot":e.push("li.list-"+t+"-paddingleft{padding-left:20px}")}}e.push(".list-paddingleft-1{padding-left:0}"),e.push(".list-paddingleft-2{padding-left:"+x.options.listDefaultPaddingLeft+"px}"),e.push(".list-paddingleft-3{padding-left:"+2*x.options.listDefaultPaddingLeft+"px}"),utils.cssRule("list","ol,ul{margin:0;pading:0;"+(browser.ie?"":"width:95%")+"}li{clear:both;}"+e.join("\n"),x.document)}),x.ready(function(){domUtils.on(x.body,"cut",function(){setTimeout(function(){var e,t=x.selection.getRange();if(!t.collapsed&&(e=domUtils.findParentByTagName(t.startContainer,"li",!0))&&!e.nextSibling&&domUtils.isEmptyBlock(e)){var n,i=e.parentNode;if(n=i.previousSibling)domUtils.remove(i),t.setStartAtLast(n).collapse(!0),t.select(!0);else if(n=i.nextSibling)domUtils.remove(i),t.setStartAtFirst(n).collapse(!0),t.select(!0);else{var r=x.document.createElement("p");domUtils.fillNode(x.document,r),i.parentNode.insertBefore(r,i),domUtils.remove(i),t.setStart(r,0).collapse(!0),t.select(!0)}}})})}),x.addListener("beforepaste",function(r,e){var t,n=this.selection.getRange(),o=UE.htmlparser(e.html,!0);if(t=domUtils.findParentByTagName(n.startContainer,"li",!0)){var a=t.parentNode,i="OL"==a.tagName?"ul":"ol";utils.each(o.getNodesByTagName(i),function(e){if(e.tagName=a.tagName,e.setAttr(),e.parentNode===o)r=D(a)||("OL"==a.tagName?"decimal":"disc");else{var t=e.parentNode.getAttr("class");r=(r=t&&/custom_/.test(t)?t.match(/custom_(\w+)/)[1]:e.parentNode.getStyle("list-style-type"))||("OL"==a.tagName?"decimal":"disc")}var n=utils.indexOf(h[a.tagName],r);e.parentNode!==o&&(n=n+1==h[a.tagName].length?0:n+1);var i=h[a.tagName][n];d[i]?e.setAttr("class","custom_"+i):e.setStyle("list-style-type",i)})}e.html=o.toHtml()}),!0===x.getOpt("disablePInList")&&x.addOutputRule(function(e){utils.each(e.getNodesByTagName("li"),function(i){var r=[],o=0;utils.each(i.children,function(e){if("p"==e.tagName){for(var t;t=e.children.pop();)r.splice(o,0,t),t.parentNode=i,lastNode=t;if(!(t=r[r.length-1])||"element"!=t.type||"br"!=t.tagName){var n=UE.uNode.createElement("br");n.parentNode=i,r.push(n)}o=r.length}}),r.length&&(i.children=r)})}),x.addInputRule(function(e){if(utils.each(e.getNodesByTagName("li"),function(e){for(var t,n=UE.uNode.createElement("p"),i=0;t=e.children[i];)"text"==t.type||dtd.p[t.tagName]?n.appendChild(t):n.firstChild()?(e.insertBefore(n,t),n=UE.uNode.createElement("p"),i+=2):i++;(!n.firstChild()||n.parentNode)&&e.firstChild()||e.appendChild(n),n.firstChild()||n.innerHTML(browser.ie?"&nbsp;":"<br/>");var r=e.firstChild(),o=r.lastChild();o&&"text"==o.type&&/^\s*$/.test(o.data)&&r.removeChild(o)}),x.options.autoTransWordToList){function s(e,t){var n=t.firstChild();if(n&&"element"==n.type&&"span"==n.tagName&&/Wingdings|Symbol/.test(n.getStyle("font-family"))){for(var i in r)if(r[i]==n.data)return i;return"disc"}for(var i in l)if(l[i].test(e))return i}var l={num1:/^\d+\)/,decimal:/^\d+\./,"lower-alpha":/^[a-z]+\)/,"upper-alpha":/^[A-Z]+\./,cn:/^[\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+[\u3001]/,cn2:/^\([\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+\)/},r={square:"n"};utils.each(e.getNodesByTagName("p"),function(e){if("MsoListParagraph"==e.getAttr("class")){e.setStyle("margin",""),e.setStyle("margin-left",""),e.setAttr("class","");var t,n=e,i=e;if("li"!=e.parentNode.tagName&&(t=s(e.innerText(),e))){var r=UE.uNode.createElement(x.options.insertorderedlist.hasOwnProperty(t)?"ol":"ul");for(d[t]?r.setAttr("class","custom_"+t):r.setStyle("list-style-type",t);e&&"li"!=e.parentNode.tagName&&s(e.innerText(),e);)(n=e.nextSibling())||e.parentNode.insertBefore(r,e),a(r,e,t),e=n;!r.parentNode&&e&&e.parentNode&&e.parentNode.insertBefore(r,e)}var o=i.firstChild();o&&"element"==o.type&&"span"==o.tagName&&/^\s*(&nbsp;)+\s*$/.test(o.innerText())&&o.parentNode.removeChild(o)}function a(e,t,n){if("ol"==e.tagName)if(browser.ie){var i=t.firstChild();"element"==i.type&&"span"==i.tagName&&l[n].test(i.innerText())&&t.removeChild(i)}else t.innerHTML(t.innerHTML().replace(l[n],""));else t.removeChild(t.firstChild());var r=UE.uNode.createElement("li");r.appendChild(t),e.appendChild(r)}})}}),x.addListener("contentchange",function(){a(x.document)}),x.addListener("keydown",function(e,t){function n(){t.preventDefault?t.preventDefault():t.returnValue=!1,x.fireEvent("contentchange"),x.undoManger&&x.undoManger.save()}function i(e,t){for(;e&&!domUtils.isBody(e);){if(t(e))return null;if(1==e.nodeType&&/[ou]l/i.test(e.tagName))return e;e=e.parentNode}return null}var r=t.keyCode||t.which;if(13==r&&!t.shiftKey){var o=x.selection.getRange(),a=domUtils.findParent(o.startContainer,function(e){return domUtils.isBlockElm(e)},!0),s=domUtils.findParentByTagName(o.startContainer,"li",!0);if(a&&"PRE"!=a.tagName&&!s){var l=a.innerHTML.replace(new RegExp(domUtils.fillChar,"g"),"");/^\s*1\s*\.[^\d]/.test(l)&&(a.innerHTML=l.replace(/^\s*1\s*\./,""),o.setStartAtLast(a).collapse(!0).select(),x.__hasEnterExecCommand=!0,x.execCommand("insertorderedlist"),x.__hasEnterExecCommand=!1)}var d=x.selection.getRange(),c=i(d.startContainer,function(e){return"TABLE"==e.tagName}),u=d.collapsed?c:i(d.endContainer,function(e){return"TABLE"==e.tagName});if(c&&u&&c===u){if(!d.collapsed){if(c=domUtils.findParentByTagName(d.startContainer,"li",!0),u=domUtils.findParentByTagName(d.endContainer,"li",!0),!c||!u||c!==u){var f=d.cloneRange(),m=f.collapse(!1).createBookmark();return d.deleteContents(),f.moveToBookmark(m),w(s=domUtils.findParentByTagName(f.startContainer,"li",!0)),f.select(),void n()}if(d.deleteContents(),(s=domUtils.findParentByTagName(d.startContainer,"li",!0))&&domUtils.isEmptyBlock(s))return b=s.previousSibling,next=s.nextSibling,p=x.document.createElement("p"),domUtils.fillNode(x.document,p),y=s.parentNode,b&&next?(d.setStart(next,0).collapse(!0).select(!0),domUtils.remove(s)):((b||next)&&b?s.parentNode.parentNode.insertBefore(p,y.nextSibling):y.parentNode.insertBefore(p,y),domUtils.remove(s),y.firstChild||domUtils.remove(y),d.setStart(p,0).setCursor()),void n()}if(s=domUtils.findParentByTagName(d.startContainer,"li",!0)){if(domUtils.isEmptyBlock(s)){if(m=d.createBookmark(),s!==(y=s.parentNode).lastChild?(domUtils.breakParent(s,y),w(s)):(y.parentNode.insertBefore(s,y.nextSibling),domUtils.isEmptyNode(y)&&domUtils.remove(y)),!dtd.$list[s.parentNode.tagName])if(domUtils.isBlockElm(s.firstChild))domUtils.remove(s,!0);else{for(p=x.document.createElement("p"),s.parentNode.insertBefore(p,s);s.firstChild;)p.appendChild(s.firstChild);domUtils.remove(s)}d.moveToBookmark(m).select()}else{var h=s.firstChild;if(!h||!domUtils.isBlockElm(h)){var p=x.document.createElement("p");for(s.firstChild||domUtils.fillNode(x.document,p);s.firstChild;)p.appendChild(s.firstChild);s.appendChild(p),h=p}var g=x.document.createElement("span");d.insertNode(g),domUtils.breakParent(g,s);var v=g.nextSibling;(h=v.firstChild)||(p=x.document.createElement("p"),domUtils.fillNode(x.document,p),v.appendChild(p),h=p),domUtils.isEmptyNode(h)&&(h.innerHTML="",domUtils.fillNode(x.document,h)),d.setStart(h,0).collapse(!0).shrinkBoundary().select(),domUtils.remove(g);var b=v.previousSibling;b&&domUtils.isEmptyBlock(b)&&(b.innerHTML="<p></p>",domUtils.fillNode(x.document,b.firstChild))}n()}}}if(8==r&&(d=x.selection.getRange()).collapsed&&domUtils.isStartInblock(d)&&(f=d.cloneRange().trimBoundary(),(s=domUtils.findParentByTagName(d.startContainer,"li",!0))&&domUtils.isStartInblock(f))){if((c=domUtils.findParentByTagName(d.startContainer,"p",!0))&&c!==s.firstChild){var y=domUtils.findParentByTagName(c,["ol","ul"]);return domUtils.breakParent(c,y),w(c),x.fireEvent("contentchange"),d.setStart(c,0).setCursor(!1,!0),x.fireEvent("saveScene"),void domUtils.preventDefault(t)}if(s&&(b=s.previousSibling)){if(46==r&&s.childNodes.length)return;if(dtd.$list[b.tagName]&&(b=b.lastChild),x.undoManger&&x.undoManger.save(),h=s.firstChild,domUtils.isBlockElm(h))if(domUtils.isEmptyNode(h))for(b.appendChild(h),d.setStart(h,0).setCursor(!1,!0);s.firstChild;)b.appendChild(s.firstChild);else g=x.document.createElement("span"),d.insertNode(g),domUtils.isEmptyBlock(b)&&(b.innerHTML=""),domUtils.moveChild(s,b),d.setStartBefore(g).collapse(!0).select(!0),domUtils.remove(g);else if(domUtils.isEmptyNode(s)){p=x.document.createElement("p");b.appendChild(p),d.setStart(p,0).setCursor()}else for(d.setEnd(b,b.childNodes.length).collapse().select(!0);s.firstChild;)b.appendChild(s.firstChild);return domUtils.remove(s),x.fireEvent("contentchange"),x.fireEvent("saveScene"),void domUtils.preventDefault(t)}if(s&&!s.previousSibling){y=s.parentNode,m=d.createBookmark();if(domUtils.isTagNode(y.parentNode,"ol ul"))y.parentNode.insertBefore(s,y),domUtils.isEmptyNode(y)&&domUtils.remove(y);else{for(;s.firstChild;)y.parentNode.insertBefore(s.firstChild,y);domUtils.remove(s),domUtils.isEmptyNode(y)&&domUtils.remove(y)}return d.moveToBookmark(m).setCursor(!1,!0),x.fireEvent("contentchange"),x.fireEvent("saveScene"),void domUtils.preventDefault(t)}}}),x.addListener("keyup",function(e,t){if(8==(t.keyCode||t.which)){var n,i=x.selection.getRange();(n=domUtils.findParentByTagName(i.startContainer,["ol","ul"],!0))&&R(n,n.tagName.toLowerCase(),D(n)||domUtils.getComputedStyle(n,"list-style-type"),!0)}}),x.addListener("tabkeydown",function(){var e=x.selection.getRange();function t(e){if(-1!=x.options.maxListLevel){for(var t=e.parentNode,n=0;/[ou]l/i.test(t.tagName);)n++,t=t.parentNode;if(n>=x.options.maxListLevel)return!0}}var n=domUtils.findParentByTagName(e.startContainer,"li",!0);if(n){var i;if(!e.collapsed){x.fireEvent("saveScene"),i=e.createBookmark();for(var r,o,a=0,s=domUtils.findParents(n);o=s[a++];)if(domUtils.isTagNode(o,"ol ul")){r=o;break}var l=n;if(i.end)for(;l&&!(domUtils.getPosition(l,i.end)&domUtils.POSITION_FOLLOWING);)if(t(l))l=domUtils.getNextDomNode(l,!1,null,function(e){return e!==r});else{f=l.parentNode,m=x.document.createElement(f.tagName);var d=(c=utils.indexOf(h[m.tagName],D(f)||domUtils.getComputedStyle(f,"list-style-type")))+1==h[m.tagName].length?0:c+1;for(L(m,u=h[m.tagName][d]),f.insertBefore(m,l);l&&!(domUtils.getPosition(l,i.end)&domUtils.POSITION_FOLLOWING);){if(n=l.nextSibling,m.appendChild(l),!n||domUtils.isTagNode(n,"ol ul")){if(n)for(;(n=n.firstChild)&&"LI"!=n.tagName;);else n=domUtils.getNextDomNode(l,!1,null,function(e){return e!==r});break}l=n}R(m,m.tagName.toLowerCase(),u),l=n}return x.fireEvent("contentchange"),e.moveToBookmark(i).select(),!0}if(t(n))return!0;var c,u,f=n.parentNode,m=x.document.createElement(f.tagName);if(c=(c=utils.indexOf(h[m.tagName],D(f)||domUtils.getComputedStyle(f,"list-style-type")))+1==h[m.tagName].length?0:c+1,L(m,u=h[m.tagName][c]),domUtils.isStartInblock(e))return x.fireEvent("saveScene"),i=e.createBookmark(),f.insertBefore(m,n),m.appendChild(n),R(m,m.tagName.toLowerCase(),u),x.fireEvent("contentchange"),e.moveToBookmark(i).select(!0),!0}}),x.commands.insertorderedlist=x.commands.insertunorderedlist={execCommand:function(e,t){t=t||("insertorderedlist"==e.toLowerCase()?"decimal":"disc");function n(e){return 1==e.nodeType?"br"!=e.tagName.toLowerCase():!domUtils.isWhitespace(e)}var i=this,r=this.selection.getRange(),o="insertorderedlist"==e.toLowerCase()?"ol":"ul",a=i.document.createDocumentFragment();r.adjustmentBoundary().shrinkBoundary();var s,l,d,c,u=r.createBookmark(!0),f=O(i.document.getElementById(u.start)),m=0,h=O(i.document.getElementById(u.end)),p=0;if(f||h){if(f&&(s=f.parentNode),u.end||(h=f),h&&(l=h.parentNode),s===l){for(;f!==h;){if(f=(c=f).nextSibling,!domUtils.isBlockElm(c.firstChild)){for(var g=i.document.createElement("p");c.firstChild;)g.appendChild(c.firstChild);c.appendChild(g)}a.appendChild(c)}if(c=i.document.createElement("span"),s.insertBefore(c,h),!domUtils.isBlockElm(h.firstChild)){for(g=i.document.createElement("p");h.firstChild;)g.appendChild(h.firstChild);h.appendChild(g)}a.appendChild(h),domUtils.breakParent(c,s),domUtils.isEmptyNode(c.previousSibling)&&domUtils.remove(c.previousSibling),domUtils.isEmptyNode(c.nextSibling)&&domUtils.remove(c.nextSibling);var v=D(s)||domUtils.getComputedStyle(s,"list-style-type")||("insertorderedlist"==e.toLowerCase()?"decimal":"disc");if(s.tagName.toLowerCase()==o&&v==t){for(var b=0,y=i.document.createDocumentFragment();B=a.firstChild;)if(domUtils.isTagNode(B,"ol ul"))y.appendChild(B);else for(;B.firstChild;)y.appendChild(B.firstChild),domUtils.remove(B);c.parentNode.insertBefore(y,c)}else L(d=i.document.createElement(o),t),d.appendChild(a),c.parentNode.insertBefore(d,c);return domUtils.remove(c),d&&R(d,o,t),void r.moveToBookmark(u).select()}if(f){for(;f;){if(c=f.nextSibling,domUtils.isTagNode(f,"ol ul"))a.appendChild(f);else{for(var x=i.document.createDocumentFragment(),w=0;f.firstChild;)domUtils.isBlockElm(f.firstChild)&&(w=1),x.appendChild(f.firstChild);if(w)a.appendChild(x);else{var C=i.document.createElement("p");C.appendChild(x),a.appendChild(C)}domUtils.remove(f)}f=c}s.parentNode.insertBefore(a,s.nextSibling),domUtils.isEmptyNode(s)?(r.setStartBefore(s),domUtils.remove(s)):r.setStartAfter(s),m=1}if(h&&domUtils.inDoc(l,i.document)){for(f=l.firstChild;f&&f!==h;){if(c=f.nextSibling,domUtils.isTagNode(f,"ol ul"))a.appendChild(f);else{for(x=i.document.createDocumentFragment(),w=0;f.firstChild;)domUtils.isBlockElm(f.firstChild)&&(w=1),x.appendChild(f.firstChild);w?a.appendChild(x):((C=i.document.createElement("p")).appendChild(x),a.appendChild(C)),domUtils.remove(f)}f=c}var _=domUtils.createElement(i.document,"div",{tmpDiv:1});domUtils.moveChild(h,_),a.appendChild(_),domUtils.remove(h),l.parentNode.insertBefore(a,l),r.setEndBefore(l),domUtils.isEmptyNode(l)&&domUtils.remove(l),p=1}}m||r.setStartBefore(i.document.getElementById(u.start)),u.end&&!p&&r.setEndAfter(i.document.getElementById(u.end)),r.enlarge(!0,function(e){return I[e.tagName]}),a=i.document.createDocumentFragment();for(var N=r.createBookmark(),E=domUtils.getNextDomNode(N.start,!1,n),S=r.cloneRange(),T=domUtils.isBlockElm;E&&E!==N.end&&domUtils.getPosition(E,N.end)&domUtils.POSITION_PRECEDING;)if(3==E.nodeType||dtd.li[E.tagName]){if(1==E.nodeType&&dtd.$list[E.tagName]){for(;E.firstChild;)a.appendChild(E.firstChild);k=domUtils.getNextDomNode(E,!1,n),domUtils.remove(E),E=k;continue}for(k=E,S.setStartBefore(E);E&&E!==N.end&&(!T(E)||domUtils.isBookmarkNode(E));)k=E,E=domUtils.getNextDomNode(E,!1,null,function(e){return!I[e.tagName]});E&&T(E)&&(c=domUtils.getNextDomNode(k,!1,n))&&domUtils.isBookmarkNode(c)&&(E=domUtils.getNextDomNode(c,!1,n),k=c),S.setEndAfter(k),E=domUtils.getNextDomNode(k,!1,n);var U=r.document.createElement("li");if(U.appendChild(S.extractContents()),domUtils.isEmptyNode(U)){for(var k=r.document.createElement("p");U.firstChild;)k.appendChild(U.firstChild);U.appendChild(k)}a.appendChild(U)}else E=domUtils.getNextDomNode(E,!0,n);r.moveToBookmark(N).collapse(!0),L(d=i.document.createElement(o),t),d.appendChild(a),r.insertNode(d),R(d,o,t);b=0;for(var B,A=domUtils.getElementsByTagName(d,"div");B=A[b++];)B.getAttribute("tmpDiv")&&domUtils.remove(B,!0);r.moveToBookmark(u).select()},queryCommandState:function(e){for(var t,n="insertorderedlist"==e.toLowerCase()?"ol":"ul",i=this.selection.getStartElementPath(),r=0;t=i[r++];){if("TABLE"==t.nodeName)return 0;if(n==t.nodeName.toLowerCase())return 1}return 0},queryCommandValue:function(e){for(var t,n,i="insertorderedlist"==e.toLowerCase()?"ol":"ul",r=this.selection.getStartElementPath(),o=0;n=r[o++];){if("TABLE"==n.nodeName){t=null;break}if(i==n.nodeName.toLowerCase()){t=n;break}}return t?D(t)||domUtils.getComputedStyle(t,"list-style-type"):null}}},Dma={textarea:function(e,t){var n=t.ownerDocument.createElement("textarea");return n.style.cssText="position:absolute;resize:none;width:100%;height:100%;border:0;padding:0;margin:0;overflow-y:auto;",browser.ie&&browser.version<8&&(n.style.width=t.offsetWidth+"px",n.style.height=t.offsetHeight+"px",t.onresize=function(){n.style.width=t.offsetWidth+"px",n.style.height=t.offsetHeight+"px"}),t.appendChild(n),{setContent:function(e){n.value=e},getContent:function(){return n.value},select:function(){var e;browser.ie?((e=n.createTextRange()).collapse(!0),e.select()):(n.setSelectionRange(0,0),n.focus())},dispose:function(){t.removeChild(n),t.onresize=null,t=n=null}}},codemirror:function(e,t){var n=window.CodeMirror(t,{mode:"text/html",tabMode:"indent",lineNumbers:!0,lineWrapping:!0}),i=n.getWrapperElement();return i.style.cssText='position:absolute;left:0;top:0;width:100%;height:100%;font-family:consolas,"Courier new",monospace;font-size:13px;',n.getScrollerElement().style.cssText="position:absolute;left:0;top:0;width:100%;height:100%;",n.refresh(),{getCodeMirror:function(){return n},setContent:function(e){n.setValue(e)},getContent:function(){return n.getValue()},select:function(){n.focus()},dispose:function(){t.removeChild(i),n=i=null}}}},UE.plugins.source=function(){var o,a,s,l,d,c=this,u=this.options,f=!1;u.sourceEditor=browser.ie?"textarea":u.sourceEditor||"codemirror",c.setOpt({sourceEditorFirst:!1}),c.commands.source={execCommand:function(){if(f=!f){d=c.selection.getRange().createAddress(!1,!0),c.undoManger&&c.undoManger.save(!0),browser.gecko&&(c.body.contentEditable=!1),s=c.iframe.style.cssText,c.iframe.style.cssText+="position:absolute;left:-32768px;top:-32768px;",c.fireEvent("beforegetcontent");var e=UE.htmlparser(c.body.innerHTML);c.filterOutputRule(e),e.traversal(function(e){if("element"==e.type)switch(e.tagName){case"td":case"th":case"caption":e.children&&1==e.children.length&&"br"==e.firstChild().tagName&&e.removeChild(e.firstChild());break;case"pre":e.innerText(e.innerText().replace(/&nbsp;/g," "))}}),c.fireEvent("aftergetcontent");var t=e.toHtml(!0);(o=function(e){return Dma["codemirror"==u.sourceEditor&&window.CodeMirror?"codemirror":"textarea"](c,e)}(c.iframe.parentNode)).setContent(t),a=c.setContent,c.setContent=function(e){var t=UE.htmlparser(e);c.filterInputRule(t),e=t.toHtml(),o.setContent(e)},setTimeout(function(){o.select(),c.addListener("fullscreenchanged",function(){try{o.getCodeMirror().refresh()}catch(e){}})}),l=c.getContent,c.getContent=function(){return o.getContent()||"<p>"+(browser.ie?"":"<br/>")+"</p>"}}else{c.iframe.style.cssText=s;var n=o.getContent()||"<p>"+(browser.ie?"":"<br/>")+"</p>";n=n.replace(new RegExp("[\\r\\t\\n ]*</?(\\w+)\\s*(?:[^>]*)>","g"),function(e,t){return t&&!dtd.$inlineWithA[t.toLowerCase()]?e.replace(/(^[\n\r\t ]*)|([\n\r\t ]*$)/g,""):e.replace(/(^[\n\r\t]*)|([\n\r\t]*$)/g,"")}),c.setContent=a,c.setContent(n),o.dispose(),o=null,c.getContent=l;var i=c.body.firstChild;if(i||(c.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>",i=c.body.firstChild),c.undoManger&&c.undoManger.save(!0),browser.gecko){var r=document.createElement("input");r.style.cssText="position:absolute;left:0;top:-32768px",document.body.appendChild(r),c.body.contentEditable=!1,setTimeout(function(){domUtils.setViewportOffset(r,{left:-32768,top:0}),r.focus(),setTimeout(function(){c.body.contentEditable=!0,c.selection.getRange().moveToAddress(d).select(!0),domUtils.remove(r)})})}else try{c.selection.getRange().moveToAddress(d).select(!0)}catch(e){}}this.fireEvent("sourcemodechanged",f)},queryCommandState:function(){return 0|f},notNeedUndo:1};var t=c.queryCommandState;c.queryCommandState=function(e){return e=e.toLowerCase(),f?e in{source:1,fullscreen:1}?1:-1:t.apply(this,arguments)},"codemirror"==u.sourceEditor&&c.addListener("ready",function(){utils.loadFile(document,{src:"./"+u.codeMirrorJsUrl||!1,tag:"script",type:"text/javascript",defer:"defer"},function(){u.sourceEditorFirst&&setTimeout(function(){c.execCommand("source")},0)}),utils.loadFile(document,{tag:"link",rel:"stylesheet",type:"text/css",href:"./"+u.codeMirrorCssUrl||!1})})},UE.plugins.enterkey=function(){var l,d=this,c=d.options.enterTag;d.addListener("keyup",function(e,t){if(13==(t.keyCode||t.which)){var n,i=d.selection.getRange(),r=i.startContainer;if(browser.ie)d.fireEvent("saveScene",!0,!0);else{if(/h\d/i.test(l)){if(browser.gecko)domUtils.findParentByTagName(r,["h1","h2","h3","h4","h5","h6","blockquote","caption","table"],!0)||(d.document.execCommand("formatBlock",!1,"<p>"),n=1);else if(1==r.nodeType){var o,a=d.document.createTextNode("");if(i.insertNode(a),o=domUtils.findParentByTagName(a,"div",!0)){for(var s=d.document.createElement("p");o.firstChild;)s.appendChild(o.firstChild);o.parentNode.insertBefore(s,o),domUtils.remove(o),i.setStartBefore(a).setCursor(),n=1}domUtils.remove(a)}d.undoManger&&n&&d.undoManger.save()}browser.opera&&i.select()}}}),d.addListener("keydown",function(e,t){if(13==(t.keyCode||t.which)){if(d.fireEvent("beforeenterkeydown"))return void domUtils.preventDefault(t);d.fireEvent("saveScene",!0,!0),l="";var n=d.selection.getRange();if(!n.collapsed){var i=n.startContainer,r=n.endContainer,o=domUtils.findParentByTagName(i,"td",!0),a=domUtils.findParentByTagName(r,"td",!0);if(o&&a&&o!==a||!o&&a||o&&!a)return void(t.preventDefault?t.preventDefault():t.returnValue=!1)}if("p"==c)browser.ie||((i=domUtils.findParentByTagName(n.startContainer,["ol","ul","p","h1","h2","h3","h4","h5","h6","blockquote","caption"],!0))||browser.opera?(l=i.tagName,"p"==i.tagName.toLowerCase()&&browser.gecko&&domUtils.removeDirtyAttr(i)):(d.document.execCommand("formatBlock",!1,"<p>"),browser.gecko&&(n=d.selection.getRange(),(i=domUtils.findParentByTagName(n.startContainer,"p",!0))&&domUtils.removeDirtyAttr(i))));else if(t.preventDefault?t.preventDefault():t.returnValue=!1,n.collapsed)s=n.document.createElement("br"),n.insertNode(s),s.parentNode.lastChild===s?(s.parentNode.insertBefore(s.cloneNode(!0),s),n.setStartBefore(s)):n.setStartAfter(s),n.setCursor();else if(n.deleteContents(),1==(i=n.startContainer).nodeType&&(i=i.childNodes[n.startOffset])){for(;1==i.nodeType;){if(dtd.$empty[i.tagName])return n.setStartBefore(i).setCursor(),d.undoManger&&d.undoManger.save(),!1;if(!i.firstChild){var s=n.document.createElement("br");return i.appendChild(s),n.setStart(i,0).setCursor(),d.undoManger&&d.undoManger.save(),!1}i=i.firstChild}i===n.startContainer.childNodes[n.startOffset]?(s=n.document.createElement("br"),n.insertNode(s).setCursor()):n.setStart(i,0).setCursor()}else s=n.document.createElement("br"),n.insertNode(s).setStartAfter(s).setCursor()}})},UE.plugins.keystrokes=function(){var y=this,x=!0;y.addListener("keydown",function(e,t){var n=t.keyCode||t.which,i=y.selection.getRange();if(!i.collapsed&&!(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey)&&(65<=n&&n<=90||48<=n&&n<=57||96<=n&&n<=111||{13:1,8:1,46:1}[n])){var r=i.startContainer;if(domUtils.isFillChar(r)&&i.setStartBefore(r),r=i.endContainer,domUtils.isFillChar(r)&&i.setEndAfter(r),i.txtToElmBoundary(),i.endContainer&&1==i.endContainer.nodeType&&(r=i.endContainer.childNodes[i.endOffset])&&domUtils.isBr(r)&&i.setEndAfter(r),0==i.startOffset&&(r=i.startContainer,domUtils.isBoundaryNode(r,"firstChild")&&(r=i.endContainer,i.endOffset==(3==r.nodeType?r.nodeValue.length:r.childNodes.length)&&domUtils.isBoundaryNode(r,"lastChild"))))return y.fireEvent("saveScene"),y.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>",i.setStart(y.body.firstChild,0).setCursor(!1,!0),void y._selectionChange()}if(n==keymap.Backspace){if(i=y.selection.getRange(),x=i.collapsed,y.fireEvent("delkeydown",t))return;var o,a;if(i.collapsed&&i.inFillChar()&&(o=i.startContainer,domUtils.isFillChar(o)?(i.setStartBefore(o).shrinkBoundary(!0).collapse(!0),domUtils.remove(o)):(o.nodeValue=o.nodeValue.replace(new RegExp("^"+domUtils.fillChar),""),i.startOffset--,i.collapse(!0).select(!0))),o=i.getClosedNode())return y.fireEvent("saveScene"),i.setStartBefore(o),domUtils.remove(o),i.setCursor(),y.fireEvent("saveScene"),void domUtils.preventDefault(t);if(!browser.ie&&(o=domUtils.findParentByTagName(i.startContainer,"table",!0),a=domUtils.findParentByTagName(i.endContainer,"table",!0),o&&!a||!o&&a||o!==a))return void t.preventDefault()}if(n==keymap.Tab){var s={ol:1,ul:1,table:1};if(y.fireEvent("tabkeydown",t))return void domUtils.preventDefault(t);var l=y.selection.getRange();y.fireEvent("saveScene");for(var d=0,c="",u=y.options.tabSize||4,f=y.options.tabNode||"&nbsp;";d<u;d++)c+=f;var m=y.document.createElement("span");if(m.innerHTML=c+domUtils.fillChar,l.collapsed)l.insertNode(m.cloneNode(!0).firstChild).setCursor(!0);else{function h(e){return domUtils.isBlockElm(e)&&!s[e.tagName.toLowerCase()]}if(o=domUtils.findParent(l.startContainer,h,!0),a=domUtils.findParent(l.endContainer,h,!0),o&&a&&o===a)l.deleteContents(),l.insertNode(m.cloneNode(!0).firstChild).setCursor(!0);else{var p=l.createBookmark();l.enlarge(!0);for(var g=l.createBookmark(),v=domUtils.getNextDomNode(g.start,!1,h);v&&!(domUtils.getPosition(v,g.end)&domUtils.POSITION_FOLLOWING);)v.insertBefore(m.cloneNode(!0).firstChild,v.firstChild),v=domUtils.getNextDomNode(v,!1,h);l.moveToBookmark(g).moveToBookmark(p).select()}}domUtils.preventDefault(t)}if(browser.gecko&&46==n&&(l=y.selection.getRange()).collapsed&&(o=l.startContainer,domUtils.isEmptyBlock(o))){for(var b=o.parentNode;1==domUtils.getChildCount(b)&&!domUtils.isBody(b);)b=(o=b).parentNode;o===b.lastChild&&t.preventDefault()}else;}),y.addListener("keyup",function(e,t){var n;if((t.keyCode||t.which)==keymap.Backspace){if(this.fireEvent("delkeyup"))return;if((n=this.selection.getRange()).collapsed){if((o=domUtils.findParentByTagName(n.startContainer,["h1","h2","h3","h4","h5","h6"],!0))&&domUtils.isEmptyBlock(o)){var i=o.previousSibling;if(i&&"TABLE"!=i.nodeName)return domUtils.remove(o),void n.setStartAtLast(i).setCursor(!1,!0);var r=o.nextSibling;if(r&&"TABLE"!=r.nodeName)return domUtils.remove(o),void n.setStartAtFirst(r).setCursor(!1,!0)}if(domUtils.isBody(n.startContainer)){var o=domUtils.createElement(this.document,"p",{innerHTML:browser.ie?domUtils.fillChar:"<br/>"});n.insertNode(o).setStart(o,0).setCursor(!1,!0)}}if(!x&&(3==n.startContainer.nodeType||1==n.startContainer.nodeType&&domUtils.isEmptyBlock(n.startContainer)))if(browser.ie){var a=n.document.createElement("span");n.insertNode(a).setStartBefore(a).collapse(!0),n.select(),domUtils.remove(a)}else n.select()}})},UE.plugins.fiximgclick=(yoa=!1,Aoa=[[0,0,-1,-1],[0,0,0,-1],[0,0,1,-1],[0,0,-1,0],[0,0,1,0],[0,0,-1,1],[0,0,0,1],[0,0,1,1]],zoa.prototype={init:function(e){var t=this;t.editor=e,t.startPos=this.prePos={x:0,y:0},t.dragId=-1;var n=[],r=t.cover=document.createElement("div"),o=t.resizer=document.createElement("div");for(r.id=t.editor.ui.id+"_imagescale_cover",r.style.cssText="position:absolute;display:none;z-index:"+t.editor.options.zIndex+";filter:alpha(opacity=0); opacity:0;background:#CCC;",domUtils.on(r,"mousedown click",function(){t.hide()}),i=0;i<8;i++)n.push('<span class="edui-editor-imagescale-hand'+i+'"></span>');o.id=t.editor.ui.id+"_imagescale",o.className="edui-editor-imagescale",o.innerHTML=n.join(""),o.style.cssText+=";display:none;border:1px solid #3b77ff;z-index:"+t.editor.options.zIndex+";",t.editor.ui.getDom().appendChild(r),t.editor.ui.getDom().appendChild(o),t.initStyle(),t.initEvents()},initStyle:function(){utils.cssRule("imagescale",".edui-editor-imagescale{display:none;position:absolute;border:1px solid #38B2CE;cursor:hand;-webkit-box-sizing: content-box;-moz-box-sizing: content-box;box-sizing: content-box;}.edui-editor-imagescale span{position:absolute;width:6px;height:6px;overflow:hidden;font-size:0px;display:block;background-color:#3C9DD0;}.edui-editor-imagescale .edui-editor-imagescale-hand0{cursor:nw-resize;top:0;margin-top:-4px;left:0;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand1{cursor:n-resize;top:0;margin-top:-4px;left:50%;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand2{cursor:ne-resize;top:0;margin-top:-4px;left:100%;margin-left:-3px;}.edui-editor-imagescale .edui-editor-imagescale-hand3{cursor:w-resize;top:50%;margin-top:-4px;left:0;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand4{cursor:e-resize;top:50%;margin-top:-4px;left:100%;margin-left:-3px;}.edui-editor-imagescale .edui-editor-imagescale-hand5{cursor:sw-resize;top:100%;margin-top:-3px;left:0;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand6{cursor:s-resize;top:100%;margin-top:-3px;left:50%;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand7{cursor:se-resize;top:100%;margin-top:-3px;left:100%;margin-left:-3px;}")},initEvents:function(){this.startPos.x=this.startPos.y=0,this.isDraging=!1},_eventHandler:function(e){var t=this;switch(e.type){case"mousedown":var n;-1!=(n=e.target||e.srcElement).className.indexOf("edui-editor-imagescale-hand")&&-1==t.dragId&&(t.dragId=n.className.slice(-1),t.startPos.x=t.prePos.x=e.clientX,t.startPos.y=t.prePos.y=e.clientY,domUtils.on(t.doc,"mousemove",t.proxy(t._eventHandler,t)));break;case"mousemove":-1!=t.dragId&&(t.updateContainerStyle(t.dragId,{x:e.clientX-t.prePos.x,y:e.clientY-t.prePos.y}),t.prePos.x=e.clientX,t.prePos.y=e.clientY,yoa=!0,t.updateTargetElement());break;case"mouseup":-1!=t.dragId&&(t.updateContainerStyle(t.dragId,{x:e.clientX-t.prePos.x,y:e.clientY-t.prePos.y}),t.updateTargetElement(),t.target.parentNode&&t.attachTo(t.target),t.dragId=-1),domUtils.un(t.doc,"mousemove",t.proxy(t._eventHandler,t)),yoa&&(yoa=!1,t.editor.fireEvent("contentchange"))}},updateTargetElement:function(){domUtils.setStyles(this.target,{width:this.resizer.style.width,height:this.resizer.style.height}),this.target.width=parseInt(this.resizer.style.width),this.target.height=parseInt(this.resizer.style.height),this.attachTo(this.target)},updateContainerStyle:function(e,t){var n,i=this.resizer;!i.scale&&i.offsetWidth&&i.offsetHeight&&(i.scale=i.offsetWidth/i.offsetHeight);var r=t.y?i.scale*t.y:0,o=t.x?t.x/i.scale:0;"2"===this.dragId||"5"===this.dragId?t.y=-o:(t.x=Math.abs(r)>Math.abs(t.x)?r:t.x,t.y=Math.abs(o)>Math.abs(t.y)?o:t.y),0!=Aoa[e][0]&&(n=parseInt(i.style.left)+t.x,i.style.left=this._validScaledProp("left",n)+"px"),0!=Aoa[e][1]&&(n=parseInt(i.style.top)+t.y,i.style.top=this._validScaledProp("top",n)+"px"),0!=Aoa[e][2]&&(n=i.clientWidth+Aoa[e][2]*t.x,i.style.width=this._validScaledProp("width",n)+"px"),0!=Aoa[e][3]&&(n=i.clientHeight+Aoa[e][3]*t.y,i.style.height=this._validScaledProp("height",n)+"px")},_validScaledProp:function(e,t){var n=this.resizer,i=document;switch(t=isNaN(t)?0:t,e){case"left":return t<0?0:t+n.clientWidth>i.clientWidth?i.clientWidth-n.clientWidth:t;case"top":return t<0?0:t+n.clientHeight>i.clientHeight?i.clientHeight-n.clientHeight:t;case"width":return t<=0?1:t+n.offsetLeft>i.clientWidth?i.clientWidth-n.offsetLeft:t;case"height":return t<=0?1:t+n.offsetTop>i.clientHeight?i.clientHeight-n.offsetTop:t}},hideCover:function(){this.cover.style.display="none"},showCover:function(){var e=domUtils.getXY(this.editor.ui.getDom()),t=domUtils.getXY(this.editor.iframe);domUtils.setStyles(this.cover,{width:this.editor.iframe.offsetWidth+"px",height:this.editor.iframe.offsetHeight+"px",top:t.y-e.y+"px",left:t.x-e.x+"px",position:"absolute",display:""})},show:function(e){var t=this;t.resizer.style.display="block",e&&t.attachTo(e),domUtils.on(this.resizer,"mousedown",t.proxy(t._eventHandler,t)),domUtils.on(t.doc,"mouseup",t.proxy(t._eventHandler,t)),t.showCover(),t.editor.fireEvent("afterscaleshow",t),t.editor.fireEvent("saveScene")},hide:function(){var e=this;e.hideCover(),e.resizer.style.display="none",domUtils.un(e.resizer,"mousedown",e.proxy(e._eventHandler,e)),domUtils.un(e.doc,"mouseup",e.proxy(e._eventHandler,e)),e.editor.fireEvent("afterscalehide",e)},proxy:function(t,n){return function(e){return t.apply(n||this,arguments)}},attachTo:function(e){var t=this.target=e,n=this.resizer,i=domUtils.getXY(t),r=domUtils.getXY(this.editor.iframe),o=domUtils.getXY(n.parentNode);domUtils.setStyles(n,{width:t.width+"px",height:t.height+"px",left:r.x+i.x-this.editor.document.body.scrollLeft-o.x-parseInt(n.style.borderLeftWidth)+"px",top:r.y+i.y-this.editor.document.body.scrollTop-o.y-parseInt(n.style.borderTopWidth)+"px"})}},function(){var a,s=this;s.setOpt("imageScaleEnabled",!0),!browser.ie&&s.options.imageScaleEnabled&&s.addListener("click",function(e,t){var n=s.selection.getRange().getClosedNode();if(n&&"IMG"==n.tagName&&"false"!=s.body.contentEditable){if(-1!=n.className.indexOf("edui-faked-music")||n.getAttribute("anchorname")||domUtils.hasClass(n,"loadingclass")||domUtils.hasClass(n,"loaderrorclass"))return;if(!a){function i(e){a.hide(),a.target&&s.selection.getRange().selectNode(a.target).select()}function r(e){var t=e.target||e.srcElement;!t||void 0!==t.className&&-1!=t.className.indexOf("edui-editor-imagescale")||i()}var o;(a=new zoa).init(s),s.ui.getDom().appendChild(a.resizer),s.addListener("afterscaleshow",function(e){s.addListener("beforekeydown",i),s.addListener("beforemousedown",r),domUtils.on(document,"keydown",i),domUtils.on(document,"mousedown",r),s.selection.getNative().removeAllRanges()}),s.addListener("afterscalehide",function(e){s.removeListener("beforekeydown",i),s.removeListener("beforemousedown",r),domUtils.un(document,"keydown",i),domUtils.un(document,"mousedown",r);var t=a.target;t.parentNode&&s.selection.getRange().selectNode(t).select()}),domUtils.on(a.resizer,"mousedown",function(e){s.selection.getNative().removeAllRanges();var t=e.target||e.srcElement;t&&-1==t.className.indexOf("edui-editor-imagescale-hand")&&(o=setTimeout(function(){a.hide(),a.target&&s.selection.getRange().selectNode(t).select()},200))}),domUtils.on(a.resizer,"mouseup",function(e){var t=e.target||e.srcElement;t&&-1==t.className.indexOf("edui-editor-imagescale-hand")&&clearTimeout(o)})}a.show(n)}else a&&"none"!=a.resizer.style.display&&a.hide()}),browser.webkit&&s.addListener("click",function(e,t){"IMG"==t.target.tagName&&"false"!=s.body.contentEditable&&new dom.Range(s.document).selectNode(t.target).select()})}),UE.plugin.register("autolink",function(){return browser.ie?{}:{bindEvents:{reset:function(){0},keydown:function(e,t){var n=t.keyCode||t.which;if(32==n||13==n){for(var i,r,o=this.selection.getNative(),a=o.getRangeAt(0).cloneRange(),s=a.startContainer;1==s.nodeType&&0<a.startOffset&&(s=a.startContainer.childNodes[a.startOffset-1]);)a.setStart(s,1==s.nodeType?s.childNodes.length:s.nodeValue.length),a.collapse(!0),s=a.startContainer;do{if(0==a.startOffset){for(s=a.startContainer.previousSibling;s&&1==s.nodeType;)s=s.lastChild;if(!s||domUtils.isFillChar(s))break;i=s.nodeValue.length}else s=a.startContainer,i=a.startOffset;a.setStart(s,i-1),r=a.toString().charCodeAt(0)}while(160!=r&&32!=r);if(a.toString().replace(new RegExp(domUtils.fillChar,"g"),"").match(/(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i)){for(;a.toString().length&&!/^(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i.test(a.toString());)try{a.setStart(a.startContainer,a.startOffset+1)}catch(e){for(s=a.startContainer;!(next=s.nextSibling);){if(domUtils.isBody(s))return;s=s.parentNode}a.setStart(next,0)}if(domUtils.findParentByTagName(a.startContainer,"a",!0))return;var l,d=this.document.createElement("a"),c=this.document.createTextNode(" ");this.undoManger&&this.undoManger.save(),d.appendChild(a.extractContents()),d.href=d.innerHTML=d.innerHTML.replace(/<[^>]+>/g,""),l=d.getAttribute("href").replace(new RegExp(domUtils.fillChar,"g"),""),l=/^(?:https?:\/\/)/gi.test(l)?l:"http://"+l,d.setAttribute("_src",utils.html(l)),d.href=utils.html(l),a.insertNode(d),d.parentNode.insertBefore(c,d.nextSibling),a.setStart(c,0),a.collapse(!0),o.removeAllRanges(),o.addRange(a),this.undoManger&&this.undoManger.save()}}}}}},function(){var s={37:1,38:1,39:1,40:1,13:1,32:1};browser.ie&&this.addListener("keyup",function(e,t){var n=t.keyCode;if(s[n]){var i=this.selection.getRange(),r=i.startContainer;if(13==n){for(;r&&!domUtils.isBody(r)&&!domUtils.isBlockElm(r);)r=r.parentNode;var o;if(r&&!domUtils.isBody(r)&&"P"==r.nodeName)if((o=r.previousSibling)&&1==o.nodeType)(o=function(e){if(3==e.nodeType)return null;if("A"==e.nodeName)return e;for(var t=e.lastChild;t;){if("A"==t.nodeName)return t;if(3==t.nodeType){if(domUtils.isWhitespace(t)){t=t.previousSibling;continue}return null}t=t.lastChild}}(o))&&!o.getAttribute("_href")&&domUtils.remove(o,!0)}else if(32==n)3==r.nodeType&&/^\s$/.test(r.nodeValue)&&(r=r.previousSibling)&&"A"==r.nodeName&&!r.getAttribute("_href")&&domUtils.remove(r,!0);else if((r=domUtils.findParentByTagName(r,"a",!0))&&!r.getAttribute("_href")){var a=i.createBookmark();domUtils.remove(r,!0),i.moveToBookmark(a).select(!0)}}})}),UE.plugins.autoheight=function(){var n=this;if(n.autoHeightEnabled=!1!==n.options.autoHeightEnabled,n.autoHeightEnabled){var i,r,e,o,a=0,s=n.options;n.addListener("fullscreenchanged",function(e,t){o=t}),n.addListener("destroy",function(){n.removeListener("contentchange afterinserthtml keyup mouseup",l)}),n.enableAutoHeight=function(){var e=this;if(e.autoHeightEnabled){var t=e.document;e.autoHeightEnabled=!0,i=t.body.style.overflowY,t.body.style.overflowY="hidden",e.addListener("contentchange afterinserthtml keyup mouseup",l),setTimeout(function(){l.call(e)},browser.gecko?100:0),e.fireEvent("autoheightchanged",e.autoHeightEnabled)}},n.disableAutoHeight=function(){n.body.style.overflowY=i||"",n.removeListener("contentchange",l),n.removeListener("keyup",l),n.removeListener("mouseup",l),n.autoHeightEnabled=!1,n.fireEvent("autoheightchanged",n.autoHeightEnabled)},n.on("setHeight",function(){n.disableAutoHeight()}),n.addListener("ready",function(){var e,t;n.enableAutoHeight(),domUtils.on(browser.ie?n.body:n.document,browser.webkit?"dragover":"drop",function(){clearTimeout(e),e=setTimeout(function(){l.call(n)},100)}),window.onscroll=function(){null===t?t=this.scrollY:0==this.scrollY&&0!=t&&(n.window&&n.window.scrollTo(0,0),t=null)}})}function l(){var t=this;clearTimeout(e),o||(!t.queryCommandState||t.queryCommandState&&1!=t.queryCommandState("source"))&&(e=setTimeout(function(){for(var e=t.body.lastChild;e&&1!=e.nodeType;)e=e.previousSibling;e&&1==e.nodeType&&(e.style.clear="both",(r=Math.max(domUtils.getXY(e).y+e.offsetHeight+25,Math.max(s.minFrameHeight,s.initialFrameHeight)))!=a&&(r!==parseInt(t.iframe.parentNode.style.height)&&(t.iframe.parentNode.style.height=r+"px"),t.body.style.height=r+"px",a=r),domUtils.removeStyle(e,"clear"))},50))}},UE.plugins.autofloat=function(){var i=this,e=i.getLang();i.setOpt({topOffset:0});var t=!1!==i.options.autoFloatEnabled,r=i.options.topOffset;if(t){var n,o,a,s,l=UE.ui.uiUtils,d=browser.ie&&browser.version<=6,c=browser.quirks,u=document.createElement("div"),f=!0,m=utils.defer(function(){p()},browser.ie?200:100,!0);i.addListener("destroy",function(){domUtils.un(window,["scroll","resize"],p),i.removeListener("keydown",m)}),i.addListener("ready",function(){if(UE.ui||(alert(e.autofloatMsg),0)){if(!i.ui)return;s=l.getClientRect,o=i.ui.getDom("toolbarbox"),a=s(o).top,n=o.style.cssText,u.style.height=o.offsetHeight+"px",d&&function(){var e=document.body.style;e.backgroundImage='url("about:blank")',e.backgroundAttachment="fixed"}(),domUtils.on(window,["scroll","resize"],p),i.addListener("keydown",m),i.addListener("beforefullscreenchange",function(e,t){t&&h()}),i.addListener("fullscreenchanged",function(e,t){t||p()}),i.addListener("sourcemodechanged",function(e,t){setTimeout(function(){p()},0)}),i.addListener("clearDoc",function(){setTimeout(function(){p()},0)})}})}function h(){f=!0,u.parentNode&&u.parentNode.removeChild(u),o.style.cssText=n}function p(){var e=s(i.container),t=i.options.toolbarTopOffset||0;e.top<0&&e.bottom-o.offsetHeight>t?function(){var e=domUtils.getXY(o),t=domUtils.getComputedStyle(o,"position"),n=domUtils.getComputedStyle(o,"left");o.style.width=o.offsetWidth+"px",o.style.zIndex=1*i.options.zIndex+1,o.parentNode.insertBefore(u,o),d||c&&browser.ie?("absolute"!=o.style.position&&(o.style.position="absolute"),o.style.top=(document.body.scrollTop||document.documentElement.scrollTop)-a+r+"px"):(browser.ie7Compat&&f&&(f=!1,o.style.left=domUtils.getXY(o).x-document.documentElement.getBoundingClientRect().left+2+"px"),"fixed"!=o.style.position&&(o.style.position="fixed",o.style.top=r+"px","absolute"!=t&&"relative"!=t||!parseFloat(n)||(o.style.left=e.x+"px")))}():h()}},UE.plugins.video=function(){var c=this;function u(e,t,n,i,r,o,a){var s;switch(a){case"image":s="<img "+(i?'id="'+i+'"':"")+' width="'+t+'" height="'+n+'" _url="'+e+'" class="'+o.replace(/\bvideo-js\b/,"")+'" src="'+c.options.UEDITOR_HOME_URL+'themes/default/images/spacer.gif" style="background:url('+c.options.UEDITOR_HOME_URL+"themes/default/images/videologo.gif) no-repeat center center; border:1px solid gray;"+(r?"float:"+r+";":"")+'" />';break;case"embed":s='<embed type="application/x-shockwave-flash" class="'+o+'" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+utils.html(e)+'" width="'+t+'" height="'+n+'"'+(r?' style="float:'+r+'"':"")+' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >';break;case"video":var l=e.substr(e.lastIndexOf(".")+1);"ogv"==l&&(l="ogg"),s="<video"+(i?' id="'+i+'"':"")+' class="'+o+' video-js" '+(r?' style="float:'+r+'"':"")+' controls preload="none" width="'+t+'" height="'+n+'" src="'+e+'" data-setup="{}"><source src="'+e+'" type="video/'+l+'" /></video>'}return s}function t(e,i){utils.each(e.getNodesByTagName(i?"img":"embed video"),function(e){var t=e.getAttr("class");if(t&&-1!=t.indexOf("edui-faked-video")){var n=u(i?e.getAttr("_url"):e.getAttr("src"),e.getAttr("width"),e.getAttr("height"),null,e.getStyle("float")||"",t,i?"embed":"image");e.parentNode.replaceChild(UE.uNode.createElement(n),e)}if(t&&-1!=t.indexOf("edui-upload-video")){n=u(i?e.getAttr("_url"):e.getAttr("src"),e.getAttr("width"),e.getAttr("height"),null,e.getStyle("float")||"",t,i?"video":"image");e.parentNode.replaceChild(UE.uNode.createElement(n),e)}})}c.addOutputRule(function(e){t(e,!0)}),c.addInputRule(function(e){t(e)}),c.commands.insertvideo={execCommand:function(e,t,n){for(var i,r,o=[],a=0,s=(t=utils.isArray(t)?t:[t]).length;a<s;a++)r=t[a],i="upload"==n?"edui-upload-video video-js vjs-default-skin":"edui-faked-video",o.push(u(r.url,r.width||420,r.height||280,"tmpVedio"+a,null,i,"image"));c.execCommand("inserthtml",o.join(""),!0);var l=this.selection.getRange();for(a=0,s=t.length;a<s;a++){var d=this.document.getElementById("tmpVedio"+a);domUtils.removeAttributes(d,"id"),l.selectNode(d).select(),c.execCommand("imagefloat",t[a].align)}},queryCommandState:function(){var e=c.selection.getRange().getClosedNode();return e&&("edui-faked-video"==e.className||-1!=e.className.indexOf("edui-upload-video"))?1:0}}},Wra=UE.UETable=function(e){this.table=e,this.indexTable=[],this.selectedTds=[],this.cellsRange={},this.update(e)},Wra.removeSelectedClass=function(e){utils.each(e,function(e){domUtils.removeClasses(e,"selectTdClass")})},Wra.addSelectedClass=function(e){utils.each(e,function(e){domUtils.addClass(e,"selectTdClass")})},Wra.isEmptyBlock=function(e){var t=new RegExp(domUtils.fillChar,"g");if(0<e[browser.ie?"innerText":"textContent"].replace(/^\s*$/,"").replace(t,"").length)return 0;for(var n in dtd.$isNotEmpty)if(dtd.$isNotEmpty.hasOwnProperty(n)&&e.getElementsByTagName(n).length)return 0;return 1},Wra.getWidth=function(e){return e?parseInt(domUtils.getComputedStyle(e,"width"),10):0},Wra.getTableCellAlignState=function(e){utils.isArray(e)||(e=[e]);var n={},i=["align","valign"],r=null,o=!0;return utils.each(e,function(t){return utils.each(i,function(e){if(r=t.getAttribute(e),!n[e]&&r)n[e]=r;else if(!n[e]||r!==n[e])return o=!1}),o}),o?n:null},Wra.getTableItemsByRange=function(e){var t=e.selection.getStart();t&&t.id&&0===t.id.indexOf("_baidu_bookmark_start_")&&t.nextSibling&&(t=t.nextSibling);var n=t&&domUtils.findParentByTagName(t,["td","th"],!0),i=n&&n.parentNode,r=t&&domUtils.findParentByTagName(t,"caption",!0);return{cell:n,tr:i,table:r?r.parentNode:i&&i.parentNode.parentNode,caption:r}},Wra.getUETableBySelected=function(e){var t=Wra.getTableItemsByRange(e).table;return t&&t.ueTable&&t.ueTable.selectedTds.length?t.ueTable:null},Wra.getDefaultValue=function(e,t){var n,i,r,o,a={thin:"0px",medium:"1px",thick:"2px"};if(t)return s=t.getElementsByTagName("td")[0],o=domUtils.getComputedStyle(t,"border-left-width"),n=parseInt(a[o]||o,10),o=domUtils.getComputedStyle(s,"padding-left"),i=parseInt(a[o]||o,10),o=domUtils.getComputedStyle(s,"border-left-width"),{tableBorder:n,tdPadding:i,tdBorder:r=parseInt(a[o]||o,10)};(t=e.document.createElement("table")).insertRow(0).insertCell(0).innerHTML="xxx",e.body.appendChild(t);var s=t.getElementsByTagName("td")[0];return o=domUtils.getComputedStyle(t,"border-left-width"),n=parseInt(a[o]||o,10),o=domUtils.getComputedStyle(s,"padding-left"),i=parseInt(a[o]||o,10),o=domUtils.getComputedStyle(s,"border-left-width"),r=parseInt(a[o]||o,10),domUtils.remove(t),{tableBorder:n,tdPadding:i,tdBorder:r}},Wra.getUETable=function(e){var t=e.tagName.toLowerCase();return(e="td"==t||"th"==t||"caption"==t?domUtils.findParentByTagName(e,"table",!0):e).ueTable||(e.ueTable=new Wra(e)),e.ueTable},Wra.cloneCell=function(e,t,n){if(!e||utils.isString(e))return this.table.ownerDocument.createElement(e||"td");var i=domUtils.hasClass(e,"selectTdClass");i&&domUtils.removeClasses(e,"selectTdClass");var r=e.cloneNode(!0);return t&&(r.rowSpan=r.colSpan=1),n||domUtils.removeAttributes(r,"width height"),n||domUtils.removeAttributes(r,"style"),r.style.borderLeftStyle="",r.style.borderTopStyle="",r.style.borderLeftColor=e.style.borderRightColor,r.style.borderLeftWidth=e.style.borderRightWidth,r.style.borderTopColor=e.style.borderBottomColor,r.style.borderTopWidth=e.style.borderBottomWidth,i&&domUtils.addClass(e,"selectTdClass"),r},Wra.prototype={getMaxRows:function(){for(var e,t=this.table.rows,n=1,i=0;e=t[i];i++){for(var r,o=1,a=0;r=e.cells[a++];)o=Math.max(r.rowSpan||1,o);n=Math.max(o+i,n)}return n},getMaxCols:function(){for(var e,t=this.table.rows,n=0,i={},r=0;e=t[r];r++){for(var o,a=0,s=0;o=e.cells[s++];)if(a+=o.colSpan||1,o.rowSpan&&1<o.rowSpan)for(var l=1;l<o.rowSpan;l++)i["row_"+(r+l)]?i["row_"+(r+l)]++:i["row_"+(r+l)]=o.colSpan||1;a+=i["row_"+r]||0,n=Math.max(a,n)}return n},getCellColIndex:function(e){},getHSideCell:function(e,t){try{var n,i,r=this.getCellInfo(e),o=this.selectedTds.length,a=this.cellsRange;return!t&&(o?!a.beginColIndex:!r.colIndex)||t&&(o?a.endColIndex==this.colsNum-1:r.colIndex==this.colsNum-1)?null:(n=o?a.beginRowIndex:r.rowIndex,i=t?o?a.endColIndex+1:r.colIndex+1:o?a.beginColIndex-1:r.colIndex<1?0:r.colIndex-1,this.getCell(this.indexTable[n][i].rowIndex,this.indexTable[n][i].cellIndex))}catch(e){}},getTabNextCell:function(e,t){var n,i=this.getCellInfo(e),r=t||i.rowIndex,o=i.colIndex+1+(i.colSpan-1);try{n=this.getCell(this.indexTable[r][o].rowIndex,this.indexTable[r][o].cellIndex)}catch(e){try{r=1*r+1,o=0,n=this.getCell(this.indexTable[r][o].rowIndex,this.indexTable[r][o].cellIndex)}catch(e){}}return n},getVSideCell:function(e,t,n){try{var i,r,o=this.getCellInfo(e),a=this.selectedTds.length&&!n,s=this.cellsRange;return!t&&0==o.rowIndex||t&&(a?s.endRowIndex==this.rowsNum-1:o.rowIndex+o.rowSpan>this.rowsNum-1)?null:(i=t?a?s.endRowIndex+1:o.rowIndex+o.rowSpan:a?s.beginRowIndex-1:o.rowIndex-1,r=a?s.beginColIndex:o.colIndex,this.getCell(this.indexTable[i][r].rowIndex,this.indexTable[i][r].cellIndex))}catch(e){}},getSameEndPosCells:function(e,t){try{for(var n="x"===t.toLowerCase(),i=domUtils.getXY(e)[n?"x":"y"]+e["offset"+(n?"Width":"Height")],r=this.table.rows,o=null,a=[],s=0;s<this.rowsNum;s++){o=r[s].cells;for(var l,d=0;l=o[d++];){var c=domUtils.getXY(l)[n?"x":"y"]+l["offset"+(n?"Width":"Height")];if(i<c&&n)break;if((e==l||i==c)&&(1==l[n?"colSpan":"rowSpan"]&&a.push(l),n))break}}return a}catch(e){}},setCellContent:function(e,t){e.innerHTML=t||(browser.ie?domUtils.fillChar:"<br />")},cloneCell:Wra.cloneCell,getSameStartPosXCells:function(e){try{for(var t,n=domUtils.getXY(e).x+e.offsetWidth,i=this.table.rows,r=[],o=0;o<this.rowsNum;o++){t=i[o].cells;for(var a,s=0;a=t[s++];){var l=domUtils.getXY(a).x;if(n<l)break;if(l==n&&1==a.colSpan){r.push(a);break}}}return r}catch(e){}},update:function(e){this.table=e||this.table,this.selectedTds=[],this.cellsRange={},this.indexTable=[];for(var t=this.table.rows,n=this.getMaxRows(),i=n-t.length,r=this.getMaxCols();i--;)this.table.insertRow(t.length);this.rowsNum=n,this.colsNum=r;for(var o=0,a=t.length;o<a;o++)this.indexTable[o]=new Array(r);for(var s,l=0;s=t[l];l++)for(var d,c=0,u=s.cells;d=u[c];c++){d.rowSpan>n&&(d.rowSpan=n);for(var f=c,m=d.rowSpan||1,h=d.colSpan||1;this.indexTable[l][f];)f++;for(var p=0;p<m;p++)for(var g=0;g<h;g++)this.indexTable[l+p][f+g]={rowIndex:l,cellIndex:c,colIndex:f,rowSpan:m,colSpan:h}}for(p=0;p<n;p++)for(g=0;g<r;g++)void 0===this.indexTable[p][g]&&(d=(d=(s=t[p]).cells[s.cells.length-1])?d.cloneNode(!0):this.table.ownerDocument.createElement("td"),this.setCellContent(d),1!==d.colSpan&&(d.colSpan=1),1!==d.rowSpan&&(d.rowSpan=1),s.appendChild(d),this.indexTable[p][g]={rowIndex:p,cellIndex:d.cellIndex,colIndex:g,rowSpan:1,colSpan:1});var v=domUtils.getElementsByTagName(this.table,"td"),b=[];if(utils.each(v,function(e){domUtils.hasClass(e,"selectTdClass")&&b.push(e)}),b.length){var y=b[0],x=b[b.length-1],w=this.getCellInfo(y),C=this.getCellInfo(x);this.selectedTds=b,this.cellsRange={beginRowIndex:w.rowIndex,beginColIndex:w.colIndex,endRowIndex:C.rowIndex+C.rowSpan-1,endColIndex:C.colIndex+C.colSpan-1}}if(!domUtils.hasClass(this.table.rows[0],"firstRow"))for(domUtils.addClass(this.table.rows[0],"firstRow"),o=1;o<this.table.rows.length;o++)domUtils.removeClasses(this.table.rows[o],"firstRow")},getCellInfo:function(e){if(e)for(var t=e.cellIndex,n=e.parentNode.rowIndex,i=this.indexTable[n],r=this.colsNum,o=t;o<r;o++){var a=i[o];if(a.rowIndex===n&&a.cellIndex===t)return a}},getCell:function(e,t){return e<this.rowsNum&&this.table.rows[e].cells[t]||null},deleteCell:function(e,t){t="number"==typeof t?t:e.parentNode.rowIndex,this.table.rows[t].deleteCell(e.cellIndex)},getCellsRange:function(e,t){try{var f=this,n=f.getCellInfo(e);if(e===t)return{beginRowIndex:n.rowIndex,beginColIndex:n.colIndex,endRowIndex:n.rowIndex+n.rowSpan-1,endColIndex:n.colIndex+n.colSpan-1};var i=f.getCellInfo(t);return function e(t,n,i,r){var o,a,s,l=t,d=n,c=i,u=r;if(0<t)for(a=n;a<r;a++)(s=(o=f.indexTable[t][a]).rowIndex)<t&&(l=Math.min(s,l));if(r<f.colsNum)for(s=t;s<i;s++)r<(a=(o=f.indexTable[s][r]).colIndex+o.colSpan-1)&&(u=Math.max(a,u));if(i<f.rowsNum)for(a=n;a<r;a++)i<(s=(o=f.indexTable[i][a]).rowIndex+o.rowSpan-1)&&(c=Math.max(s,c));if(0<n)for(s=t;s<i;s++)(a=(o=f.indexTable[s][n]).colIndex)<n&&(d=Math.min(o.colIndex,d));return l!=t||d!=n||c!=i||u!=r?e(l,d,c,u):{beginRowIndex:t,beginColIndex:n,endRowIndex:i,endColIndex:r}}(Math.min(n.rowIndex,i.rowIndex),Math.min(n.colIndex,i.colIndex),Math.max(n.rowIndex+n.rowSpan-1,i.rowIndex+i.rowSpan-1),Math.max(n.colIndex+n.colSpan-1,i.colIndex+i.colSpan-1))}catch(e){}},getCells:function(e){this.clearSelected();for(var t,n,i,r=e.beginRowIndex,o=e.beginColIndex,a=e.endRowIndex,s=e.endColIndex,l={},d=[],c=r;c<=a;c++)for(var u=o;u<=s;u++){var f=(n=(t=this.indexTable[c][u]).rowIndex)+"|"+(i=t.colIndex);if(!l[f]){if(l[f]=1,n<c||i<u||n+t.rowSpan-1>a||i+t.colSpan-1>s)return null;d.push(this.getCell(n,t.cellIndex))}}return d},clearSelected:function(){Wra.removeSelectedClass(this.selectedTds),this.selectedTds=[],this.cellsRange={}},setSelected:function(e){var t=this.getCells(e);Wra.addSelectedClass(t),this.selectedTds=t,this.cellsRange=e},isFullRow:function(){var e=this.cellsRange;return e.endColIndex-e.beginColIndex+1==this.colsNum},isFullCol:function(){var e=this.cellsRange,t=this.table.getElementsByTagName("th"),n=e.endRowIndex-e.beginRowIndex+1;return t.length?n==this.rowsNum||n==this.rowsNum-1:n==this.rowsNum},getNextCell:function(e,t,n){try{var i,r,o=this.getCellInfo(e),a=this.selectedTds.length&&!n,s=this.cellsRange;return!t&&0==o.rowIndex||t&&(a?s.endRowIndex==this.rowsNum-1:o.rowIndex+o.rowSpan>this.rowsNum-1)?null:(i=t?a?s.endRowIndex+1:o.rowIndex+o.rowSpan:a?s.beginRowIndex-1:o.rowIndex-1,r=a?s.beginColIndex:o.colIndex,this.getCell(this.indexTable[i][r].rowIndex,this.indexTable[i][r].cellIndex))}catch(e){}},getPreviewCell:function(e,t){try{var n,i,r=this.getCellInfo(e),o=this.selectedTds.length,a=this.cellsRange;return!t&&(o?!a.beginColIndex:!r.colIndex)||t&&(o?a.endColIndex==this.colsNum-1:r.rowIndex>this.colsNum-1)?null:(n=t?o?a.beginRowIndex:r.rowIndex<1?0:r.rowIndex-1:o?a.beginRowIndex:r.rowIndex,i=t?o?a.endColIndex+1:r.colIndex:o?a.beginColIndex-1:r.colIndex<1?0:r.colIndex-1,this.getCell(this.indexTable[n][i].rowIndex,this.indexTable[n][i].cellIndex))}catch(e){}},moveContent:function(e,t){if(!Wra.isEmptyBlock(t))if(Wra.isEmptyBlock(e))e.innerHTML=t.innerHTML;else{var n=e.lastChild;for(3!=n.nodeType&&dtd.$block[n.tagName]||e.appendChild(e.ownerDocument.createElement("br"));n=t.firstChild;)e.appendChild(n)}},mergeRight:function(e){var t=this.getCellInfo(e),n=t.colIndex+t.colSpan,i=this.indexTable[t.rowIndex][n],r=this.getCell(i.rowIndex,i.cellIndex);e.colSpan=t.colSpan+i.colSpan,e.removeAttribute("width"),this.moveContent(e,r),this.deleteCell(r,i.rowIndex),this.update()},mergeDown:function(e){var t=this.getCellInfo(e),n=t.rowIndex+t.rowSpan,i=this.indexTable[n][t.colIndex],r=this.getCell(i.rowIndex,i.cellIndex);e.rowSpan=t.rowSpan+i.rowSpan,e.removeAttribute("height"),this.moveContent(e,r),this.deleteCell(r,i.rowIndex),this.update()},mergeRange:function(){var e=this.cellsRange,t=this.getCell(e.beginRowIndex,this.indexTable[e.beginRowIndex][e.beginColIndex].cellIndex);if("TH"==t.tagName&&e.endRowIndex!==e.beginRowIndex){var n=this.indexTable,i=this.getCellInfo(t);t=this.getCell(1,n[1][i.colIndex].cellIndex),e=this.getCellsRange(t,this.getCell(n[this.rowsNum-1][i.colIndex].rowIndex,n[this.rowsNum-1][i.colIndex].cellIndex))}for(var r,o=this.getCells(e),a=0;r=o[a++];)r!==t&&(this.moveContent(t,r),this.deleteCell(r));if(t.rowSpan=e.endRowIndex-e.beginRowIndex+1,1<t.rowSpan&&t.removeAttribute("height"),t.colSpan=e.endColIndex-e.beginColIndex+1,1<t.colSpan&&t.removeAttribute("width"),t.rowSpan==this.rowsNum&&1!=t.colSpan&&(t.colSpan=1),t.colSpan==this.colsNum&&1!=t.rowSpan){var s=t.parentNode.rowIndex;if(this.table.deleteRow)for(var l=a=s+1,d=t.rowSpan;a<d;a++)this.table.deleteRow(l);else for(a=0,d=t.rowSpan-1;a<d;a++){var c=this.table.rows[s+1];c.parentNode.removeChild(c)}t.rowSpan=1}this.update()},insertRow:function(e,t){var n,i=this.colsNum,r=this.table.insertRow(e),o="string"==typeof t&&"TH"==t.toUpperCase();function a(e,t,n){if(0==e){var i=(n.nextSibling||n.previousSibling).cells[e];"TH"==i.tagName&&((i=t.ownerDocument.createElement("th")).appendChild(t.firstChild),n.insertBefore(i,t),domUtils.remove(t))}else if("TH"==t.tagName){var r=t.ownerDocument.createElement("td");r.appendChild(t.firstChild),n.insertBefore(r,t),domUtils.remove(t)}}if(0==e||e==this.rowsNum)for(var s=0;s<i;s++)n=this.cloneCell(t,!0),this.setCellContent(n),n.getAttribute("vAlign")&&n.setAttribute("vAlign",n.getAttribute("vAlign")),r.appendChild(n),o||a(s,n,r);else{var l=this.indexTable[e];for(s=0;s<i;s++){var d=l[s];d.rowIndex<e?(n=this.getCell(d.rowIndex,d.cellIndex)).rowSpan=d.rowSpan+1:(n=this.cloneCell(t,!0),this.setCellContent(n),r.appendChild(n)),o||a(s,n,r)}}return this.update(),r},deleteRow:function(e){for(var t=this.table.rows[e],n=this.indexTable[e],i=this.colsNum,r=0,o=0;o<i;){var a=n[o],s=this.getCell(a.rowIndex,a.cellIndex);if(1<s.rowSpan&&a.rowIndex==e){var l=s.cloneNode(!0);l.rowSpan=s.rowSpan-1,l.innerHTML="";var d,c=e+(s.rowSpan=1),u=this.table.rows[c],f=this.getPreviewMergedCellsNum(c,o)-r;f<o?(d=o-f-1,domUtils.insertAfter(u.cells[d],l)):u.cells.length&&u.insertBefore(l,u.cells[0]),r+=1}o+=s.colSpan||1}var m=[],h={};for(o=0;o<i;o++){var p=n[o].rowIndex,g=n[o].cellIndex,v=p+"_"+g;h[v]||(h[v]=1,s=this.getCell(p,g),m.push(s))}var b=[];utils.each(m,function(e){1==e.rowSpan?e.parentNode.removeChild(e):b.push(e)}),utils.each(b,function(e){e.rowSpan--}),t.parentNode.removeChild(t),this.update()},insertCol:function(e,t,n){var i,r,o,a=this.rowsNum,s=0,l=parseInt((this.table.offsetWidth-20*(this.colsNum+1)-(this.colsNum+1))/(this.colsNum+1),10),d="string"==typeof t&&"TH"==t.toUpperCase();function c(e,t,n){if(0==e){var i=t.nextSibling||t.previousSibling;"TH"==i.tagName&&((i=t.ownerDocument.createElement("th")).appendChild(t.firstChild),n.insertBefore(i,t),domUtils.remove(t))}else if("TH"==t.tagName){var r=t.ownerDocument.createElement("td");r.appendChild(t.firstChild),n.insertBefore(r,t),domUtils.remove(t)}}if(0==e||e==this.colsNum)for(;s<a;s++)o=(i=this.table.rows[s]).cells[0==e?e:i.cells.length],r=this.cloneCell(t,!0),this.setCellContent(r),r.setAttribute("vAlign",r.getAttribute("vAlign")),o&&r.setAttribute("width",o.getAttribute("width")),e?domUtils.insertAfter(i.cells[i.cells.length-1],r):i.insertBefore(r,i.cells[0]),d||c(s,r,i);else for(;s<a;s++){var u=this.indexTable[s][e];u.colIndex<e?(r=this.getCell(u.rowIndex,u.cellIndex)).colSpan=u.colSpan+1:(o=(i=this.table.rows[s]).cells[u.cellIndex],r=this.cloneCell(t,!0),this.setCellContent(r),r.setAttribute("vAlign",r.getAttribute("vAlign")),o&&r.setAttribute("width",o.getAttribute("width")),o?i.insertBefore(r,o):i.appendChild(r)),d||c(s,r,i)}this.update(),this.updateWidth(l,n||{tdPadding:10,tdBorder:1})},updateWidth:function(t,e){var n=this.table,i=Wra.getWidth(n)-2*e.tdPadding-e.tdBorder+t;if(i<n.ownerDocument.body.offsetWidth)n.setAttribute("width",i);else{var r=domUtils.getElementsByTagName(this.table,"td th");utils.each(r,function(e){e.setAttribute("width",t)})}},deleteCol:function(e){for(var t=this.indexTable,n=this.table.rows,i=this.table.getAttribute("width"),r=0,o=this.rowsNum,a={},s=0;s<o;){var l=t[s][e],d=l.rowIndex+"_"+l.colIndex;if(!a[d]){a[d]=1;var c=this.getCell(l.rowIndex,l.cellIndex);r=r||c&&parseInt(c.offsetWidth/c.colSpan,10).toFixed(0),1<c.colSpan?c.colSpan--:n[s].deleteCell(l.cellIndex),s+=l.rowSpan||1}}this.table.setAttribute("width",i-r),this.update()},splitToCells:function(e){var t=this,n=this.splitToRows(e);utils.each(n,function(e){t.splitToCols(e)})},splitToRows:function(e){var t=this.getCellInfo(e),n=t.rowIndex,i=t.colIndex,r=[];e.rowSpan=1,r.push(e);for(var o=n,a=n+t.rowSpan;o<a;o++)if(o!=n){var s=this.table.rows[o].insertCell(i-this.getPreviewMergedCellsNum(o,i));s.colSpan=t.colSpan,this.setCellContent(s),s.setAttribute("vAlign",e.getAttribute("vAlign")),s.setAttribute("align",e.getAttribute("align")),e.style.cssText&&(s.style.cssText=e.style.cssText),r.push(s)}return this.update(),r},getPreviewMergedCellsNum:function(e,t){for(var n=this.indexTable[e],i=0,r=0;r<t;){var o=n[r].colSpan;i+=o-(n[r].rowIndex==e?1:0),r+=o}return i},splitToCols:function(e){var t=(e.offsetWidth/e.colSpan-22).toFixed(0),n=this.getCellInfo(e),i=n.rowIndex,r=n.colIndex,o=[];e.colSpan=1,e.setAttribute("width",t),o.push(e);for(var a=r,s=r+n.colSpan;a<s;a++)if(a!=r){var l=this.table.rows[i],d=l.insertCell(this.indexTable[i][a].cellIndex+1);if(d.rowSpan=n.rowSpan,this.setCellContent(d),d.setAttribute("vAlign",e.getAttribute("vAlign")),d.setAttribute("align",e.getAttribute("align")),d.setAttribute("width",t),e.style.cssText&&(d.style.cssText=e.style.cssText),"TH"==e.tagName){var c=e.ownerDocument.createElement("th");c.appendChild(d.firstChild),c.setAttribute("vAlign",e.getAttribute("vAlign")),c.rowSpan=d.rowSpan,l.insertBefore(c,d),domUtils.remove(d)}o.push(d)}return this.update(),o},isLastCell:function(e,t,n){t=t||this.rowsNum,n=n||this.colsNum;var i=this.getCellInfo(e);return i.rowIndex+i.rowSpan==t&&i.colIndex+i.colSpan==n},getLastCell:function(e){e=e||this.table.getElementsByTagName("td"),this.getCellInfo(e[0]);var t,n=this,i=e[0],r=i.parentNode,o=0,a=0;return utils.each(e,function(e){e.parentNode==r&&(a+=e.colSpan||1),o+=e.rowSpan*e.colSpan||1}),t=o/a,utils.each(e,function(e){if(n.isLastCell(e,t,a))return i=e,!1}),i},selectRow:function(e){var t=this.indexTable[e],n=this.getCell(t[0].rowIndex,t[0].cellIndex),i=this.getCell(t[this.colsNum-1].rowIndex,t[this.colsNum-1].cellIndex),r=this.getCellsRange(n,i);this.setSelected(r)},selectTable:function(){var e=this.table.getElementsByTagName("td"),t=this.getCellsRange(e[0],e[e.length-1]);this.setSelected(t)},setBackground:function(e,t){if("string"==typeof t)utils.each(e,function(e){e.style.backgroundColor=t});else if("object"===(void 0===t?"undefined":_typeof(t))){t=utils.extend({repeat:!0,colorList:["#ddd","#fff"]},t);for(var n,i=this.getCellInfo(e[0]).rowIndex,r=0,o=t.colorList,a=0;n=e[a++];){var s=this.getCellInfo(n);n.style.backgroundColor=(l=o,d=i+r==s.rowIndex?r:++r,c=t.repeat,l[d]?l[d]:c?l[d%l.length]:"")}}var l,d,c},removeBackground:function(e){utils.each(e,function(e){e.style.backgroundColor=""})}},zza=UE.UETable,UE.commands.inserttable={queryCommandState:function(){return Aza(this).table?-1:0},execCommand:function(e,t){t=t||utils.extend({},{numCols:this.options.defaultCols,numRows:this.options.defaultRows,tdvalign:this.options.tdvalign});var n=this.selection.getRange().startContainer,i=domUtils.findParent(n,function(e){return domUtils.isBlockElm(e)},!0)||this.body,r=Cza(this),o=i.offsetWidth,a=Math.floor(o/t.numCols-2*r.tdPadding-r.tdBorder);t.tdvalign||(t.tdvalign=this.options.tdvalign),this.execCommand("inserthtml",function(e,t){for(var n=[],i=e.numRows,r=e.numCols,o=0;o<i;o++){n.push("<tr"+(0==o?' class="firstRow"':"")+">");for(var a=0;a<r;a++)n.push('<td width="'+t+'"  vAlign="'+e.tdvalign+'" >'+(browser.ie&&browser.version<11?domUtils.fillChar:"<br/>")+"</td>");n.push("</tr>")}return"<table><tbody>"+n.join("")+"</tbody></table>"}(t,a))}},UE.commands.insertparagraphbeforetable={queryCommandState:function(){return Aza(this).cell?0:-1},execCommand:function(){var e=Aza(this).table;if(e){var t=this.document.createElement("p");t.innerHTML=browser.ie?"&nbsp;":"<br />",e.parentNode.insertBefore(t,e),this.selection.getRange().setStart(t,0).setCursor()}}},UE.commands.deletetable={queryCommandState:function(){var e=this.selection.getRange();return domUtils.findParentByTagName(e.startContainer,"table",!0)?0:-1},execCommand:function(e,t){var n=this.selection.getRange();if(t=t||domUtils.findParentByTagName(n.startContainer,"table",!0)){var i=t.nextSibling;i||(i=domUtils.createElement(this.document,"p",{innerHTML:browser.ie?domUtils.fillChar:"<br/>"}),t.parentNode.insertBefore(i,t)),domUtils.remove(t),n=this.selection.getRange(),3==i.nodeType?n.setStartBefore(i):n.setStart(i,0),n.setCursor(!1,!0),this.fireEvent("tablehasdeleted")}}},UE.commands.cellalign={queryCommandState:function(){return Gza(this).length?0:-1},execCommand:function(e,t){var n=Gza(this);if(n.length)for(var i,r=0;i=n[r++];)i.setAttribute("align",t)}},UE.commands.cellvalign={queryCommandState:function(){return Gza(this).length?0:-1},execCommand:function(e,t){var n=Gza(this);if(n.length)for(var i,r=0;i=n[r++];)i.setAttribute("vAlign",t)}},UE.commands.insertcaption={queryCommandState:function(){var e=Aza(this).table;return e&&0==e.getElementsByTagName("caption").length?1:-1},execCommand:function(){var e=Aza(this).table;if(e){var t=this.document.createElement("caption");t.innerHTML=browser.ie?domUtils.fillChar:"<br/>",e.insertBefore(t,e.firstChild),this.selection.getRange().setStart(t,0).setCursor()}}},UE.commands.deletecaption={queryCommandState:function(){var e=this.selection.getRange(),t=domUtils.findParentByTagName(e.startContainer,"table");return t?0==t.getElementsByTagName("caption").length?-1:1:-1},execCommand:function(){var e=this.selection.getRange(),t=domUtils.findParentByTagName(e.startContainer,"table");t&&(domUtils.remove(t.getElementsByTagName("caption")[0]),this.selection.getRange().setStart(t.rows[0].cells[0],0).setCursor())}},UE.commands.inserttitle={queryCommandState:function(){var e=Aza(this).table;if(e){var t=e.rows[0];return"th"!=t.cells[t.cells.length-1].tagName.toLowerCase()?0:-1}return-1},execCommand:function(){var e=Aza(this).table;e&&Dza(e).insertRow(0,"th");var t=e.getElementsByTagName("th")[0];this.selection.getRange().setStart(t,0).setCursor(!1,!0)}},UE.commands.deletetitle={queryCommandState:function(){var e=Aza(this).table;if(e){var t=e.rows[0];return"th"==t.cells[t.cells.length-1].tagName.toLowerCase()?0:-1}return-1},execCommand:function(){var e=Aza(this).table;e&&domUtils.remove(e.rows[0]);var t=e.getElementsByTagName("td")[0];this.selection.getRange().setStart(t,0).setCursor(!1,!0)}},UE.commands.inserttitlecol={queryCommandState:function(){var e=Aza(this).table;return e?e.rows[e.rows.length-1].getElementsByTagName("th").length?-1:0:-1},execCommand:function(e){var t=Aza(this).table;t&&Dza(t).insertCol(0,"th"),Eza(t,this);var n=t.getElementsByTagName("th")[0];this.selection.getRange().setStart(n,0).setCursor(!1,!0)}},UE.commands.deletetitlecol={queryCommandState:function(){var e=Aza(this).table;return e&&e.rows[e.rows.length-1].getElementsByTagName("th").length?0:-1},execCommand:function(){var e=Aza(this).table;if(e)for(var t=0;t<e.rows.length;t++)domUtils.remove(e.rows[t].children[0]);Eza(e,this);var n=e.getElementsByTagName("td")[0];this.selection.getRange().setStart(n,0).setCursor(!1,!0)}},UE.commands.mergeright={queryCommandState:function(e){var t=Aza(this),n=t.table,i=t.cell;if(!n||!i)return-1;var r=Dza(n);if(r.selectedTds.length)return-1;var o=r.getCellInfo(i),a=o.colIndex+o.colSpan;if(a>=r.colsNum)return-1;var s=r.indexTable[o.rowIndex][a],l=n.rows[s.rowIndex].cells[s.cellIndex];return l&&i.tagName==l.tagName&&s.rowIndex==o.rowIndex&&s.rowSpan==o.rowSpan?0:-1},execCommand:function(e){var t=this.selection.getRange(),n=t.createBookmark(!0),i=Aza(this).cell;Dza(i).mergeRight(i),t.moveToBookmark(n).select()}},UE.commands.mergedown={queryCommandState:function(e){var t=Aza(this),n=t.table,i=t.cell;if(!n||!i)return-1;var r=Dza(n);if(r.selectedTds.length)return-1;var o=r.getCellInfo(i),a=o.rowIndex+o.rowSpan;if(a>=r.rowsNum)return-1;var s=r.indexTable[a][o.colIndex],l=n.rows[s.rowIndex].cells[s.cellIndex];return l&&i.tagName==l.tagName&&s.colIndex==o.colIndex&&s.colSpan==o.colSpan?0:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=Aza(this).cell;Dza(n).mergeDown(n),e.moveToBookmark(t).select()}},UE.commands.mergecells={queryCommandState:function(){return Bza(this)?0:-1},execCommand:function(){var e=Bza(this);if(e&&e.selectedTds.length){var t=e.selectedTds[0];e.mergeRange();var n=this.selection.getRange();domUtils.isEmptyBlock(t)?n.setStart(t,0).collapse(!0):n.selectNodeContents(t),n.select()}}},UE.commands.insertrow={queryCommandState:function(){var e=Aza(this),t=e.cell;return t&&("TD"==t.tagName||"TH"==t.tagName&&e.tr!==e.table.rows[0])&&Dza(e.table).rowsNum<this.options.maxRowNum?0:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=Aza(this),i=n.cell,r=n.table,o=Dza(r),a=o.getCellInfo(i);if(o.selectedTds.length)for(var s=o.cellsRange,l=0,d=s.endRowIndex-s.beginRowIndex+1;l<d;l++)o.insertRow(s.beginRowIndex,i);else o.insertRow(a.rowIndex,i);e.moveToBookmark(t).select(),"enabled"===r.getAttribute("interlaced")&&this.fireEvent("interlacetable",r)}},UE.commands.insertrownext={queryCommandState:function(){var e=Aza(this),t=e.cell;return t&&"TD"==t.tagName&&Dza(e.table).rowsNum<this.options.maxRowNum?0:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=Aza(this),i=n.cell,r=n.table,o=Dza(r),a=o.getCellInfo(i);if(o.selectedTds.length)for(var s=o.cellsRange,l=0,d=s.endRowIndex-s.beginRowIndex+1;l<d;l++)o.insertRow(s.endRowIndex+1,i);else o.insertRow(a.rowIndex+a.rowSpan,i);e.moveToBookmark(t).select(),"enabled"===r.getAttribute("interlaced")&&this.fireEvent("interlacetable",r)}},UE.commands.deleterow={queryCommandState:function(){return Aza(this).cell?0:-1},execCommand:function(){var e=Aza(this).cell,t=Dza(e),n=t.cellsRange,i=t.getCellInfo(e),r=t.getVSideCell(e),o=t.getVSideCell(e,!0),a=this.selection.getRange();if(utils.isEmptyObject(n))t.deleteRow(i.rowIndex);else for(var s=n.beginRowIndex;s<n.endRowIndex+1;s++)t.deleteRow(n.beginRowIndex);var l=t.table;if(l.getElementsByTagName("td").length)if(1==i.rowSpan||i.rowSpan==n.endRowIndex-n.beginRowIndex+1)(o||r)&&a.selectNodeContents(o||r).setCursor(!1,!0);else{var d=t.getCell(i.rowIndex,t.indexTable[i.rowIndex][i.colIndex].cellIndex);d&&a.selectNodeContents(d).setCursor(!1,!0)}else{var c=l.nextSibling;domUtils.remove(l),c&&a.setStart(c,0).setCursor(!1,!0)}"enabled"===l.getAttribute("interlaced")&&this.fireEvent("interlacetable",l)}},UE.commands.insertcol={queryCommandState:function(e){var t=Aza(this),n=t.cell;return n&&("TD"==n.tagName||"TH"==n.tagName&&n!==t.tr.cells[0])&&Dza(t.table).colsNum<this.options.maxColNum?0:-1},execCommand:function(e){var t=this.selection.getRange(),n=t.createBookmark(!0);if(-1!=this.queryCommandState(e)){var i=Aza(this).cell,r=Dza(i),o=r.getCellInfo(i);if(r.selectedTds.length)for(var a=r.cellsRange,s=0,l=a.endColIndex-a.beginColIndex+1;s<l;s++)r.insertCol(a.beginColIndex,i);else r.insertCol(o.colIndex,i);t.moveToBookmark(n).select(!0)}}},UE.commands.insertcolnext={queryCommandState:function(){var e=Aza(this);return e.cell&&Dza(e.table).colsNum<this.options.maxColNum?0:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=Aza(this).cell,i=Dza(n),r=i.getCellInfo(n);if(i.selectedTds.length)for(var o=i.cellsRange,a=0,s=o.endColIndex-o.beginColIndex+1;a<s;a++)i.insertCol(o.endColIndex+1,n);else i.insertCol(r.colIndex+r.colSpan,n);e.moveToBookmark(t).select()}},UE.commands.deletecol={queryCommandState:function(){return Aza(this).cell?0:-1},execCommand:function(){var e=Aza(this).cell,t=Dza(e),n=t.cellsRange,i=t.getCellInfo(e),r=t.getHSideCell(e),o=t.getHSideCell(e,!0);if(utils.isEmptyObject(n))t.deleteCol(i.colIndex);else for(var a=n.beginColIndex;a<n.endColIndex+1;a++)t.deleteCol(n.beginColIndex);var s=t.table,l=this.selection.getRange();if(s.getElementsByTagName("td").length)domUtils.inDoc(e,this.document)?l.setStart(e,0).setCursor(!1,!0):o&&domUtils.inDoc(o,this.document)?l.selectNodeContents(o).setCursor(!1,!0):r&&domUtils.inDoc(r,this.document)&&l.selectNodeContents(r).setCursor(!0,!0);else{var d=s.nextSibling;domUtils.remove(s),d&&l.setStart(d,0).setCursor(!1,!0)}}},UE.commands.splittocells={queryCommandState:function(){var e=Aza(this),t=e.cell;return t?0<Dza(e.table).selectedTds.length?-1:t&&(1<t.colSpan||1<t.rowSpan)?0:-1:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=Aza(this).cell;Dza(n).splitToCells(n),e.moveToBookmark(t).select()}},UE.commands.splittorows={queryCommandState:function(){var e=Aza(this),t=e.cell;return t?0<Dza(e.table).selectedTds.length?-1:t&&1<t.rowSpan?0:-1:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=Aza(this).cell;Dza(n).splitToRows(n),e.moveToBookmark(t).select()}},UE.commands.splittocols={queryCommandState:function(){var e=Aza(this),t=e.cell;return t?0<Dza(e.table).selectedTds.length?-1:t&&1<t.colSpan?0:-1:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=Aza(this).cell;Dza(n).splitToCols(n),e.moveToBookmark(t).select()}},UE.commands.adaptbytext=UE.commands.adaptbywindow={queryCommandState:function(){return Aza(this).table?0:-1},execCommand:function(e){var t=Aza(this).table;if(t)if("adaptbywindow"==e)Eza(t,this);else{var n=domUtils.getElementsByTagName(t,"td th");utils.each(n,function(e){e.removeAttribute("width")}),t.removeAttribute("width")}}},UE.commands.averagedistributecol={queryCommandState:function(){var e=Bza(this);return e&&(e.isFullRow()||e.isFullCol())?0:-1},execCommand:function(e){var l=this,d=Bza(l);d&&d.selectedTds.length&&function(t){utils.each(domUtils.getElementsByTagName(d.table,"th"),function(e){e.setAttribute("width","")});var e=d.isFullRow()?domUtils.getElementsByTagName(d.table,"td"):d.selectedTds;utils.each(e,function(e){1==e.colSpan&&e.setAttribute("width",t)})}(function(){var e=d.table,t=0,n=0,i=Cza(l,e);if(d.isFullRow())t=e.offsetWidth,n=d.colsNum;else for(var r,o=d.cellsRange.beginColIndex,a=d.cellsRange.endColIndex,s=o;s<=a;)t+=(r=d.selectedTds[s]).offsetWidth,s+=r.colSpan,n+=1;return Math.ceil(t/n)-2*i.tdBorder-2*i.tdPadding}())}},UE.commands.averagedistributerow={queryCommandState:function(){var e=Bza(this);return e?e.selectedTds&&/th/gi.test(e.selectedTds[0].tagName)?-1:e.isFullRow()||e.isFullCol()?0:-1:-1},execCommand:function(e){var t,n,h=this,p=Bza(h);p&&p.selectedTds.length&&(t=function(){var e,t=0,n=p.table,i=Cza(h,n),r=parseInt(domUtils.getComputedStyle(n.getElementsByTagName("td")[0],"padding-top"));if(p.isFullCol()){var o,a,s=domUtils.getElementsByTagName(n,"caption"),l=domUtils.getElementsByTagName(n,"th");0<s.length&&(o=s[0].offsetHeight),0<l.length&&(a=l[0].offsetHeight),t=n.offsetHeight-(o||0)-(a||0),e=0==l.length?p.rowsNum:p.rowsNum-1}else{for(var d=p.cellsRange.beginRowIndex,c=p.cellsRange.endRowIndex,u=0,f=domUtils.getElementsByTagName(n,"tr"),m=d;m<=c;m++)t+=f[m].offsetHeight,u+=1;e=u}return browser.ie&&browser.version<9?Math.ceil(t/e):Math.ceil(t/e)-2*i.tdBorder-2*r}(),n=p.isFullCol()?domUtils.getElementsByTagName(p.table,"td"):p.selectedTds,utils.each(n,function(e){1==e.rowSpan&&e.setAttribute("height",t)}))}},UE.commands.cellalignment={queryCommandState:function(){return Aza(this).table?0:-1},execCommand:function(e,t){var n=Bza(this);if(n)utils.each(n.selectedTds,function(e){domUtils.setAttributes(e,t)});else{var i=this.selection.getStart(),r=i&&domUtils.findParentByTagName(i,["td","th","caption"],!0);/caption/gi.test(r.tagName)?(r.style.textAlign=t.align,r.style.verticalAlign=t.vAlign):domUtils.setAttributes(r,t),this.selection.getRange().setCursor(!0)}},queryCommandValue:function(e){var t=Aza(this).cell;if(t=t||Gza(this)[0]){var n=UE.UETable.getUETable(t).selectedTds;return n.length||(n=t),UE.UETable.getTableCellAlignState(n)}return null}},UE.commands.tablealignment={queryCommandState:function(){return browser.ie&&browser.version<8?-1:Aza(this).table?0:-1},execCommand:function(e,t){var n=this.selection.getStart(),i=n&&domUtils.findParentByTagName(n,["table"],!0);i&&i.setAttribute("align",t)}},UE.commands.edittable={queryCommandState:function(){return Aza(this).table?0:-1},execCommand:function(e,t){var n=this.selection.getRange(),i=domUtils.findParentByTagName(n.startContainer,"table");if(i){var r=domUtils.getElementsByTagName(i,"td").concat(domUtils.getElementsByTagName(i,"th"),domUtils.getElementsByTagName(i,"caption"));utils.each(r,function(e){e.style.borderColor=t})}}},UE.commands.edittd={queryCommandState:function(){return Aza(this).table?0:-1},execCommand:function(e,t){var n=Bza(this);if(n)utils.each(n.selectedTds,function(e){e.style.backgroundColor=t});else{var i=this.selection.getStart(),r=i&&domUtils.findParentByTagName(i,["td","th","caption"],!0);r&&(r.style.backgroundColor=t)}}},UE.commands.settablebackground={queryCommandState:function(){return 1<Gza(this).length?0:-1},execCommand:function(e,t){var n;n=Gza(this),Dza(n[0]).setBackground(n,t)}},UE.commands.cleartablebackground={queryCommandState:function(){var e=Gza(this);if(!e.length)return-1;for(var t,n=0;t=e[n++];)if(""!==t.style.backgroundColor)return 0;return-1},execCommand:function(){var e=Gza(this);Dza(e[0]).removeBackground(e)}},UE.commands.interlacetable=UE.commands.uninterlacetable={queryCommandState:function(e){var t=Aza(this).table;if(!t)return-1;var n=t.getAttribute("interlaced");return"interlacetable"==e?"enabled"===n?-1:0:n&&"disabled"!==n?0:-1},execCommand:function(e,t){var n=Aza(this).table;"interlacetable"==e?(n.setAttribute("interlaced","enabled"),this.fireEvent("interlacetable",n,t)):(n.setAttribute("interlaced","disabled"),this.fireEvent("uninterlacetable",n))}},UE.commands.setbordervisible={queryCommandState:function(e){return Aza(this).table?0:-1},execCommand:function(){var e=Aza(this).table;utils.each(domUtils.getElementsByTagName(e,"td"),function(e){e.style.borderWidth="1px",e.style.borderStyle="solid"})}},UE.plugins.table=function(){function S(e,t){return T.getDefaultValue(e,t)}var u=this,o=null,f=5,m=!1,i=5,a=10,h=0,p=null,g=360,T=UE.UETable,U=function(e){return T.getUETable(e)},k=function(e){return T.getUETableBySelected(e)},s=function(e){return T.removeSelectedClass(e)};u.ready(function(){var n=this,i=n.selection.getText;n.selection.getText=function(){var e=k(n);if(e){var t="";return utils.each(e.selectedTds,function(e){t+=e[browser.ie?"innerText":"textContent"]}),t}return i.call(n.selection)}});var v=null,l=null,b="",y=!1,d=null,c=!1,x=null,w=null,C=!1;u.setOpt({maxColNum:20,maxRowNum:100,defaultCols:5,defaultRows:5,tdvalign:"top",cursorpath:u.options.UEDITOR_HOME_URL+"themes/default/images/cursor_",tableDragable:!1,classList:["ue-table-interlace-color-single","ue-table-interlace-color-double"]}),u.getUETable=U;var B={deletetable:1,inserttable:1,cellvalign:1,insertcaption:1,deletecaption:1,inserttitle:1,deletetitle:1,mergeright:1,mergedown:1,mergecells:1,insertrow:1,insertrownext:1,deleterow:1,insertcol:1,insertcolnext:1,deletecol:1,splittocells:1,splittorows:1,splittocols:1,adaptbytext:1,adaptbywindow:1,adaptbycustomer:1,insertparagraph:1,insertparagraphbeforetable:1,averagedistributecol:1,averagedistributerow:1};function A(e){t(e,"width",!0),t(e,"height",!0)}function t(e,t,n){e.style[t]&&(n&&e.setAttribute(t,parseInt(e.style[t],10)),e.style[t]="")}function I(e){return"TD"==e.tagName||"TH"==e.tagName?e:(t=domUtils.findParentByTagName(e,"td",!0)||domUtils.findParentByTagName(e,"th",!0))?t:null;var t}function D(e){var t=new RegExp(domUtils.fillChar,"g");if(0<e[browser.ie?"innerText":"textContent"].replace(/^\s*$/,"").replace(t,"").length)return 0;for(var n in dtd.$isNotEmpty)if(e.getElementsByTagName(n).length)return 0;return 1}function _(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+u.document.body.scrollLeft-u.document.body.clientLeft,y:e.clientY+u.document.body.scrollTop-u.document.body.clientTop}}function n(e){if(!$())try{var t,n=I(e.target||e.srcElement);if(m&&(u.body.style.webkitUserSelect="none",(Math.abs(p.x-e.clientX)>a||Math.abs(p.y-e.clientY)>a)&&(E(),m=!1,h=0,P(e))),b&&w)return h=0,u.body.style.webkitUserSelect="none",u.selection.getNative()[browser.ie9below?"empty":"removeAllRanges"](),t=_(e),O(u,!0,b,t,n),void("h"==b?x.style.left=function(e,t){var n=U(e);if(n){var i=n.getSameEndPosCells(e,"x")[0],r=n.getSameStartPosXCells(e)[0],o=_(t).x,a=(i?domUtils.getXY(i).x:domUtils.getXY(n.table).x)+20,s=r?domUtils.getXY(r).x+r.offsetWidth-20:u.body.offsetWidth+5||parseInt(domUtils.getComputedStyle(u.body,"width"),10);return s-=f,o<(a+=f)?a:s<o?s:o}}(w,e)+"px":"v"==b&&(x.style.top=function(e,t){try{var n=domUtils.getXY(e).y,i=_(t).y;return i<n?n:i}catch(e){}}(w,e)+"px"));if(n){if(!0===u.fireEvent("excludetable",n))return;var i=N(n,t=_(e)),r=domUtils.findParentByTagName(n,"table",!0);if(L(r,n,e,!0)){if(!0===u.fireEvent("excludetable",r))return;u.body.style.cursor="url("+u.options.cursorpath+"h.png),pointer"}else if(L(r,n,e)){if(!0===u.fireEvent("excludetable",r))return;u.body.style.cursor="url("+u.options.cursorpath+"v.png),pointer"}else{u.body.style.cursor="text";/\d/.test(i)&&(i=i.replace(/\d/,""),n=U(n).getPreviewCell(n,"v"==i)),O(u,!!n&&!!i,n?i:"",t,n)}}else R(!1,r,u)}catch(e){}}function R(e,t,n){if(e)!function(r,o){var a,e=domUtils.getXY(r),t=r.ownerDocument;if(d&&d.parentNode)return;(d=t.createElement("div")).contentEditable=!1,d.innerHTML="",d.style.cssText="width:15px;height:15px;background-image:url("+o.options.UEDITOR_HOME_URL+"dialogs/table/dragicon.png);position: absolute;cursor:move;top:"+(e.y-15)+"px;left:"+e.x+"px;",domUtils.unSelectable(d),d.onmouseover=function(e){c=!0},d.onmouseout=function(e){c=!1},domUtils.on(d,"click",function(e,t){!function(e,t){clearTimeout(a),a=setTimeout(function(){o.fireEvent("tableClicked",r,t)},300)}(0,this)}),domUtils.on(d,"dblclick",function(e,t){!function(){clearTimeout(a);var e=U(r),t=r.rows[0].cells[0],n=e.getLastCell(),i=e.getCellsRange(t,n);o.selection.getRange().setStart(t,0).setCursor(!1,!0),e.setSelected(i)}()}),domUtils.on(d,"dragstart",function(e,t){domUtils.preventDefault(t)}),t.body.appendChild(d)}(t,n);else{if(c)return;setTimeout(function(){!c&&d&&d.parentNode&&d.parentNode.removeChild(d)},2e3)}}function L(e,t,n,i){var r=_(n),o=N(t,r);if(i){var a=e.getElementsByTagName("caption")[0],s=a?a.offsetHeight:0;return"v1"==o&&r.y-domUtils.getXY(e).y-s<8}return"h1"==o&&r.x-domUtils.getXY(e).x<8}function O(e,t,n,i,r){try{e.body.style.cursor="h"==n?"col-resize":"v"==n?"row-resize":"text",browser.ie&&(!n||C||k(e)?V(e):(W(e,e.document),J(n,r))),y=t}catch(e){}}function N(e,t){var n=domUtils.getXY(e);return n?n.x+e.offsetWidth-t.x<i?"h":t.x-n.x<i?"h1":n.y+e.offsetHeight-t.y<i?"v":t.y-n.y<i?"v1":"":""}function r(e,t){if(!$())if(p={x:t.clientX,y:t.clientY},2==t.button){var n=k(u),i=!1;if(n){var r=K(u,t);utils.each(n.selectedTds,function(e){e===r&&(i=!0)}),i?(r=n.selectedTds[0],setTimeout(function(){u.selection.getRange().setStart(r,0).setCursor(!1,!0)},0)):(s(domUtils.getElementsByTagName(u.body,"th td")),n.clearSelected())}}else!function(e){if(s(domUtils.getElementsByTagName(u.body,"td th")),utils.each(u.document.getElementsByTagName("table"),function(e){e.ueTable=null}),!(v=K(u,e)))return;var t=domUtils.findParentByTagName(v,"table",!0);ut=U(t),ut&&ut.clearSelected(),y?function(e){browser.ie&&(e=function(e){var t=["pageX","pageY","clientX","clientY","srcElement","target"],n={};if(e)for(var i,r,o=0;i=t[o];o++)(r=e[i])&&(n[i]=r);return n}(e));E(),m=!0,o=setTimeout(function(){P(e)},g)}(e):(u.document.body.style.webkitUserSelect="",C=!0,u.addListener("mouseover",H))}(t)}function E(){o&&clearTimeout(o),o=null}function P(e){if(m=!1,v=e.target||e.srcElement){var t=N(v,_(e));/\d/.test(t)&&(t=t.replace(/\d/,""),v=U(v).getPreviewCell(v,"v"==t)),V(u),W(u,u.document),u.fireEvent("saveScene"),J(t,v),C=!0,b=t,w=v}}function M(e,t){if(!$()){if(E(),m=!1,y&&(h=++h%3,p={x:t.clientX,y:t.clientY},setTimeout(function(){0<h&&h--},g),2===h))return h=0,void function(e){h=0;var t,n=I((e=e||u.window.event).target||e.srcElement);if(n&&(t=N(n,_(e)))){if(V(u),"h1"==t)if(t="h",L(domUtils.findParentByTagName(n,"table"),n,e))u.execCommand("adaptbywindow");else if(n=U(n).getPreviewCell(n))u.selection.getRange().selectNodeContents(n).setCursor(!0,!0);if("h"==t){var i=U(n),r=j(n,i.table,!0);r=function(e,t){for(var n=[],i=null,r=0,o=e.length;r<o;r++)(i=e[r][t])&&n.push(i);return n}(r,"left"),i.width=i.offsetWidth;var o=[],a=[];utils.each(r,function(e){o.push(e.offsetWidth)}),utils.each(r,function(e){e.removeAttribute("width")}),window.setTimeout(function(){var i=!0;utils.each(r,function(e,t){var n=e.offsetWidth;if(n>o[t])return i=!1;a.push(n)});var n=i?a:o;utils.each(r,function(e,t){e.width=n[t]-q()})},0)}}}(t);if(2!=t.button){var n=this,i=n.selection.getRange(),r=domUtils.findParentByTagName(i.startContainer,"table",!0),o=domUtils.findParentByTagName(i.endContainer,"table",!0);if((r||o)&&(r===o?(r=domUtils.findParentByTagName(i.startContainer,["td","th","caption"],!0))!==(o=domUtils.findParentByTagName(i.endContainer,["td","th","caption"],!0))&&n.selection.clearRange():n.selection.clearRange()),C=!1,n.document.body.style.webkitUserSelect="",b&&w&&(n.selection.getNative()[browser.ie9below?"empty":"removeAllRanges"](),h=0,x=n.document.getElementById("ue_tableDragLine"))){var a=domUtils.getXY(w),s=domUtils.getXY(x);switch(b){case"h":!function(e,t){var n=U(e);if(n){var i=n.table,r=j(e,i);if(i.style.width="",i.removeAttribute("width"),t=function(n,e,t){if((n-=q())<0)return 0;var i=(n-=z(e))<0?"left":"right";return n=Math.abs(n),utils.each(t,function(e){var t=e[i];t&&(n=Math.min(n,z(t)-f))}),n=n<0?0:n,"left"==i?-n:n}(t,e,r),e.nextSibling){utils.each(r,function(e){e.left.width=+e.left.width+t,e.right&&(e.right.width=+e.right.width-t)})}else utils.each(r,function(e){e.left.width-=-t})}}(w,s.x-a.x);break;case"v":!function(e,t){if(Math.abs(t)<10)return;var n=U(e);if(n)for(var i,r=n.getSameEndPosCells(e,"y"),o=r[0]?r[0].offsetHeight:0,a=0;i=r[a++];)F(i,t,o)}(w,s.y-a.y-w.offsetHeight)}return b="",w=null,V(n),void n.fireEvent("saveScene")}if(v){var l=U(v),d=l?l.selectedTds[0]:null;if(d)i=new dom.Range(n.document),domUtils.isEmptyBlock(d)?i.setStart(d,0).setCursor(!1,!0):i.selectNodeContents(d).shrinkBoundary().setCursor(!1,!0);else if(!(i=n.selection.getRange().shrinkBoundary()).collapsed){r=domUtils.findParentByTagName(i.startContainer,["td","th"],!0),o=domUtils.findParentByTagName(i.endContainer,["td","th"],!0);(r&&!o||!r&&o||r&&o&&r!==o)&&i.setCursor(!1,!0)}v=null,n.removeListener("mouseover",H)}else{var c=domUtils.findParentByTagName(t.target||t.srcElement,"td",!0);if((c=c||domUtils.findParentByTagName(t.target||t.srcElement,"th",!0))&&("TD"==c.tagName||"TH"==c.tagName)){if(!0===n.fireEvent("excludetable",c))return;(i=new dom.Range(n.document)).setStart(c,0).setCursor(!1,!0)}}n._selectionChange(250,t)}}}function H(e,t){if(!$()){var n=t.target||t.srcElement;if(l=domUtils.findParentByTagName(n,"td",!0)||domUtils.findParentByTagName(n,"th",!0),v&&l&&("TD"==v.tagName&&"TD"==l.tagName||"TH"==v.tagName&&"TH"==l.tagName)&&domUtils.findParentByTagName(v,"table")==domUtils.findParentByTagName(l,"table")){var i=U(l);if(v!=l){this.document.body.style.webkitUserSelect="none",this.selection.getNative()[browser.ie9below?"empty":"removeAllRanges"]();var r=i.getCellsRange(v,l);i.setSelected(r)}else this.document.body.style.webkitUserSelect="",i.clearSelected()}t.preventDefault?t.preventDefault():t.returnValue=!1}}function F(e,t,n){var i=parseInt(domUtils.getComputedStyle(e,"line-height"),10),r=n+t;t=r<i?i:r,e.style.height&&(e.style.height=""),1==e.rowSpan?e.setAttribute("height",t):e.removeAttribute&&e.removeAttribute("height")}function $(){return"false"===u.body.contentEditable}function j(e,t,i){if(!(t=t||domUtils.findParentByTagName(e,"table")))return null;domUtils.getNodeIndex(e);for(var n=e,r=t.rows,o=0;n;)1===n.nodeType&&(o+=n.colSpan||1),n=n.previousSibling;n=null;var a=[];return utils.each(r,function(e){var t=e.cells,n=0;utils.each(t,function(e){return(n+=e.colSpan||1)===o?(a.push({left:e,right:e.nextSibling||null}),!1):o<n?(i&&a.push({left:e}),!1):void 0})}),a}function z(e){var t=0;t=e.offsetWidth-q();e.nextSibling||(t-=function(e){if(tab=domUtils.findParentByTagName(e,"table",!1),void 0===tab.offsetVal){var t=e.previousSibling;tab.offsetVal=t&&e.offsetWidth-t.offsetWidth===T.borderWidth?T.borderWidth:0}return tab.offsetVal}(e)),t=t<0?0:t;try{e.width=t}catch(e){}return t}function q(){if(void 0===T.tabcellSpace){var e=u.document.createElement("table"),t=u.document.createElement("tbody"),n=u.document.createElement("tr"),i=u.document.createElement("td"),r=null;i.style.cssText="border: 0;",i.width=1,n.appendChild(i),n.appendChild(r=i.cloneNode(!1)),t.appendChild(n),e.appendChild(t),e.style.cssText="visibility: hidden;",u.body.appendChild(e),T.paddingSpace=i.offsetWidth-1;var o=e.offsetWidth;i.style.cssText="",r.style.cssText="",T.borderWidth=(e.offsetWidth-o)/3,T.tabcellSpace=T.paddingSpace+T.borderWidth,u.body.removeChild(e)}return q=function(){return T.tabcellSpace},T.tabcellSpace}function W(e){C||(x=e.document.createElement("div"),domUtils.setAttributes(x,{id:"ue_tableDragLine",unselectable:"on",contenteditable:!1,onresizestart:"return false",ondragstart:"return false",onselectstart:"return false",style:"background-color:blue;position:absolute;padding:0;margin:0;background-image:none;border:0px none;opacity:0;filter:alpha(opacity=0)"}),e.body.appendChild(x))}function V(e){if(!C)for(var t;t=e.document.getElementById("ue_tableDragLine");)domUtils.remove(t)}function J(e,t){if(t){var n,i=domUtils.findParentByTagName(t,"table"),r=i.getElementsByTagName("caption"),o=i.offsetWidth,a=i.offsetHeight-(0<r.length?r[0].offsetHeight:0),s=domUtils.getXY(i),l=domUtils.getXY(t);switch(e){case"h":n="height:"+a+"px;top:"+(s.y+(0<r.length?r[0].offsetHeight:0))+"px;left:"+(l.x+t.offsetWidth),x.style.cssText=n+"px;position: absolute;display:block;background-color:blue;width:1px;border:0; color:blue;opacity:.3;filter:alpha(opacity=30)";break;case"v":n="width:"+o+"px;left:"+s.x+"px;top:"+(l.y+t.offsetHeight),x.style.cssText=n+"px;overflow:hidden;position: absolute;display:block;background-color:blue;height:1px;border:0;color:blue;opacity:.2;filter:alpha(opacity=20)"}}}function Y(e,t){for(var n,i,r=domUtils.getElementsByTagName(e.body,"table"),o=0;i=r[o++];){var a=domUtils.getElementsByTagName(i,"td");a[0]&&(t?(n=a[0].style.borderColor.replace(/\s/g,""),/(#ffffff)|(rgb\(255,255,255\))/gi.test(n)&&domUtils.addClass(i,"noBorderTable")):domUtils.removeClasses(i,"noBorderTable"))}}function K(e,t){var n,i=domUtils.findParentByTagName(t.target||t.srcElement,["td","th"],!0);if(!i)return null;if(n=N(i,_(t)),!i)return null;if("h1"===n&&i.previousSibling){var r=domUtils.getXY(i),o=i.offsetWidth;Math.abs(r.x+o-t.clientX)>o/3&&(i=i.previousSibling)}else if("v1"===n&&i.parentNode.previousSibling){r=domUtils.getXY(i);var a=i.offsetHeight;Math.abs(r.y+a-t.clientY)>a/3&&(i=i.parentNode.previousSibling.firstChild)}return i&&!0!==e.fireEvent("excludetable",i)?i:null}u.ready(function(){var _,N,E,e;utils.cssRule("table",".selectTdClass{background-color:#edf5fa !important}table.noBorderTable td,table.noBorderTable th,table.noBorderTable caption{border:1px dashed #ddd !important}table{margin-bottom:10px;border-collapse:collapse;display:table;}td,th{padding: 5px 10px;border: 1px solid #DDD;}caption{border:1px dashed #DDD;border-bottom:0;padding:3px;text-align:center;}th{border-top:1px solid #BBB;background-color:#F7F7F7;}table tr.firstRow th{border-top-width:2px;}.ue-table-interlace-color-single{ background-color: #fcfcfc; } .ue-table-interlace-color-double{ background-color: #f7faff; }td p{margin:0;padding:0;}",u.document),u.addListener("keydown",function(e,t){var n=this,i=t.keyCode||t.which;if(8==i){var r;(r=k(n))&&r.selectedTds.length&&(r.isFullCol()?n.execCommand("deletecol"):r.isFullRow()?n.execCommand("deleterow"):n.fireEvent("delcells"),domUtils.preventDefault(t));var o=domUtils.findParentByTagName(n.selection.getStart(),"caption",!0),a=n.selection.getRange();if(a.collapsed&&o&&D(o)){n.fireEvent("saveScene");var s=o.parentNode;domUtils.remove(o),s&&a.setStart(s.rows[0].cells[0],0).setCursor(!1,!0),n.fireEvent("saveScene")}}if(46==i&&(r=k(n))){n.fireEvent("saveScene");for(var l=0;p=r.selectedTds[l++];)domUtils.fillNode(n.document,p);n.fireEvent("saveScene"),domUtils.preventDefault(t)}if(13==i){var d=n.selection.getRange();if(o=domUtils.findParentByTagName(d.startContainer,"caption",!0)){var s=domUtils.findParentByTagName(o,"table");return d.collapsed?o&&d.setStart(s.rows[0].cells[0],0).setCursor(!1,!0):(d.deleteContents(),n.fireEvent("saveScene")),void domUtils.preventDefault(t)}if(d.collapsed)if(s=domUtils.findParentByTagName(d.startContainer,"table")){var c=s.rows[0].cells[0],u=domUtils.findParentByTagName(n.selection.getStart(),["td","th"],!0),f=s.previousSibling;if(c===u&&(!f||1==f.nodeType&&"TABLE"==f.tagName)&&domUtils.isStartInblock(d)){var m=domUtils.findParent(n.selection.getStart(),function(e){return domUtils.isBlockElm(e)},!0);m&&(/t(h|d)/i.test(m.tagName)||m===u.firstChild)&&(n.execCommand("insertparagraphbeforetable"),domUtils.preventDefault(t))}}}if((t.ctrlKey||t.metaKey)&&"67"==t.keyCode&&(_=null,r=k(n))){var h=r.selectedTds;N=r.isFullCol(),E=r.isFullRow(),_=[[r.cloneCell(h[0],null,!0)]];var p;for(l=1;p=h[l];l++)p.parentNode!==h[l-1].parentNode?_.push([r.cloneCell(p,null,!0)]):_[_.length-1].push(r.cloneCell(p,null,!0))}}),u.addListener("tablehasdeleted",function(){O(this,!1,"",null),d&&domUtils.remove(d)}),u.addListener("beforepaste",function(e,t){var n=this,i=n.selection.getRange();if(domUtils.findParentByTagName(i.startContainer,"caption",!0))return(r=n.document.createElement("div")).innerHTML=t.html,void(t.html=r[browser.ie9below?"innerText":"textContent"]);var r,o,a=k(n);if(_){n.fireEvent("saveScene");i=n.selection.getRange();var s,l,d=domUtils.findParentByTagName(i.startContainer,["td","th"],!0);if(d){var c=U(d);if(E){var u=c.getCellInfo(d).rowIndex;"TH"==d.tagName&&u++;for(var f=0;v=_[f++];){for(var m=c.insertRow(u++,"td"),h=0;x=v[h];h++){var p=m.cells[h];(p=p||m.insertCell(h)).innerHTML=x.innerHTML,x.getAttribute("width")&&p.setAttribute("width",x.getAttribute("width")),x.getAttribute("vAlign")&&p.setAttribute("vAlign",x.getAttribute("vAlign")),x.getAttribute("align")&&p.setAttribute("align",x.getAttribute("align")),x.style.cssText&&(p.style.cssText=x.style.cssText)}for(h=0;(x=m.cells[h])&&v[h];h++)x.innerHTML=v[h].innerHTML,v[h].getAttribute("width")&&x.setAttribute("width",v[h].getAttribute("width")),v[h].getAttribute("vAlign")&&x.setAttribute("vAlign",v[h].getAttribute("vAlign")),v[h].getAttribute("align")&&x.setAttribute("align",v[h].getAttribute("align")),v[h].style.cssText&&(x.style.cssText=v[h].style.cssText)}}else{if(N){y=c.getCellInfo(d);for(var g=0,v=(h=0,_[0]);x=v[h++];)g+=x.colSpan||1;for(n.__hasEnterExecCommand=!0,f=0;f<g;f++)n.execCommand("insertcol");n.__hasEnterExecCommand=!1,"TH"==(d=c.table.rows[0].cells[y.cellIndex]).tagName&&(d=c.table.rows[1].cells[y.cellIndex])}for(f=0;v=_[f++];){s=d;for(h=0;x=v[h++];)if(d)d.innerHTML=x.innerHTML,x.getAttribute("width")&&d.setAttribute("width",x.getAttribute("width")),x.getAttribute("vAlign")&&d.setAttribute("vAlign",x.getAttribute("vAlign")),x.getAttribute("align")&&d.setAttribute("align",x.getAttribute("align")),x.style.cssText&&(d.style.cssText=x.style.cssText),d=(l=d).nextSibling;else{var b=x.cloneNode(!0);domUtils.removeAttributes(b,["class","rowSpan","colSpan"]),l.parentNode.appendChild(b)}if(d=c.getNextCell(s,!0,!0),!_[f])break;if(!d){var y=c.getCellInfo(s);c.table.insertRow(c.table.rows.length),c.update(),d=c.getVSideCell(s,!0)}}}c.update()}else{a=n.document.createElement("table");for(f=0;v=_[f++];){var x;for(m=a.insertRow(a.rows.length),h=0;x=v[h++];)b=T.cloneCell(x,null,!0),domUtils.removeAttributes(b,["class"]),m.appendChild(b);2==h&&1<b.rowSpan&&(b.rowSpan=1)}var w=S(n),C=n.body.offsetWidth-2*parseInt(domUtils.getComputedStyle(n.body,"margin-left"),10)-2*w.tableBorder-(n.options.offsetWidth||0);n.execCommand("insertHTML","<table  "+(N&&E?'width="'+C+'"':"")+">"+a.innerHTML.replace(/>\s*</g,"><").replace(/\bth\b/gi,"td")+"</table>")}return n.fireEvent("contentchange"),n.fireEvent("saveScene"),!(t.html="")}(r=n.document.createElement("div")).innerHTML=t.html,o=r.getElementsByTagName("table"),domUtils.findParentByTagName(n.selection.getStart(),"table")?(utils.each(o,function(e){domUtils.remove(e)}),domUtils.findParentByTagName(n.selection.getStart(),"caption",!0)&&(r.innerHTML=r[browser.ie?"innerText":"textContent"])):utils.each(o,function(e){A(e,!0),domUtils.removeAttributes(e,["style","border"]),utils.each(domUtils.getElementsByTagName(e,"td"),function(e){D(e)&&domUtils.fillNode(n.document,e),A(e,!0)})}),t.html=r.innerHTML}),u.addListener("afterpaste",function(){utils.each(domUtils.getElementsByTagName(u.body,"table"),function(e){if(e.offsetWidth>u.body.offsetWidth){var t=S(u,e);e.style.width=u.body.offsetWidth-2*parseInt(domUtils.getComputedStyle(u.body,"margin-left"),10)-2*t.tableBorder-(u.options.offsetWidth||0)+"px"}})}),u.addListener("blur",function(){_=null}),u.addListener("keydown",function(){clearTimeout(e),e=setTimeout(function(){var e=u.selection.getRange(),t=domUtils.findParentByTagName(e.startContainer,["th","td"],!0);if(t){var n=t.parentNode.parentNode.parentNode;n.offsetWidth>n.getAttribute("width")&&(t.style.wordBreak="break-all")}},100)}),u.addListener("selectionchange",function(){O(u,!1,"",null)}),u.addListener("contentchange",function(){var d=this;if(V(d),!k(d)){var e=d.selection.getRange().startContainer;e=domUtils.findParentByTagName(e,["td","th"],!0),utils.each(domUtils.getElementsByTagName(d.document,"table"),function(e){!0!==d.fireEvent("excludetable",e)&&(e.ueTable=new T(e),e.onmouseover=function(){d.fireEvent("tablemouseover",e)},e.onmousemove=function(){d.fireEvent("tablemousemove",e),d.options.tableDragable&&R(!0,this,d),utils.defer(function(){d.fireEvent("contentchange",50)},!0)},e.onmouseout=function(){d.fireEvent("tablemouseout",e),O(d,!1,"",null),V(d)},e.onclick=function(e){var t=I((e=d.window.event||e).target||e.srcElement);if(t){var n,i=U(t),r=i.table,o=i.getCellInfo(t),a=d.selection.getRange();if(L(r,t,e,!0)){var s=i.getCell(i.indexTable[i.rowsNum-1][o.colIndex].rowIndex,i.indexTable[i.rowsNum-1][o.colIndex].cellIndex);e.shiftKey&&i.selectedTds.length?i.selectedTds[0]!==s?(n=i.getCellsRange(i.selectedTds[0],s),i.setSelected(n)):a&&a.selectNodeContents(s).select():t!==s?(n=i.getCellsRange(t,s),i.setSelected(n)):a&&a.selectNodeContents(s).select()}else if(L(r,t,e)){var l=i.getCell(i.indexTable[o.rowIndex][i.colsNum-1].rowIndex,i.indexTable[o.rowIndex][i.colsNum-1].cellIndex);e.shiftKey&&i.selectedTds.length?i.selectedTds[0]!==l?(n=i.getCellsRange(i.selectedTds[0],l),i.setSelected(n)):a&&a.selectNodeContents(l).select():t!==l?(n=i.getCellsRange(t,l),i.setSelected(n)):a&&a.selectNodeContents(l).select()}}})}),Y(d,!0)}}),domUtils.on(u.document,"mousemove",n),domUtils.on(u.document,"mouseout",function(e){"TABLE"==(e.target||e.srcElement).tagName&&O(u,!1,"",null)}),u.addListener("interlacetable",function(e,t,n){if(t)for(var i,r,o,a=t.rows,s=a.length,l=0;l<s;l++)a[l].className=(i=n||this.options.classList,o=!0,i[r=l]?i[r]:o?i[r%i.length]:"")}),u.addListener("uninterlacetable",function(e,t){if(t)for(var n=t.rows,i=this.options.classList,r=n.length,o=0;o<r;o++)domUtils.removeClasses(n[o],i)}),u.addListener("mousedown",r),u.addListener("mouseup",M),domUtils.on(u.body,"dragstart",function(e){M.call(u,"dragstart",e)}),u.addOutputRule(function(e){utils.each(e.getNodesByTagName("div"),function(e){"ue_tableDragLine"==e.getAttr("id")&&e.parentNode.removeChild(e)})});var a=0;u.addListener("mousedown",function(){a=0}),u.addListener("tabkeydown",function(){var e=this.selection.getRange(),t=e.getCommonAncestor(!0,!0),n=domUtils.findParentByTagName(t,"table");if(n){if(domUtils.findParentByTagName(t,"caption",!0)){(i=domUtils.getElementsByTagName(n,"th td"))&&i.length&&e.setStart(i[0],0).setCursor(!1,!0)}else{var i=domUtils.findParentByTagName(t,["td","th"],!0),r=U(i);a=1<i.rowSpan?a:r.getCellInfo(i).rowIndex;var o=r.getTabNextCell(i,a);o?D(o)?e.setStart(o,0).setCursor(!1,!0):e.selectNodeContents(o).select():(u.fireEvent("saveScene"),u.__hasEnterExecCommand=!0,this.execCommand("insertrownext"),u.__hasEnterExecCommand=!1,(e=this.selection.getRange()).setStart(n.rows[n.rows.length-1].cells[0],0).setCursor(),u.fireEvent("saveScene"))}return!0}}),browser.ie&&u.addListener("selectionchange",function(){O(this,!1,"",null)}),u.addListener("keydown",function(e,t){var n=t.keyCode||t.which;if(8!=n&&46!=n){var i=!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey);i&&s(domUtils.getElementsByTagName(this.body,"td"));var r=k(this);r&&i&&r.clearSelected()}}),u.addListener("beforegetcontent",function(){Y(this,!1),browser.ie&&utils.each(this.document.getElementsByTagName("caption"),function(e){domUtils.isEmptyNode(e)&&(e.innerHTML="&nbsp;")})}),u.addListener("aftergetcontent",function(){Y(this,!0)}),u.addListener("getAllHtml",function(){s(u.document.getElementsByTagName("td"))}),u.addListener("fullscreenchanged",function(e,t){if(!t){var o=this.body.offsetWidth/document.body.offsetWidth,n=domUtils.getElementsByTagName(this.body,"table");utils.each(n,function(e){if(e.offsetWidth<u.body.offsetWidth)return!1;var t=domUtils.getElementsByTagName(e,"td"),n=[];utils.each(t,function(e){n.push(e.offsetWidth)});for(var i,r=0;i=t[r];r++)i.setAttribute("width",Math.floor(n[r]*o));e.setAttribute("width",Math.floor(function(e,t,n){var i=e.body;return i.offsetWidth-(t?2*parseInt(domUtils.getComputedStyle(i,"margin-left"),10):0)-2*n.tableBorder-(e.options.offsetWidth||0)}(u,!0,S(u))))})}});var h=u.execCommand;u.execCommand=function(e,t){var n=this;e=e.toLowerCase();var i,r,o=k(n),a=new dom.Range(n.document),s=n.commands[e]||UE.commands[e];if(s){if(!o||B[e]||s.notNeedUndo||n.__hasEnterExecCommand)r=h.apply(n,arguments);else{n.__hasEnterExecCommand=!0,n.fireEvent("beforeexeccommand",e),i=o.selectedTds;for(var l,d,c,u=-2,f=-2,m=0;c=i[m];m++)D(c)?a.setStart(c,0).setCursor(!1,!0):a.selectNode(c).select(!0),d=n.queryCommandState(e),l=n.queryCommandValue(e),-1!=d&&(u===d&&f===l||(n._ignoreContentChange=!0,r=h.apply(n,arguments),n._ignoreContentChange=!1),u=n.queryCommandState(e),f=n.queryCommandValue(e),domUtils.isEmptyBlock(c)&&domUtils.fillNode(n.document,c));a.setStart(i[0],0).shrinkBoundary(!0).setCursor(!1,!0),n.fireEvent("contentchange"),n.fireEvent("afterexeccommand",e),n.__hasEnterExecCommand=!1,n._selectionChange()}return r}}})},UE.UETable.prototype.sortTable=function(n,i){var e=this.table,t=e.rows,r=[],o="TH"===t[0].cells[0].tagName,a=0;if(this.selectedTds.length){for(var s=this.cellsRange,l=s.endRowIndex+1,d=s.beginRowIndex;d<l;d++)r[d]=t[d];r.splice(0,s.beginRowIndex),a=s.endRowIndex+1===this.rowsNum?0:s.endRowIndex+1}else for(d=0,l=t.length;d<l;d++)r[d]=t[d];var c={reversecurrent:function(e,t){return 1},orderbyasc:function(e,t){var n=e.innerText||e.textContent,i=t.innerText||t.textContent;return n.localeCompare(i)},reversebyasc:function(e,t){var n=e.innerHTML;return t.innerHTML.localeCompare(n)},orderbynum:function(e,t){var n=e[browser.ie?"innerText":"textContent"].match(/\d+/),i=t[browser.ie?"innerText":"textContent"].match(/\d+/);return((n=n&&+n[0])||0)-((i=i&&+i[0])||0)},reversebynum:function(e,t){var n=e[browser.ie?"innerText":"textContent"].match(/\d+/),i=t[browser.ie?"innerText":"textContent"].match(/\d+/);return n=n&&+n[0],((i=i&&+i[0])||0)-(n||0)}};e.setAttribute("data-sort-type",i&&"string"==typeof i&&c[i]?i:""),o&&r.splice(0,1),r=utils.sort(r,function(e,t){return i&&"function"==typeof i?i.call(this,e.cells[n],t.cells[n]):i&&"number"==typeof i?1:i&&"string"==typeof i&&c[i]?c[i].call(this,e.cells[n],t.cells[n]):c.orderbyasc.call(this,e.cells[n],t.cells[n])});var u=e.ownerDocument.createDocumentFragment(),f=0;for(l=r.length;f<l;f++)u.appendChild(r[f]);var m=e.getElementsByTagName("tbody")[0];a?m.insertBefore(u,t[a-s.endRowIndex+s.beginRowIndex-1]):m.appendChild(u)},UE.plugins.tablesort=function(){function l(e){return d.getTableItemsByRange(e)}var e=this,d=UE.UETable;e.ready(function(){utils.cssRule("tablesort","table.sortEnabled tr.firstRow th,table.sortEnabled tr.firstRow td{padding-right:20px;background-repeat: no-repeat;background-position: center right;   background-image:url("+e.options.themePath+e.options.theme+"/images/sortable.png);}",e.document),e.addListener("afterexeccommand",function(e,t){"mergeright"!=t&&"mergedown"!=t&&"mergecells"!=t||this.execCommand("disablesort")})}),UE.commands.sorttable={queryCommandState:function(){var e=l(this);if(!e.cell)return-1;for(var t,n=e.table.getElementsByTagName("td"),i=0;t=n[i++];)if(1!=t.rowSpan||1!=t.colSpan)return-1;return 0},execCommand:function(e,t){var n=this.selection.getRange(),i=n.createBookmark(!0),r=l(this),o=r.cell,a=function(e){return d.getUETable(e)}(r.table),s=a.getCellInfo(o);a.sortTable(s.cellIndex,t),n.moveToBookmark(i);try{n.select()}catch(e){}}},UE.commands.enablesort=UE.commands.disablesort={queryCommandState:function(e){var t=l(this).table;if(t&&"enablesort"==e)for(var n=domUtils.getElementsByTagName(t,"th td"),i=0;i<n.length;i++)if(1<n[i].getAttribute("colspan")||1<n[i].getAttribute("rowspan"))return-1;return t?"enablesort"==e^"sortEnabled"!=t.getAttribute("data-sort")?-1:0:-1},execCommand:function(e){var t=l(this).table;t.setAttribute("data-sort","enablesort"==e?"sortEnabled":"sortDisabled"),"enablesort"==e?domUtils.addClass(t,"sortEnabled"):domUtils.removeClasses(t,"sortEnabled")}}},UE.plugins.contextmenu=function(){var l=this;if(l.setOpt("enableContextMenu",!0),!1!==l.getOpt("enableContextMenu")){var d,c=l.getLang("contextMenu"),u=l.options.contextMenu||[{label:c.selectall,cmdName:"selectall"},{label:c.cleardoc,cmdName:"cleardoc",exec:function(){confirm(c.confirmclear)&&this.execCommand("cleardoc")}},"-",{label:c.unlink,cmdName:"unlink"},"-",{group:c.paragraph,icon:"justifyjustify",subMenu:[{label:c.justifyleft,cmdName:"justify",value:"left"},{label:c.justifyright,cmdName:"justify",value:"right"},{label:c.justifycenter,cmdName:"justify",value:"center"},{label:c.justifyjustify,cmdName:"justify",value:"justify"}]},"-",{group:c.table,icon:"table",subMenu:[{label:c.inserttable,cmdName:"inserttable"},{label:c.deletetable,cmdName:"deletetable"},"-",{label:c.deleterow,cmdName:"deleterow"},{label:c.deletecol,cmdName:"deletecol"},{label:c.insertcol,cmdName:"insertcol"},{label:c.insertcolnext,cmdName:"insertcolnext"},{label:c.insertrow,cmdName:"insertrow"},{label:c.insertrownext,cmdName:"insertrownext"},"-",{label:c.insertcaption,cmdName:"insertcaption"},{label:c.deletecaption,cmdName:"deletecaption"},{label:c.inserttitle,cmdName:"inserttitle"},{label:c.deletetitle,cmdName:"deletetitle"},{label:c.inserttitlecol,cmdName:"inserttitlecol"},{label:c.deletetitlecol,cmdName:"deletetitlecol"},"-",{label:c.mergecells,cmdName:"mergecells"},{label:c.mergeright,cmdName:"mergeright"},{label:c.mergedown,cmdName:"mergedown"},"-",{label:c.splittorows,cmdName:"splittorows"},{label:c.splittocols,cmdName:"splittocols"},{label:c.splittocells,cmdName:"splittocells"},"-",{label:c.averageDiseRow,cmdName:"averagedistributerow"},{label:c.averageDisCol,cmdName:"averagedistributecol"},"-",{label:c.edittd,cmdName:"edittd",exec:function(){UE.ui.edittd&&new UE.ui.edittd(this),this.getDialog("edittd").open()}},{label:c.edittable,cmdName:"edittable",exec:function(){UE.ui.edittable&&new UE.ui.edittable(this),this.getDialog("edittable").open()}},{label:c.setbordervisible,cmdName:"setbordervisible"}]},{group:c.tablesort,icon:"tablesort",subMenu:[{label:c.enablesort,cmdName:"enablesort"},{label:c.disablesort,cmdName:"disablesort"},"-",{label:c.reversecurrent,cmdName:"sorttable",value:"reversecurrent"},{label:c.orderbyasc,cmdName:"sorttable",value:"orderbyasc"},{label:c.reversebyasc,cmdName:"sorttable",value:"reversebyasc"},{label:c.orderbynum,cmdName:"sorttable",value:"orderbynum"},{label:c.reversebynum,cmdName:"sorttable",value:"reversebynum"}]},{group:c.borderbk,icon:"borderBack",subMenu:[{label:c.setcolor,cmdName:"interlacetable",exec:function(){this.execCommand("interlacetable")}},{label:c.unsetcolor,cmdName:"uninterlacetable",exec:function(){this.execCommand("uninterlacetable")}},{label:c.setbackground,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:!0,colorList:["#bbb","#ccc"]})}},{label:c.unsetbackground,cmdName:"cleartablebackground",exec:function(){this.execCommand("cleartablebackground")}},{label:c.redandblue,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:!0,colorList:["red","blue"]})}},{label:c.threecolorgradient,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:!0,colorList:["#aaa","#bbb","#ccc"]})}}]},{group:c.aligntd,icon:"aligntd",subMenu:[{cmdName:"cellalignment",value:{align:"left",vAlign:"top"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"top"}},{cmdName:"cellalignment",value:{align:"right",vAlign:"top"}},{cmdName:"cellalignment",value:{align:"left",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"right",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"left",vAlign:"bottom"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"bottom"}},{cmdName:"cellalignment",value:{align:"right",vAlign:"bottom"}}]},{group:c.aligntable,icon:"aligntable",subMenu:[{cmdName:"tablealignment",className:"left",label:c.tableleft,value:"left"},{cmdName:"tablealignment",className:"center",label:c.tablecenter,value:"center"},{cmdName:"tablealignment",className:"right",label:c.tableright,value:"right"}]},"-",{label:c.insertparagraphbefore,cmdName:"insertparagraph",value:!0},{label:c.insertparagraphafter,cmdName:"insertparagraph"},{label:c.copy,cmdName:"copy"},{label:c.paste,cmdName:"paste"}];if(u.length){var f=UE.ui.uiUtils;l.addListener("contextmenu",function(e,t){var n=f.getViewportOffsetByEvent(t);l.fireEvent("beforeselectionchange"),d&&d.destroy();for(var i,r=0,o=[];i=u[r];r++){var a;!function(e){if("-"==e)(a=o[o.length-1])&&"-"!==a&&o.push("-");else if(e.hasOwnProperty("group")){for(var t,n=0,i=[];t=e.subMenu[n];n++)!function(e){"-"==e?(a=i[i.length-1])&&"-"!==a?i.push("-"):i.splice(i.length-1):(l.commands[e.cmdName]||UE.commands[e.cmdName]||e.query)&&-1<(e.query?e.query():l.queryCommandState(e.cmdName))&&i.push({label:e.label||l.getLang("contextMenu."+e.cmdName+(e.value||""))||"",className:"edui-for-"+e.cmdName+(e.className?" edui-for-"+e.cmdName+"-"+e.className:""),onclick:e.exec?function(){e.exec.call(l)}:function(){l.execCommand(e.cmdName,e.value)}})}(t);if(i.length){o.push({label:function(){switch(e.icon){case"table":return l.getLang("contextMenu.table");case"justifyjustify":return l.getLang("contextMenu.paragraph");case"aligntd":return l.getLang("contextMenu.aligntd");case"aligntable":return l.getLang("contextMenu.aligntable");case"tablesort":return c.tablesort;case"borderBack":return c.borderbk;default:return""}}(),className:"edui-for-"+e.icon,subMenu:{items:i,editor:l}})}}else(l.commands[e.cmdName]||UE.commands[e.cmdName]||e.query)&&-1<(e.query?e.query.call(l):l.queryCommandState(e.cmdName))&&o.push({label:e.label||l.getLang("contextMenu."+e.cmdName),className:"edui-for-"+(e.icon?e.icon:e.cmdName+(e.value||"")),onclick:e.exec?function(){e.exec.call(l)}:function(){l.execCommand(e.cmdName,e.value)}})}(i)}if("-"==o[o.length-1]&&o.pop(),(d=new UE.ui.Menu({items:o,className:"edui-contextmenu",editor:l})).render(),d.showAt(n),l.fireEvent("aftershowcontextmenu",d),domUtils.preventDefault(t),browser.ie){var s;try{s=l.selection.getNative().createRange()}catch(e){return}if(s.item)new dom.Range(l.document).selectNode(s.item(0)).select(!0,!0)}}),l.addListener("aftershowcontextmenu",function(e,t){if(l.zeroclipboard){var n=t.items;for(var i in n)"edui-for-copy"==n[i].className&&l.zeroclipboard.clip(n[i].getDom())}})}}},UE.plugins.shortcutmenu=function(){var o,a=this.options.shortcutMenu||[];a.length&&(this.addListener("contextmenu mouseup",function(e,t){var n=this,i={type:e,target:t.target||t.srcElement,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY};if(setTimeout(function(){!1!==n.selection.getRange().collapsed&&"contextmenu"!=e||(o||((o=new baidu.editor.ui.ShortCutMenu({editor:n,items:a,theme:n.options.theme,className:"edui-shortcutmenu"})).render(),n.fireEvent("afterrendershortcutmenu",o)),o.show(i,!!UE.plugins.contextmenu))}),"contextmenu"==e&&(domUtils.preventDefault(t),browser.ie9below)){var r;try{r=n.selection.getNative().createRange()}catch(t){return}if(r.item)new dom.Range(n.document).selectNode(r.item(0)).select(!0,!0)}}),this.addListener("keydown",function(e){"keydown"==e&&o&&!o.isHidden&&o.hide()}))},UE.plugins.basestyle=function(){function a(e,t){return domUtils.filterNodeList(e.selection.getStartElementPath(),t)}var e={bold:["strong","b"],italic:["em","i"],subscript:["sub"],superscript:["sup"]},s=this;for(var t in s.addshortcutkey({Bold:"ctrl+66",Italic:"ctrl+73",Underline:"ctrl+85"}),s.addInputRule(function(e){utils.each(e.getNodesByTagName("b i"),function(e){switch(e.tagName){case"b":e.tagName="strong";break;case"i":e.tagName="em"}})}),e)!function(e,o){s.commands[e]={execCommand:function(e){var t=s.selection.getRange(),n=a(this,o);if(t.collapsed){if(n){var i=s.document.createTextNode("");t.insertNode(i).removeInlineStyle(o),t.setStartBefore(i),domUtils.remove(i)}else{var r=t.document.createElement(o[0]);"superscript"!=e&&"subscript"!=e||(i=s.document.createTextNode(""),t.insertNode(i).removeInlineStyle(["sub","sup"]).setStartBefore(i).collapse(!0)),t.insertNode(r).setStart(r,0)}t.collapse(!0)}else"superscript"!=e&&"subscript"!=e||n&&n.tagName.toLowerCase()==e||t.removeInlineStyle(["sub","sup"]),n?t.removeInlineStyle(o):t.applyInlineStyle(o[0]);t.select()},queryCommandState:function(){return a(this,o)?1:0}}}(t,e[t])},UE.plugins.elementpath=function(){var o,a,r=this;r.setOpt("elementPathEnabled",!0),r.options.elementPathEnabled&&(r.commands.elementpath={execCommand:function(e,t){var n=a[t],i=r.selection.getRange();o=1*t,i.selectNode(n).select()},queryCommandValue:function(){var e=[].concat(this.selection.getStartElementPath()).reverse(),t=[];a=e;for(var n,i=0;n=e[i];i++){var r;if(3!=n.nodeType)if(n.tagName&&(r=n.tagName.toLowerCase()),"img"==r&&n.getAttribute("anchorname")&&(r="anchor"),t[i]=r,o==i){o=-1;break}}return t}})},UE.plugins.formatmatch=function(){var l,d=this,c=[],u=0;function f(e,t){if(browser.webkit)var n="IMG"==t.target.tagName?t.target:null;d.undoManger&&d.undoManger.save();var i,r=d.selection.getRange(),o=n||r.getClosedNode();if(l&&o&&"IMG"==o.tagName)o.style.cssText+=";float:"+(l.style.cssFloat||l.style.styleFloat||"none")+";display:"+(l.style.display||"inline"),l=null;else if(!l){if(r.collapsed){var a=d.document.createTextNode("match");r.insertNode(a).select()}d.__hasEnterExecCommand=!0;var s=d.options.removeFormatAttributes;d.options.removeFormatAttributes="",d.execCommand("removeformat"),d.options.removeFormatAttributes=s,d.__hasEnterExecCommand=!1,r=d.selection.getRange(),c.length&&(i=r,a&&i.selectNode(a),i.applyInlineStyle(c[c.length-1].tagName,null,c)),a&&r.setStartBefore(a).collapse(!0),r.select(),a&&domUtils.remove(a)}d.undoManger&&d.undoManger.save(),d.removeListener("mouseup",f),u=0}d.addListener("reset",function(){c=[],u=0}),d.commands.formatmatch={execCommand:function(e){if(u)return u=0,c=[],void d.removeListener("mouseup",f);var t=d.selection.getRange();if(!(l=t.getClosedNode())||"IMG"!=l.tagName){t.collapse(!0).shrinkBoundary();var n=t.startContainer;c=domUtils.findParents(n,!0,function(e){return!domUtils.isBlockElm(e)&&1==e.nodeType});for(var i,r=0;i=c[r];r++)if("A"==i.tagName){c.splice(r,1);break}}d.addListener("mouseup",f),u=1},queryCommandState:function(){return u},notNeedUndo:1}},UE.plugin.register("searchreplace",function(){var o=this,u={table:1,tbody:1,tr:1,ol:1,ul:1};function f(e,t,n){var i=t.searchStr;-1==t.dir&&(e=e.split("").reverse().join(""),i=i.split("").reverse().join(""),n=e.length-n);for(var r,o=new RegExp(i,"g"+(t.casesensitive?"":"i"));r=o.exec(e);)if(r.index>=n)return-1==t.dir?e.length-r.index-t.searchStr.length:r.index;return-1}function m(e,t,n){for(var i,r=0,o=e.firstChild,a=0;o;){if(3==o.nodeType){if(t<=(r+=a=o.nodeValue.replace(/(^[\t\r\n]+)|([\t\r\n]+$)/,"").length))return{node:o,index:a-(r-t)}}else if(!dtd.$empty[o.tagName]&&t<=(r+=a=o[browser.ie?"innerText":"textContent"].replace(/(^[\t\r\n]+)|([\t\r\n]+$)/,"").length)&&(i=m(o,a-(r-t),n)))return i;o=domUtils.getNextDomNode(o)}}function a(e,t){var n,i=e.selection.getRange(),r=t.searchStr,o=e.document.createElement("span");if(o.innerHTML="$$ueditor_searchreplace_key$$",i.shrinkBoundary(!0),!i.collapsed){i.select();var a=e.selection.getText();if(new RegExp("^"+t.searchStr+"$",t.casesensitive?"":"i").test(a)){if(null!=t.replaceStr)return h(i,t.replaceStr),i.select(),!0;i.collapse(-1==t.dir)}}i.insertNode(o),i.enlargeToBlockElm(!0);var s=(n=i.startContainer)[browser.ie?"innerText":"textContent"].indexOf("$$ueditor_searchreplace_key$$");i.setStartBefore(o),domUtils.remove(o);var l=function(e,t,n){var i,r=n.all||1==n.dir?"getNextDomNode":"getPreDomNode";for(domUtils.isBody(e)&&(e=e.firstChild);e;){if(0,-1!=(i=f(3==e.nodeType?e.nodeValue:e[browser.ie?"innerText":"textContent"],n,t)))return{node:e,index:i};for(e=domUtils[r](e);e&&u[e.nodeName.toLowerCase()];)e=domUtils[r](e,!0);e&&(t=-1==n.dir?(3==e.nodeType?e.nodeValue:e[browser.ie?"innerText":"textContent"]).length:0)}}(n,s,t);if(l){var d=m(l.node,l.index,r),c=m(l.node,l.index+r.length,r);return i.setStart(d.node,d.index).setEnd(c.node,c.index),void 0!==t.replaceStr&&h(i,t.replaceStr),i.select(),!0}i.setCursor()}function h(e,t){t=o.document.createTextNode(t),e.deleteContents().insertNode(t)}return{commands:{searchreplace:{execCommand:function(e,t){utils.extend(t,{all:!1,casesensitive:!1,dir:1},!0);var n=0;if(t.all){var i=o.selection.getRange(),r=o.body.firstChild;for(r&&1==r.nodeType?(i.setStart(r,0),i.shrinkBoundary(!0)):3==r.nodeType&&i.setStartBefore(r),i.collapse(!0).select(!0),void 0!==t.replaceStr&&o.fireEvent("saveScene");a(this,t);)n++;n&&o.fireEvent("saveScene")}else void 0!==t.replaceStr&&o.fireEvent("saveScene"),a(this,t)&&n++,n&&o.fireEvent("saveScene");return n},notNeedUndo:1}}}}),UE.plugins.customstyle=function(){var a=this;a.setOpt({customstyle:[{tag:"h1",name:"tc",style:"font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;"},{tag:"h1",name:"tl",style:"font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:left;margin:0 0 10px 0;"},{tag:"span",name:"im",style:"font-size:16px;font-style:italic;font-weight:bold;line-height:18px;"},{tag:"span",name:"hi",style:"font-size:16px;font-style:italic;font-weight:bold;color:rgb(51, 153, 204);line-height:18px;"}]}),a.commands.customstyle={execCommand:function(e,t){var n,i,r=t.tag,o=domUtils.findParent(this.selection.getStart(),function(e){return e.getAttribute("label")},!0),a={};for(var s in t)void 0!==t[s]&&(a[s]=t[s]);if(delete a.tag,o&&o.getAttribute("label")==t.label){if(i=(n=this.selection.getRange()).createBookmark(),n.collapsed)if(dtd.$block[o.tagName]){var l=this.document.createElement("p");domUtils.moveChild(o,l),o.parentNode.insertBefore(l,o),domUtils.remove(o)}else domUtils.remove(o,!0);else{var d=domUtils.getCommonAncestor(i.start,i.end),c=domUtils.getElementsByTagName(d,r);new RegExp(r,"i").test(d.tagName)&&c.push(d);for(var u,f=0;u=c[f++];)if(u.getAttribute("label")==t.label){var m=domUtils.getPosition(u,i.start),h=domUtils.getPosition(u,i.end);if((m&domUtils.POSITION_FOLLOWING||m&domUtils.POSITION_CONTAINS)&&(h&domUtils.POSITION_PRECEDING||h&domUtils.POSITION_CONTAINS)&&dtd.$block[r]){l=this.document.createElement("p");domUtils.moveChild(u,l),u.parentNode.insertBefore(l,u)}domUtils.remove(u,!0)}(o=domUtils.findParent(d,function(e){return e.getAttribute("label")==t.label},!0))&&domUtils.remove(o,!0)}n.moveToBookmark(i).select()}else if(dtd.$block[r]){if(this.execCommand("paragraph",r,a,"customstyle"),!(n=this.selection.getRange()).collapsed){n.collapse(),o=domUtils.findParent(this.selection.getStart(),function(e){return e.getAttribute("label")==t.label},!0);var p=this.document.createElement("p");domUtils.insertAfter(o,p),domUtils.fillNode(this.document,p),n.setStart(p,0).setCursor()}}else{if((n=this.selection.getRange()).collapsed)return o=this.document.createElement(r),domUtils.setAttributes(o,a),void n.insertNode(o).setStart(o,0).setCursor();i=n.createBookmark(),n.applyInlineStyle(r,a).moveToBookmark(i).select()}},queryCommandValue:function(){var e=domUtils.filterNodeList(this.selection.getStartElementPath(),function(e){return e.getAttribute("label")});return e?e.getAttribute("label"):""}},a.addListener("keyup",function(e,t){var n=t.keyCode||t.which;if(32==n||13==n){var i=a.selection.getRange();if(i.collapsed){var r=domUtils.findParent(a.selection.getStart(),function(e){return e.getAttribute("label")},!0);if(r&&dtd.$block[r.tagName]&&domUtils.isEmptyNode(r)){var o=a.document.createElement("p");domUtils.insertAfter(r,o),domUtils.fillNode(a.document,o),domUtils.remove(r),i.setStart(o,0).setCursor()}}}})},UE.plugins.catchremoteimage=function(){var me=this,ajax=UE.ajax;!1!==me.options.catchRemoteImageEnable&&(me.setOpt({catchRemoteImageEnable:!1}),me.addListener("afterpaste",function(){me.fireEvent("catchRemoteImage")}),me.addListener("catchRemoteImage",function(){for(var catcherLocalDomain=me.getOpt("catcherLocalDomain"),catcherActionUrl=me.getActionUrl(me.getOpt("catcherActionName")),catcherUrlPrefix=me.getOpt("catcherUrlPrefix"),catcherFieldName=me.getOpt("catcherFieldName"),remoteImages=[],imgs=domUtils.getElementsByTagName(me.document,"img"),test=function(e,t){if(-1!=e.indexOf(location.host)||/(^\.)|(^\/)/.test(e))return!0;if(t)for(var n,i=0;n=t[i++];)if(-1!==e.indexOf(n))return!0;return!1},i=0,ci;ci=imgs[i++];)if(!ci.getAttribute("word_img")){var src=ci.getAttribute("_src")||ci.src||"";/^(https?|ftp):/i.test(src)&&!test(src,catcherLocalDomain)&&remoteImages.push(src)}function catchremoteimage(e,t){var n=utils.serializeParam(me.queryCommandValue("serverparam"))||"",i=utils.formatUrl(catcherActionUrl+(-1==catcherActionUrl.indexOf("?")?"?":"&")+n),r={method:"POST",dataType:utils.isCrossDomainUrl(i)?"jsonp":"",timeout:6e4,onsuccess:t.success,onerror:t.error};r[catcherFieldName]=e,ajax.request(i,r)}remoteImages.length&&catchremoteimage(remoteImages,{success:function success(r){try{var info=void 0!==r.state?r:eval("("+r.responseText+")")}catch(e){return}var i,j,ci,cj,oldSrc,newSrc,list=info.list;for(i=0;ci=imgs[i++];)for(oldSrc=ci.getAttribute("_src")||ci.src||"",j=0;cj=list[j++];)if(oldSrc==cj.source&&"SUCCESS"==cj.state){newSrc=catcherUrlPrefix+cj.url,domUtils.setAttributes(ci,{src:newSrc,_src:newSrc});break}me.fireEvent("catchremotesuccess")},error:function(){me.fireEvent("catchremoteerror")}})}))},UE.plugin.register("snapscreen",function(){var me=this,snapplugin;function getLocation(e){var t,n=document.createElement("a"),i=utils.serializeParam(me.queryCommandValue("serverparam"))||"";return n.href=e,browser.ie&&(n.href=n.href),t=n.search,i&&(t=(t=t+(-1==t.indexOf("?")?"?":"&")+i).replace(/[&]+/gi,"&")),{port:n.port,hostname:n.hostname,path:n.pathname+t||+n.hash}}return{commands:{snapscreen:{execCommand:function execCommand(cmd){var url,local,res,lang=me.getLang("snapScreen_plugin");if(!snapplugin){var container=me.container,doc=me.container.ownerDocument||me.container.document;snapplugin=doc.createElement("object");try{snapplugin.type="application/x-pluginbaidusnap"}catch(e){return}snapplugin.style.cssText="position:absolute;left:-9999px;width:0;height:0;",snapplugin.setAttribute("width","0"),snapplugin.setAttribute("height","0"),container.appendChild(snapplugin)}function onSuccess(rs){try{if(rs=eval("("+rs+")"),"SUCCESS"==rs.state){var opt=me.options;me.execCommand("insertimage",{src:opt.snapscreenUrlPrefix+rs.url,_src:opt.snapscreenUrlPrefix+rs.url,alt:rs.title||"",floatStyle:opt.snapscreenImgAlign})}else alert(rs.state)}catch(e){alert(lang.callBackErrorMsg)}}url=me.getActionUrl(me.getOpt("snapscreenActionName")),local=getLocation(url),setTimeout(function(){try{res=snapplugin.saveSnapshot(local.hostname,local.path,local.port)}catch(e){return void me.ui._dialogs.snapscreenDialog.open()}onSuccess(res)},50)},queryCommandState:function(){return-1!=navigator.userAgent.indexOf("Windows",0)?0:-1}}}}}),UE.commands.insertparagraph={execCommand:function(e,t){for(var n,i=this.selection.getRange(),r=i.startContainer;r&&!domUtils.isBody(r);)r=(n=r).parentNode;if(n){var o=this.document.createElement("p");t?n.parentNode.insertBefore(o,n):n.parentNode.insertBefore(o,n.nextSibling),domUtils.fillNode(this.document,o),i.setStart(o,0).setCursor(!1,!0)}}},UE.plugin.register("webapp",function(){var n=this;function i(e,t){return t?'<iframe class="edui-faked-webapp" title="'+e.title+'" '+(e.align&&!e.cssfloat?'align="'+e.align+'"':"")+(e.cssfloat?'style="float:'+e.cssfloat+'"':"")+'width="'+e.width+'" height="'+e.height+'"  scrolling="no" frameborder="0" src="'+e.url+'" logo_url = "'+e.logo+'"></iframe>':'<img title="'+e.title+'" width="'+e.width+'" height="'+e.height+'" src="'+n.options.UEDITOR_HOME_URL+'themes/default/images/spacer.gif" _logo_url="'+e.logo+'" style="background:url('+e.logo+') no-repeat center center; border:1px solid gray;" class="edui-faked-webapp" _url="'+e.url+'" '+(e.align&&!e.cssfloat?'align="'+e.align+'"':"")+(e.cssfloat?'style="float:'+e.cssfloat+'"':"")+"/>"}return{outputRule:function(e){utils.each(e.getNodesByTagName("img"),function(e){var t;if("edui-faked-webapp"==e.getAttr("class")){t=i({title:e.getAttr("title"),width:e.getAttr("width"),height:e.getAttr("height"),align:e.getAttr("align"),cssfloat:e.getStyle("float"),url:e.getAttr("_url"),logo:e.getAttr("_logo_url")},!0);var n=UE.uNode.createElement(t);e.parentNode.replaceChild(n,e)}})},inputRule:function(e){utils.each(e.getNodesByTagName("iframe"),function(e){if("edui-faked-webapp"==e.getAttr("class")){var t=UE.uNode.createElement(i({title:e.getAttr("title"),width:e.getAttr("width"),height:e.getAttr("height"),align:e.getAttr("align"),cssfloat:e.getStyle("float"),url:e.getAttr("src"),logo:e.getAttr("logo_url")}));e.parentNode.replaceChild(t,e)}})},commands:{webapp:{execCommand:function(e,t){var n=i(utils.extend(t,{align:"none"}),!1);this.execCommand("inserthtml",n)},queryCommandState:function(){var e=this.selection.getRange().getClosedNode();return e&&"edui-faked-webapp"==e.className?1:0}}}}}),UE.plugins.template=function(){UE.commands.template={execCommand:function(e,t){t.html&&this.execCommand("inserthtml",t.html)}},this.addListener("click",function(e,t){var n=t.target||t.srcElement,i=this.selection.getRange(),r=domUtils.findParent(n,function(e){if(e.className&&domUtils.hasClass(e,"ue_t"))return e},!0);r&&i.selectNode(r).shrinkBoundary().select()}),this.addListener("keydown",function(e,t){var n=this.selection.getRange();if(!n.collapsed&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var i=domUtils.findParent(n.startContainer,function(e){if(e.className&&domUtils.hasClass(e,"ue_t"))return e},!0);i&&domUtils.removeClasses(i,["ue_t"])}})},UE.plugin.register("music",function(){var a=this;function o(e,t,n,i,r,o){return o?'<embed type="application/x-shockwave-flash" class="edui-faked-music" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+e+'" width="'+t+'" height="'+n+'" '+(i&&!r?'align="'+i+'"':"")+(r?'style="float:'+r+'"':"")+' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >':"<img "+(i&&!r?'align="'+i+'"':"")+(r?'style="float:'+r+'"':"")+' width="'+t+'" height="'+n+'" _url="'+e+'" class="edui-faked-music" src="'+a.options.langPath+a.options.lang+'/images/music.png" />'}return{outputRule:function(e){utils.each(e.getNodesByTagName("img"),function(e){var t;if("edui-faked-music"==e.getAttr("class")){var n=e.getStyle("float"),i=e.getAttr("align");t=o(e.getAttr("_url"),e.getAttr("width"),e.getAttr("height"),i,n,!0);var r=UE.uNode.createElement(t);e.parentNode.replaceChild(r,e)}})},inputRule:function(e){utils.each(e.getNodesByTagName("embed"),function(e){if("edui-faked-music"==e.getAttr("class")){var t=e.getStyle("float"),n=e.getAttr("align");html=o(e.getAttr("src"),e.getAttr("width"),e.getAttr("height"),n,t,!1);var i=UE.uNode.createElement(html);e.parentNode.replaceChild(i,e)}})},commands:{music:{execCommand:function(e,t){var n=o(t.url,t.width||400,t.height||95,"none",!1);this.execCommand("inserthtml",n)},queryCommandState:function(){var e=this.selection.getRange().getClosedNode();return e&&"edui-faked-music"==e.className?1:0}}}}}),UE.plugin.register("autoupload",function(){function a(e,t){var n,o,i,r,a,s,l,d,c=t,u=/image\/\w+/i.test(e.type)?"image":"file",f="loading_"+(+new Date).toString(36);if(n=c.getOpt(u+"FieldName"),o=c.getOpt(u+"UrlPrefix"),i=c.getOpt(u+"MaxSize"),r=c.getOpt(u+"AllowFiles"),a=c.getActionUrl(c.getOpt(u+"ActionName")),l=function(e){var t=c.document.getElementById(f);t&&domUtils.remove(t),c.fireEvent("showmessage",{id:f,content:e,type:"error",timeout:4e3})},d="image"==u?(s='<img class="loadingclass" id="'+f+'" src="'+c.options.themePath+c.options.theme+'/images/spacer.gif" title="'+(c.getLang("autoupload.loading")||"")+'" >',function(e){var t=o+e.url,n=c.document.getElementById(f);n&&(n.setAttribute("src",t),n.setAttribute("_src",t),n.setAttribute("title",e.title||""),n.setAttribute("alt",e.original||""),n.removeAttribute("id"),domUtils.removeClasses(n,"loadingclass"))}):(s='<p><img class="loadingclass" id="'+f+'" src="'+c.options.themePath+c.options.theme+'/images/spacer.gif" title="'+(c.getLang("autoupload.loading")||"")+'" ></p>',function(e){var t=o+e.url,n=c.document.getElementById(f),i=c.selection.getRange(),r=i.createBookmark();i.selectNode(n).select(),c.execCommand("insertfile",{url:t}),i.moveToBookmark(r).select()}),c.execCommand("inserthtml",s),c.getOpt(u+"ActionName"))if(e.size>i)l(c.getLang("autoupload.exceedSizeError"));else{var m=e.name?e.name.substr(e.name.lastIndexOf(".")):"";if(m&&"image"!=u||r&&-1==(r.join("")+".").indexOf(m.toLowerCase()+"."))l(c.getLang("autoupload.exceedTypeError"));else{var h=new XMLHttpRequest,p=new FormData,g=utils.serializeParam(c.queryCommandValue("serverparam"))||"",v=utils.formatUrl(a+(-1==a.indexOf("?")?"?":"&")+g);p.append(n,e,e.name||"blob."+e.type.substr("image/".length)),p.append("type","ajax"),h.open("post",v,!0),h.setRequestHeader("X-Requested-With","XMLHttpRequest"),h.addEventListener("load",function(e){try{var t=new Function("return "+utils.trim(e.target.response))();"SUCCESS"==t.state&&t.url?d(t):l(t.state)}catch(e){l(c.getLang("autoupload.loadError"))}}),h.send(p)}}else l(c.getLang("autoupload.errorLoadConfig"))}return{outputRule:function(e){utils.each(e.getNodesByTagName("img"),function(e){/\b(loaderrorclass)|(bloaderrorclass)\b/.test(e.getAttr("class"))&&e.parentNode.removeChild(e)}),utils.each(e.getNodesByTagName("p"),function(e){/\bloadpara\b/.test(e.getAttr("class"))&&e.parentNode.removeChild(e)})},bindEvents:{ready:function(e){var o=this;window.FormData&&window.FileReader&&(domUtils.on(o.body,"paste drop",function(e){var t,n=!1;if(t="paste"==e.type?function(e){return e.clipboardData&&e.clipboardData.items&&1==e.clipboardData.items.length&&/^image\//.test(e.clipboardData.items[0].type)?e.clipboardData.items:null}(e):function(e){return e.dataTransfer&&e.dataTransfer.files?e.dataTransfer.files:null}(e)){for(var i,r=t.length;r--;)(i=t[r]).getAsFile&&(i=i.getAsFile()),i&&0<i.size&&(a(i,o),n=!0);n&&e.preventDefault()}}),domUtils.on(o.body,"dragover",function(e){"Files"==e.dataTransfer.types[0]&&e.preventDefault()}),utils.cssRule("loading",".loadingclass{display:inline-block;cursor:default;background: url('./"+this.options.themePath+this.options.theme+"/images/loading.gif') no-repeat center center transparent;border:1px solid #cccccc;margin-left:1px;height: 22px;width: 22px;}\n.loaderrorclass{display:inline-block;cursor:default;background: url('./"+this.options.themePath+this.options.theme+"/images/loaderror.png') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}",this.document))}}}}),UE.plugin.register("autosave",function(){var n=this,i=new Date,r=20,o=null;function e(e){var t;new Date-i<r||(e.hasContents()?(i=new Date,e._saveFlag=null,t=n.body.innerHTML,!1!==e.fireEvent("beforeautosave",{content:t})&&(n.setPreferences(o,t),e.fireEvent("afterautosave",{content:t}))):o&&n.removePreferences(o))}return{defaultOptions:{saveInterval:500},bindEvents:{ready:function(){var e="-drafts-data",t=null;t=n.key?n.key+e:(n.container.parentNode.id||"ue-common")+e,o=(location.protocol+location.host+location.pathname).replace(/[.:\/]/g,"_")+t},contentchange:function(){o&&(n._saveFlag&&window.clearTimeout(n._saveFlag),0<n.options.saveInterval?n._saveFlag=window.setTimeout(function(){e(n)},n.options.saveInterval):e(n))}},commands:{clearlocaldata:{execCommand:function(e,t){o&&n.getPreferences(o)&&n.removePreferences(o)},notNeedUndo:!0,ignoreContentChange:!0},getlocaldata:{execCommand:function(e,t){return o&&n.getPreferences(o)||""},notNeedUndo:!0,ignoreContentChange:!0},drafts:{execCommand:function(e,t){o&&(n.body.innerHTML=n.getPreferences(o)||"<p>"+domUtils.fillHtml+"</p>",n.focus(!0))},queryCommandState:function(){return o?null===n.getPreferences(o)?-1:0:-1},notNeedUndo:!0,ignoreContentChange:!0}}}}),UE.plugin.register("charts",function(){var a=this;return{bindEvents:{chartserror:function(){}},commands:{charts:{execCommand:function(e,t){var n=domUtils.findParentByTagName(this.selection.getRange().startContainer,"table",!0),i=[],r={};if(!n)return!1;if(!s(n))return a.fireEvent("chartserror"),!1;for(var o in r.title=t.title||"",r.subTitle=t.subTitle||"",r.xTitle=t.xTitle||"",r.yTitle=t.yTitle||"",r.suffix=t.suffix||"",r.tip=t.tip||"",r.dataFormat=t.tableDataFormat||"",r.chartType=t.chartType||0,r)r.hasOwnProperty(o)&&i.push(o+":"+r[o]);n.setAttribute("data-chart",i.join(";")),domUtils.addClass(n,"edui-charts-table")},queryCommandState:function(e,t){var n=domUtils.findParentByTagName(this.selection.getRange().startContainer,"table",!0);return n&&s(n)?0:-1}}},inputRule:function(e){utils.each(e.getNodesByTagName("table"),function(e){void 0!==e.getAttr("data-chart")&&e.setAttr("style")})},outputRule:function(e){utils.each(e.getNodesByTagName("table"),function(e){void 0!==e.getAttr("data-chart")&&e.setAttr("style","display: none;")})}};function s(e){var t,n;if(e.rows.length<2)return!1;if(e.rows[0].cells.length<2)return!1;n=(t=e.rows[0].cells).length;for(var i=0;o=t[i];i++)if("th"!==o.tagName.toLowerCase())return!1;var r;for(i=1;r=e.rows[i];i++){if(r.cells.length!=n)return!1;if("th"!==r.cells[0].tagName.toLowerCase())return!1;for(var o,a=1;o=r.cells[a];a++){var s=utils.trim(o.innerText||o.textContent||"");if(s=s.replace(new RegExp(UE.dom.domUtils.fillChar,"g"),"").replace(/^\s+|\s+$/g,""),!/^\d*\.?\d+$/.test(s))return!1}}return!0}}),UE.plugin.register("section",function(){function n(e){this.tag="",this.level=-1,this.dom=null,this.nextSection=null,this.previousSection=null,this.parentSection=null,this.startAddress=[],this.endAddress=[],this.children=[]}function p(e){var t=new n;return utils.extend(t,e)}function c(e,t){for(var n=t,i=0;i<e.length;i++){if(!n.childNodes)return null;n=n.childNodes[e[i]]}return n}var i=this;return{bindMultiEvents:{type:"aftersetcontent afterscencerestore",handler:function(){i.fireEvent("updateSections")}},bindEvents:{ready:function(){i.fireEvent("updateSections"),domUtils.on(i.body,"drop paste",function(){i.fireEvent("updateSections")})},afterexeccommand:function(e,t){"paragraph"==t&&i.fireEvent("updateSections")},keyup:function(e,t){if(1!=this.selection.getRange().collapsed)this.fireEvent("updateSections");else{var n=t.keyCode||t.which;13!=n&&8!=n&&46!=n||this.fireEvent("updateSections")}}},commands:{getsections:{execCommand:function(e,t){for(var n=t||["h1","h2","h3","h4","h5","h6"],i=0;i<n.length;i++)"string"==typeof n[i]?n[i]=function(t){return function(e){return e.tagName==t.toUpperCase()}}(n[i]):"function"!=typeof n[i]&&(n[i]=function(e){return null});function f(e){for(var t=0;t<n.length;t++)if(n[t](e))return t;return-1}var m=this,r=p({level:-1,title:"root"}),h=r;return function e(t,n){for(var i,r,o,a=null,s=t.childNodes,l=0,d=s.length;l<d;l++)if(0<=(i=f(o=s[l]))){var c=m.selection.getRange().selectNode(o).createAddress(!0).startAddress,u=p({tag:o.tagName,title:o.innerText||o.textContent||"",level:i,dom:o,startAddress:utils.clone(c,[]),endAddress:utils.clone(c,[]),children:[]});for(r=(h.nextSection=u).previousSection=h;i<=r.level;)r=r.parentSection;(u.parentSection=r).children.push(u),a=h=u}else 1===o.nodeType&&e(o,n),a&&a.endAddress[a.endAddress.length-1]++}(m.body,r),r},notNeedUndo:!0},movesection:{execCommand:function(e,t,n,i){var r,o;if(t&&n&&-1!=n.level&&(o=c(r=i?n.endAddress:n.startAddress,this.body),r&&o&&!function(e,t,n){for(var i=!1,r=!1,o=0;o<e.length&&!(o>=n.length);o++){if(n[o]>e[o]){i=!0;break}if(n[o]<e[o])break}for(o=0;o<t.length&&!(o>=n.length);o++){if(n[o]<e[o]){r=!0;break}if(n[o]>e[o])break}return i&&r}(t.startAddress,t.endAddress,r))){var a,s,l=c(t.startAddress,this.body),d=c(t.endAddress,this.body);if(i)for(a=d;a&&!(domUtils.getPosition(l,a)&domUtils.POSITION_FOLLOWING)&&(s=a.previousSibling,domUtils.insertAfter(o,a),a!=l);)a=s;else for(a=l;a&&!(domUtils.getPosition(a,d)&domUtils.POSITION_FOLLOWING)&&(s=a.nextSibling,o.parentNode.insertBefore(a,o),a!=d);)a=s;this.fireEvent("updateSections")}}},deletesection:{execCommand:function(e,t,n){var i=this;if(t){var r,o=l(t.startAddress),a=l(t.endAddress),s=o;if(n)domUtils.remove(s);else for(;s&&domUtils.inDoc(a,i.document)&&!(domUtils.getPosition(s,a)&domUtils.POSITION_FOLLOWING);)r=s.nextSibling,domUtils.remove(s),s=r;i.fireEvent("updateSections")}function l(e){for(var t=i.body,n=0;n<e.length;n++){if(!t.childNodes)return null;t=t.childNodes[e[n]]}return t}}},selectsection:{execCommand:function(e,t){if(!t&&!t.dom)return!1;var n=this.selection.getRange(),i={startAddress:utils.clone(t.startAddress,[]),endAddress:utils.clone(t.endAddress,[])};return i.endAddress[i.endAddress.length-1]++,n.moveToAddress(i).select().scrollToView(),!0},notNeedUndo:!0},scrolltosection:{execCommand:function(e,t){if(!t&&!t.dom)return!1;var n=this.selection.getRange(),i={startAddress:t.startAddress,endAddress:t.endAddress};return i.endAddress[i.endAddress.length-1]++,n.moveToAddress(i).scrollToView(),!0},notNeedUndo:!0}}}}),UE.plugin.register("simpleupload",function(){var n,p=this,d=!1;function i(){var o=n.offsetWidth||20,a=n.offsetHeight||20,s=document.createElement("iframe"),l="display:block;width:"+o+"px;height:"+a+"px;overflow:hidden;border:0;margin:0;padding:0;position:absolute;top:0;left:0;filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity: 0;opacity: 0;cursor:pointer;";domUtils.on(s,"load",function(){var e,t,n,i=(+new Date).toString(36);n=(t=s.contentDocument||s.contentWindow.document).body,(e=t.createElement("div")).innerHTML='<form id="edui_form_'+i+'" target="edui_iframe_'+i+'" method="POST" enctype="multipart/form-data" action="'+p.getOpt("serverUrl")+'" style="'+l+'"><input id="edui_input_'+i+'" type="file" accept="image/*" name="'+p.options.imageFieldName+'" style="'+l+'"></form><iframe id="edui_iframe_'+i+'" name="edui_iframe_'+i+'" style="display:none;width:0;height:0;border:0;margin:0;padding:0;position:absolute;"></iframe>',e.className="edui-"+p.options.theme,e.id=p.ui.id+"_iframeupload",n.style.cssText=l,n.style.width=o+"px",n.style.height=a+"px",n.appendChild(e),n.parentNode&&(n.parentNode.style.width=o+"px",n.parentNode.style.height=o+"px");var r,f=t.getElementById("edui_form_"+i),m=t.getElementById("edui_input_"+i),h=t.getElementById("edui_iframe_"+i);domUtils.on(m,"change",function(){if(m.value){var o="loading_"+(+new Date).toString(36),e=(utils.serializeParam(p.queryCommandValue("serverparam")),p.getActionUrl(p.getOpt("imageActionName"))),t=p.getOpt("imageAllowFiles");if(p.focus(),p.execCommand("inserthtml",'<img class="loadingclass" id="'+o+'" src="'+p.options.themePath+p.options.theme+'/images/spacer.gif" title="'+(p.getLang("simpleupload.loading")||"")+'" >'),p.getOpt("imageActionName")){var n=m.value,i=n?n.substr(n.lastIndexOf(".")):"";if(!i||t&&-1==(t.join("")+".").indexOf(i.toLowerCase()+"."))u(p.getLang("simpleupload.exceedTypeError"));else{domUtils.on(h,"load",c);var r=m.files[0],a=new FormData,s=r.name,l=r.size,d=p.getOpt("maxSize");s&&l&&(!1!==/\.(jpg|jpeg|png|bmp|gif|webp)$/i.test(s)?d<l?u("【"+s+"】大于"+(d>>"20")+"M"):(a.append("image",r),UE.ajax.request(e,{method:"post",data:a,onsuccess:function(e){try{f.reset(),c(e),p._serverConfigLoaded=!0}catch(e){}},onerror:function(){}})):u("【"+s+"】不是图片"))}}else errorHandler(p.getLang("autoupload.errorLoadConfig"))}function c(e){try{(h.contentDocument||h.contentWindow.document).body;var t,n,i,r=e.responseText;t=(n=new Function("return "+r)()).Data,0==n.Code&&n.Data?(t=n.Data[0].url,(i=p.document.getElementById(o)).setAttribute("src",t),i.setAttribute("_src",t),i.setAttribute("title",n.title||""),i.setAttribute("alt",n.original||""),i.removeAttribute("id"),domUtils.removeClasses(i,"loadingclass")):u(n.state)}catch(e){u(p.getLang("simpleupload.loadError"))}f.reset(),domUtils.un(h,"load",c)}function u(e){if(o){var t=p.document.getElementById(o);t&&domUtils.remove(t),p.fireEvent("showmessage",{id:o,content:e,type:"error",timeout:4e3})}}}),p.addListener("selectionchange",function(){clearTimeout(r),r=setTimeout(function(){p.queryCommandState("simpleupload");m.disabled=!1},400)}),d=!0}),s.style.cssText=l,n.appendChild(s)}return{bindEvents:{ready:function(){utils.cssRule("loading",".loadingclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loading.gif') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}\n.loaderrorclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loaderror.png') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}",this.document)},simpleuploadbtnready:function(e,t){n=t,p.afterConfigReady(i)}},outputRule:function(e){utils.each(e.getNodesByTagName("img"),function(e){/\b(loaderrorclass)|(bloaderrorclass)\b/.test(e.getAttr("class"))&&e.parentNode.removeChild(e)})},commands:{simpleupload:{queryCommandState:function(){return d?0:-1}}}}}),UE.plugin.register("serverparam",function(){var i={};return{commands:{serverparam:{execCommand:function(e,t,n){null==t?i={}:utils.isString(t)?null==n?delete i[t]:i[t]=n:utils.isObject(t)?utils.extend(i,t,!0):utils.isFunction(t)&&utils.extend(i,t(),!0)},queryCommandValue:function(){return i||{}}}}}}),UE.plugin.register("insertfile",function(){var f=this;return{commands:{insertfile:{execCommand:function(e,t){t=utils.isArray(t)?t:[t];var n,i,r,o,a,s,l,d="",c=f.getOpt("UEDITOR_HOME_URL"),u=c+("/"==c.substr(c.length-1)?"":"/")+"dialogs/attachment/fileTypeImages/";for(n=0;n<t.length;n++)i=t[n],r=u+(a=i.url,void 0,s=a.substr(a.lastIndexOf(".")+1).toLowerCase(),(l={rar:"icon_rar.gif",zip:"icon_rar.gif",tar:"icon_rar.gif",gz:"icon_rar.gif",bz2:"icon_rar.gif",doc:"icon_doc.gif",docx:"icon_doc.gif",pdf:"icon_pdf.gif",mp3:"icon_mp3.gif",xls:"icon_xls.gif",chm:"icon_chm.gif",ppt:"icon_ppt.gif",pptx:"icon_ppt.gif",avi:"icon_mv.gif",rmvb:"icon_mv.gif",wmv:"icon_mv.gif",flv:"icon_mv.gif",swf:"icon_mv.gif",rm:"icon_mv.gif",exe:"icon_exe.gif",psd:"icon_psd.gif",txt:"icon_txt.gif",jpg:"icon_jpg.gif",png:"icon_jpg.gif",jpeg:"icon_jpg.gif",gif:"icon_jpg.gif",ico:"icon_jpg.gif",bmp:"icon_jpg.gif"})[s]?l[s]:l.txt),o=i.title||i.url.substr(i.url.lastIndexOf("/")+1),d+='<p style="line-height: 16px;"><img style="vertical-align: middle; margin-right: 2px;" src="'+r+'" _src="'+r+'" /><a style="font-size:12px; color:#0066cc;" href="'+i.url+'" title="'+o+'">'+o+"</a></p>";f.execCommand("insertHtml",d)}}}}});var baidu=baidu||{},i$a,j$a,k$a,l$a,m$a,n$a,o$a,S_a,T_a,U_a,V_a,t0a,u0a,v0a,z0a,A0a,B0a,C0a,D0a,v2a,w2a,x2a,y2a,a3a,b3a,c3a,d3a,P3a,Q3a,R3a,S3a,f4a,g4a,i4a,j4a,k4a,B4a,C4a,D4a,E4a,F4a,G4a,X4a,Y4a,Z4a,$4a,_4a,k5a,l5a,m5a,w5a,x5a,y5a,z5a,A5a,h6a,i6a,j6a,k6a,l6a,C6a,D6a,E6a,F6a,G6a,S6a,T6a,U6a,V6a,t8a,u8a,v8a,w8a,x8a,b9a,c9a,d9a,W8a,X8a,Y8a,Z8a,$8a,_8a,a9a,Kab,Lab,Mab,Nab,Vab,Wab,Xab,Yab,hbb,bbb,cbb,dbb,ebb,fbb,gbb,ibb,jbb,pcb,qcb,rcb,vcb,wcb,xcb,ycb;function p$a(){var e=document.getElementById("edui_fixedlayer");o$a.setViewportOffset(e,{left:0,top:0})}function B5a(e){for(var t,n={},i=e.getDom(),r=e.editor.uid,o=null,a=domUtils.getElementsByTagName(i,"input"),s=a.length-1;t=a[s--];)if("checkbox"==t.getAttribute("type"))if(n[o=t.getAttribute("name")]&&delete n[o],t.checked){var l=document.getElementById(o+"Value"+r);if(l){if(/input/gi.test(l.tagName))n[o]=l.value;else for(var d,c=l.getElementsByTagName("input"),u=c.length-1;d=c[u--];)if(d.checked){n[o]=d.value;break}}else n[o]=!0}else n[o]=!1;else n[t.getAttribute("value")]=t.checked;var f,m=domUtils.getElementsByTagName(i,"select");for(s=0;f=m[s++];){var h=f.getAttribute("name");n[h]=n[h]?f.value:""}w5a.extend(e.editor.options.autotypeset,n),e.editor.setPreferences("autotypeset",n)}function kbb(e){var t=e.target||e.srcElement;if(!fbb.findParent(t,function(e){return fbb.hasClass(e,"edui-shortcutmenu")||fbb.hasClass(e,"edui-popup")},!0))for(var n,i=0;n=gbb[i++];)n.hide()}baidu.editor=baidu.editor||{},UE.ui=baidu.editor.ui={},i$a=baidu.editor.browser,j$a=baidu.editor.dom.domUtils,k$a="$EDITORUI",l$a=window[k$a]={},m$a="ID"+k$a,n$a=0,o$a=baidu.editor.ui.uiUtils={uid:function(e){return e?e[m$a]||(e[m$a]=++n$a):++n$a},hook:function(r,e){var o;return r&&r._callbacks?o=r:(o=function(){var e;r&&(e=r.apply(this,arguments));for(var t=o._callbacks,n=t.length;n--;){var i=t[n].apply(this,arguments);void 0===e&&(e=i)}return e})._callbacks=[],o._callbacks.push(e),o},createElementByHtml:function(e){var t=document.createElement("div");return t.innerHTML=e,(t=t.firstChild).parentNode.removeChild(t),t},getViewportElement:function(){return i$a.ie&&i$a.quirks?document.body:document.documentElement},getClientRect:function(e){var t;try{t=e.getBoundingClientRect()}catch(e){t={left:0,top:0,height:0,width:0}}for(var n,i={left:Math.round(t.left),top:Math.round(t.top),height:Math.round(t.bottom-t.top),width:Math.round(t.right-t.left)};(n=e.ownerDocument)!==document&&(e=j$a.getWindow(n).frameElement);)t=e.getBoundingClientRect(),i.left+=t.left,i.top+=t.top;return i.bottom=i.top+i.height,i.right=i.left+i.width,i},getViewportRect:function(){var e=o$a.getViewportElement(),t=0|(window.innerWidth||e.clientWidth),n=0|(window.innerHeight||e.clientHeight);return{left:0,top:0,height:n,width:t,bottom:n,right:t}},setViewportOffset:function(e,t){var n=o$a.getFixedLayer();e.parentNode===n?(e.style.left=t.left+"px",e.style.top=t.top+"px"):j$a.setViewportOffset(e,t)},getEventOffset:function(e){var t=e.target||e.srcElement,n=o$a.getClientRect(t),i=o$a.getViewportOffsetByEvent(e);return{left:i.left-n.left,top:i.top-n.top}},getViewportOffsetByEvent:function(e){var t=e.target||e.srcElement,n=j$a.getWindow(t).frameElement,i={left:e.clientX,top:e.clientY};if(n&&t.ownerDocument!==document){var r=o$a.getClientRect(n);i.left+=r.left,i.top+=r.top}return i},setGlobal:function(e,t){return l$a[e]=t,k$a+'["'+e+'"]'},unsetGlobal:function(e){delete l$a[e]},copyAttributes:function(e,t){for(var n=t.attributes,i=n.length;i--;){var r=n[i];"style"==r.nodeName||"class"==r.nodeName||i$a.ie&&!r.specified||e.setAttribute(r.nodeName,r.nodeValue)}t.className&&j$a.addClass(e,t.className),t.style.cssText&&(e.style.cssText+=";"+t.style.cssText)},removeStyle:function(e,t){if(e.style.removeProperty)e.style.removeProperty(t);else{if(!e.style.removeAttribute)throw"";e.style.removeAttribute(t)}},contains:function(e,t){return e&&t&&e!==t&&(e.contains?e.contains(t):16&e.compareDocumentPosition(t))},startDrag:function(e,i,t){t=t||document;var r=e.clientX,o=e.clientY;function n(e){var t=e.clientX-r,n=e.clientY-o;i.ondragmove(t,n,e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}if(t.addEventListener){function a(e){t.removeEventListener("mousemove",n,!0),t.removeEventListener("mouseup",a,!0),window.removeEventListener("mouseup",a,!0),i.ondragstop()}t.addEventListener("mousemove",n,!0),t.addEventListener("mouseup",a,!0),window.addEventListener("mouseup",a,!0),e.preventDefault()}else{function s(){l.releaseCapture(),l.detachEvent("onmousemove",n),l.detachEvent("onmouseup",s),l.detachEvent("onlosecaptrue",s),i.ondragstop()}var l=e.srcElement;l.setCapture(),l.attachEvent("onmousemove",n),l.attachEvent("onmouseup",s),l.attachEvent("onlosecaptrue",s),e.returnValue=!1}i.ondragstart()},getFixedLayer:function(){var e=document.getElementById("edui_fixedlayer");return null==e&&((e=document.createElement("div")).id="edui_fixedlayer",document.body.appendChild(e),i$a.ie&&i$a.version<=8?(e.style.position="absolute",j$a.on(window,"scroll",p$a),j$a.on(window,"resize",baidu.editor.utils.defer(p$a,0,!0)),setTimeout(p$a)):e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.width="0",e.style.height="0"),e},makeUnselectable:function(e){if(i$a.opera||i$a.ie&&i$a.version<9){if(e.unselectable="on",e.hasChildNodes())for(var t=0;t<e.childNodes.length;t++)1==e.childNodes[t].nodeType&&o$a.makeUnselectable(e.childNodes[t])}else void 0!==e.style.MozUserSelect?e.style.MozUserSelect="none":void 0!==e.style.WebkitUserSelect?e.style.WebkitUserSelect="none":void 0!==e.style.KhtmlUserSelect&&(e.style.KhtmlUserSelect="none")}},S_a=baidu.editor.utils,T_a=baidu.editor.ui.uiUtils,U_a=baidu.editor.EventBase,V_a=baidu.editor.ui.UIBase=function(){},V_a.prototype={className:"",uiName:"",initOptions:function(e){for(var t in e)this[t]=e[t];this.id=this.id||"edui"+T_a.uid()},initUIBase:function(){this._globalKey=S_a.unhtml(T_a.setGlobal(this.id,this))},render:function(e){for(var t,n=this.renderHtml(),i=T_a.createElementByHtml(n),r=domUtils.getElementsByTagName(i,"*"),o="edui-"+(this.theme||this.editor.options.theme),a=document.getElementById("edui_fixedlayer"),s=0;t=r[s++];)domUtils.addClass(t,o);domUtils.addClass(i,o),a&&(a.className="",domUtils.addClass(a,o));var l=this.getDom();null!=l?(l.parentNode.replaceChild(i,l),T_a.copyAttributes(i,l)):("string"==typeof e&&(e=document.getElementById(e)),e=e||T_a.getFixedLayer(),domUtils.addClass(e,o),e.appendChild(i)),this.postRender()},getDom:function(e){return e?document.getElementById(this.id+"_"+e):document.getElementById(this.id)},postRender:function(){this.fireEvent("postrender")},getHtmlTpl:function(){return""},formatHtml:function(e){var t="edui-"+this.uiName;return e.replace(/##/g,this.id).replace(/%%-/g,this.uiName?t+"-":"").replace(/%%/g,(this.uiName?t:"")+" "+this.className).replace(/\$\$/g,this._globalKey)},renderHtml:function(){return this.formatHtml(this.getHtmlTpl())},dispose:function(){var e=this.getDom();e&&baidu.editor.dom.domUtils.remove(e),T_a.unsetGlobal(this.id)}},S_a.inherits(V_a,U_a),t0a=baidu.editor.utils,u0a=baidu.editor.ui.UIBase,v0a=baidu.editor.ui.Separator=function(e){this.initOptions(e),this.initSeparator()},v0a.prototype={uiName:"separator",initSeparator:function(){this.initUIBase()},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"></div>'}},t0a.inherits(v0a,u0a),z0a=baidu.editor.utils,A0a=baidu.editor.dom.domUtils,B0a=baidu.editor.ui.UIBase,C0a=baidu.editor.ui.uiUtils,D0a=baidu.editor.ui.Mask=function(e){this.initOptions(e),this.initUIBase()},D0a.prototype={getHtmlTpl:function(){return'<div id="##" class="edui-mask %%" onclick="return $$._onClick(event, this);" onmousedown="return $$._onMouseDown(event, this);"></div>'},postRender:function(){var e=this;A0a.on(window,"resize",function(){setTimeout(function(){e.isHidden()||e._fill()})})},show:function(e){this._fill(),this.getDom().style.display="",this.getDom().style.zIndex=e},hide:function(){this.getDom().style.display="none",this.getDom().style.zIndex=""},isHidden:function(){return"none"==this.getDom().style.display},_onMouseDown:function(){return!1},_onClick:function(e,t){this.fireEvent("click",e,t)},_fill:function(){var e=this.getDom(),t=C0a.getViewportRect();e.style.width=t.width+"px",e.style.height=t.height+"px"}},z0a.inherits(D0a,B0a),function(){var e=baidu.editor.utils,c=baidu.editor.ui.uiUtils,u=baidu.editor.dom.domUtils,a=baidu.editor.ui.UIBase,t=baidu.editor.ui.Popup=function(e){this.initOptions(e),this.initPopup()},r=[];function n(e,t){for(var n=0;n<r.length;n++){var i=r[n];if(!i.isHidden()&&!1!==i.queryAutoHide(t)){if(e&&/scroll/gi.test(e.type)&&"edui-wordpastepop"==i.className)return;i.hide()}}r.length&&i.editor.fireEvent("afterhidepop")}t.postHide=n;var f=["edui-anchor-topleft","edui-anchor-topright","edui-anchor-bottomleft","edui-anchor-bottomright"];t.prototype={SHADOW_RADIUS:5,content:null,_hidden:!1,autoRender:!0,canSideLeft:!0,canSideUp:!0,initPopup:function(){this.initUIBase(),r.push(this)},getHtmlTpl:function(){return'<div id="##" class="edui-popup %%" onmousedown="return false;"> <div id="##_body" class="edui-popup-body"> <iframe style="position:absolute;z-index:-1;left:0;top:0;background-color: transparent;" frameborder="0" width="100%" height="100%" src="about:blank"></iframe> <div class="edui-shadow"></div> <div id="##_content" class="edui-popup-content">'+this.getContentHtmlTpl()+"  </div> </div></div>"},getContentHtmlTpl:function(){return this.content?"string"==typeof this.content?this.content:this.content.renderHtml():""},_UIBase_postRender:a.prototype.postRender,postRender:function(){if(this.content instanceof a&&this.content.postRender(),this.captureWheel&&!this.captured){this.captured=!0;var e=(document.documentElement.clientHeight||document.body.clientHeight)-80,t=this.getDom().offsetHeight,n=c.getClientRect(this.combox.getDom()).top,i=this.getDom("content"),r=this.getDom("body").getElementsByTagName("iframe"),o=this;for(r.length&&(r=r[0]);e<n+t;)t-=30;i.style.height=t+"px",r&&(r.style.height=t+"px"),window.XMLHttpRequest?u.on(i,"onmousewheel"in document.body?"mousewheel":"DOMMouseScroll",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.wheelDelta?i.scrollTop-=e.wheelDelta/120*60:i.scrollTop-=e.detail/-3*60}):u.on(this.getDom(),"mousewheel",function(e){e.returnValue=!1,o.getDom("content").scrollTop-=e.wheelDelta/120*60})}this.fireEvent("postRenderAfter"),this.hide(!0),this._UIBase_postRender()},_doAutoRender:function(){!this.getDom()&&this.autoRender&&this.render()},mesureSize:function(){var e=this.getDom("content");return c.getClientRect(e)},fitSize:function(){if(this.captureWheel&&this.sized)return this.__size;this.sized=!0;var e=this.getDom("body");e.style.width="",e.style.height="";var t=this.mesureSize();if(this.captureWheel){e.style.width=-(-20-t.width)+"px";var n=parseInt(this.getDom("content").style.height,10);window.isNaN(n)||(t.height=n)}else e.style.width=t.width+"px";return e.style.height=t.height+"px",this.__size=t,this.captureWheel&&(this.getDom("content").style.overflow="auto"),t},showAnchor:function(e,t){this.showAnchorRect(c.getClientRect(e),t)},showAnchorRect:function(e,t,n){this._doAutoRender();var i=c.getViewportRect();this.getDom().style.visibility="hidden",this._show();var r,o,a,s,l=this.fitSize();s=t?(r=this.canSideLeft&&e.right+l.width>i.right&&e.left>l.width,o=this.canSideUp&&e.top+l.height>i.bottom&&e.bottom>l.height,a=r?e.left-l.width:e.right,o?e.bottom-l.height:e.top):(r=this.canSideLeft&&e.right+l.width>i.right&&e.left>l.width,o=this.canSideUp&&e.top+l.height>i.bottom&&e.bottom>l.height,a=r?e.right-l.width:e.left,o?e.top-l.height:e.bottom);var d=this.getDom();c.setViewportOffset(d,{left:a,top:s}),u.removeClasses(d,f),d.className+=" "+f[2*(o?1:0)+(r?1:0)],this.editor&&(d.style.zIndex=1*this.editor.container.style.zIndex+10,baidu.editor.ui.uiUtils.getFixedLayer().style.zIndex=d.style.zIndex-1),this.getDom().style.visibility="visible"},showAt:function(e){var t=e.left,n=e.top,i={left:t,top:n,right:t,bottom:n,height:0,width:0};this.showAnchorRect(i,!1,!0)},_show:function(){this._hidden&&(this.getDom().style.display="",this._hidden=!1,this.fireEvent("show"))},isHidden:function(){return this._hidden},show:function(){this._doAutoRender(),this._show()},hide:function(e){!this._hidden&&this.getDom()&&(this.getDom().style.display="none",this._hidden=!0,e||this.fireEvent("hide"))},queryAutoHide:function(e){return!e||!c.contains(this.getDom(),e)}},e.inherits(t,a),u.on(document,"mousedown",function(e){n(e,e.target||e.srcElement)}),u.on(window,"scroll",function(e,t){n(e,t)})}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.UIBase,n=baidu.editor.ui.ColorPicker=function(e){this.initOptions(e),this.noColorText=this.noColorText||this.editor.getLang("clearColor"),this.initUIBase()};n.prototype={getHtmlTpl:function(){return function(e,t){for(var n='<div id="##" class="edui-colorpicker %%"><div class="edui-colorpicker-topbar edui-clearfix"><div unselectable="on" id="##_preview" class="edui-colorpicker-preview"></div><div unselectable="on" class="edui-colorpicker-nocolor" onclick="$$._onPickNoColor(event, this);">'+e+'</div></div><table  class="edui-box" style="border-collapse: collapse;" onmouseover="$$._onTableOver(event, this);" onmouseout="$$._onTableOut(event, this);" onclick="return $$._onTableClick(event, this);" cellspacing="0" cellpadding="0"><tr style="border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;padding-top: 2px"><td colspan="10">'+t.getLang("themeColor")+'</td> </tr><tr class="edui-colorpicker-tablefirstrow" >',i=0;i<r.length;i++)i&&i%10==0&&(n+="</tr>"+(60==i?'<tr style="border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;"><td colspan="10">'+t.getLang("standardColor")+"</td></tr>":"")+"<tr"+(60==i?' class="edui-colorpicker-tablefirstrow"':"")+">"),n+=i<70?'<td style="padding: 0 2px;"><a hidefocus title="'+r[i]+'" onclick="return false;" href="javascript:" unselectable="on" class="edui-box edui-colorpicker-colorcell" data-color="#'+r[i]+'" style="background-color:#'+r[i]+";border:solid #ccc;"+(i<10||60<=i?"border-width:1px;":10<=i&&i<20?"border-width:1px 1px 0 1px;":"border-width:0 1px 0 1px;")+'"></a></td>':"";return n+="</tr></table></div>"}(this.noColorText,this.editor)},_onTableClick:function(e){var t=(e.target||e.srcElement).getAttribute("data-color");t&&this.fireEvent("pickcolor",t)},_onTableOver:function(e){var t=(e.target||e.srcElement).getAttribute("data-color");t&&(this.getDom("preview").style.backgroundColor=t)},_onTableOut:function(){this.getDom("preview").style.backgroundColor=""},_onPickNoColor:function(){this.fireEvent("picknocolor")}},e.inherits(n,t);var r="333333,ff801a,4086FF".split(",")}(),v2a=baidu.editor.utils,w2a=baidu.editor.ui.uiUtils,x2a=baidu.editor.ui.UIBase,y2a=baidu.editor.ui.TablePicker=function(e){this.initOptions(e),this.initTablePicker()},y2a.prototype={defaultNumRows:10,defaultNumCols:10,maxNumRows:20,maxNumCols:20,numRows:10,numCols:10,lengthOfCellSide:22,initTablePicker:function(){this.initUIBase()},getHtmlTpl:function(){return'<div id="##" class="edui-tablepicker %%"><div class="edui-tablepicker-body"><div class="edui-infoarea"><span id="##_label" class="edui-label"></span></div><div class="edui-pickarea" onmousemove="$$._onMouseMove(event, this);" onmouseover="$$._onMouseOver(event, this);" onmouseout="$$._onMouseOut(event, this);" onclick="$$._onClick(event, this);"><div id="##_overlay" class="edui-overlay"></div></div></div></div>'},_UIBase_render:x2a.prototype.render,render:function(e){this._UIBase_render(e),this.getDom("label").innerHTML="0"+this.editor.getLang("t_row")+" x 0"+this.editor.getLang("t_col")},_track:function(e,t){var n=this.getDom("overlay").style,i=this.lengthOfCellSide;n.width=e*i+"px",n.height=t*i+"px",this.getDom("label").innerHTML=e+this.editor.getLang("t_col")+" x "+t+this.editor.getLang("t_row"),this.numCols=e,this.numRows=t},_onMouseOver:function(e,t){var n=e.relatedTarget||e.fromElement;w2a.contains(t,n)||t===n||(this.getDom("label").innerHTML="0"+this.editor.getLang("t_col")+" x 0"+this.editor.getLang("t_row"),this.getDom("overlay").style.visibility="")},_onMouseOut:function(e,t){var n=e.relatedTarget||e.toElement;w2a.contains(t,n)||t===n||(this.getDom("label").innerHTML="0"+this.editor.getLang("t_col")+" x 0"+this.editor.getLang("t_row"),this.getDom("overlay").style.visibility="hidden")},_onMouseMove:function(e,t){this.getDom("overlay").style;var n=w2a.getEventOffset(e),i=this.lengthOfCellSide,r=Math.ceil(n.left/i),o=Math.ceil(n.top/i);this._track(r,o)},_onClick:function(){this.fireEvent("picktable",this.numCols,this.numRows)}},v2a.inherits(y2a,x2a),a3a=baidu.editor.browser,b3a=baidu.editor.dom.domUtils,c3a=baidu.editor.ui.uiUtils,d3a='onmousedown="$$.Stateful_onMouseDown(event, this);" onmouseup="$$.Stateful_onMouseUp(event, this);"'+(a3a.ie?' onmouseenter="$$.Stateful_onMouseEnter(event, this);" onmouseleave="$$.Stateful_onMouseLeave(event, this);"':' onmouseover="$$.Stateful_onMouseOver(event, this);" onmouseout="$$.Stateful_onMouseOut(event, this);"'),baidu.editor.ui.Stateful={alwalysHoverable:!1,target:null,Stateful_init:function(){this._Stateful_dGetHtmlTpl=this.getHtmlTpl,this.getHtmlTpl=this.Stateful_getHtmlTpl},Stateful_getHtmlTpl:function(){return this._Stateful_dGetHtmlTpl().replace(/stateful/g,function(){return d3a})},Stateful_onMouseEnter:function(e,t){this.target=t,this.isDisabled()&&!this.alwalysHoverable||(this.addState("hover"),this.fireEvent("over"))},Stateful_onMouseLeave:function(e,t){this.isDisabled()&&!this.alwalysHoverable||(this.removeState("hover"),this.removeState("active"),this.fireEvent("out"))},Stateful_onMouseOver:function(e,t){var n=e.relatedTarget;c3a.contains(t,n)||t===n||this.Stateful_onMouseEnter(e,t)},Stateful_onMouseOut:function(e,t){var n=e.relatedTarget;c3a.contains(t,n)||t===n||this.Stateful_onMouseLeave(e,t)},Stateful_onMouseDown:function(e,t){this.isDisabled()||this.addState("active")},Stateful_onMouseUp:function(e,t){this.isDisabled()||this.removeState("active")},Stateful_postRender:function(){this.disabled&&!this.hasState("disabled")&&this.addState("disabled")},hasState:function(e){return b3a.hasClass(this.getStateDom(),"edui-state-"+e)},addState:function(e){this.hasState(e)||(this.getStateDom().className+=" edui-state-"+e)},removeState:function(e){this.hasState(e)&&b3a.removeClasses(this.getStateDom(),["edui-state-"+e])},getStateDom:function(){return this.getDom("state")},isChecked:function(){return this.hasState("checked")},setChecked:function(e){!this.isDisabled()&&e?this.addState("checked"):this.removeState("checked")},isDisabled:function(){return this.hasState("disabled")},setDisabled:function(e){e?(this.removeState("hover"),this.removeState("checked"),this.removeState("active"),this.addState("disabled")):this.removeState("disabled")}},P3a=baidu.editor.utils,Q3a=baidu.editor.ui.UIBase,R3a=baidu.editor.ui.Stateful,S3a=baidu.editor.ui.Button=function(e){if(e.name){var t=e.name,n=e.cssRules;e.className||(e.className="edui-for-"+t),e.cssRules=".edui-default  .edui-for-"+t+" .edui-icon {"+n+"}"}this.initOptions(e),this.initButton()},S3a.prototype={uiName:"button",label:"",title:"",showIcon:!0,showText:!0,cssRules:"",initButton:function(){this.initUIBase(),this.Stateful_init(),this.cssRules&&P3a.cssRule("edui-customize-"+this.name+"-style",this.cssRules)},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"><div id="##_state" stateful><div class="%%-wrap"><div id="##_body" unselectable="on" '+(this.title?'title="'+this.title+'"':"")+' class="%%-body" onmousedown="return $$._onMouseDown(event, this);" onclick="return $$._onClick(event, this);">'+(this.showIcon?'<div class="edui-box edui-icon"></div>':"")+(this.showText?'<div class="edui-box edui-label">'+this.label+"</div>":"")+"</div></div></div></div>"},postRender:function(){this.Stateful_postRender(),this.setDisabled(this.disabled)},_onMouseDown:function(e){var t=e.target||e.srcElement,n=t&&t.tagName&&t.tagName.toLowerCase();if("input"==n||"object"==n||"object"==n)return!1},_onClick:function(){this.isDisabled()||this.fireEvent("click")},setTitle:function(e){this.getDom("label").innerHTML=e}},P3a.inherits(S3a,Q3a),P3a.extend(S3a.prototype,R3a),f4a=baidu.editor.utils,g4a=baidu.editor.ui.uiUtils,baidu.editor.dom.domUtils,i4a=baidu.editor.ui.UIBase,j4a=baidu.editor.ui.Stateful,k4a=baidu.editor.ui.SplitButton=function(e){this.initOptions(e),this.initSplitButton()},k4a.prototype={popup:null,uiName:"splitbutton",title:"",initSplitButton:function(){if(this.initUIBase(),this.Stateful_init(),null!=this.popup){var e=this.popup;this.popup=null,this.setPopup(e)}},_UIBase_postRender:i4a.prototype.postRender,postRender:function(){this.Stateful_postRender(),this._UIBase_postRender()},setPopup:function(e){this.popup!==e&&(null!=this.popup&&this.popup.dispose(),e.addListener("show",f4a.bind(this._onPopupShow,this)),e.addListener("hide",f4a.bind(this._onPopupHide,this)),e.addListener("postrender",f4a.bind(function(){e.getDom("body").appendChild(g4a.createElementByHtml('<div id="'+this.popup.id+'_bordereraser" class="edui-bordereraser edui-background" style="width:'+(g4a.getClientRect(this.getDom()).width+20)+'px"></div>')),e.getDom().className+=" "+this.className},this)),this.popup=e)},_onPopupShow:function(){this.addState("opened")},_onPopupHide:function(){this.removeState("opened")},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"><div '+(this.title?'title="'+this.title+'"':"")+' id="##_state" stateful><div class="%%-body"><div id="##_button_body" class="edui-box edui-button-body" onclick="$$._onButtonClick(event, this);"><div class="edui-box edui-icon"></div></div><div class="edui-box edui-splitborder"></div><div class="edui-box edui-arrow" onclick="$$._onArrowClick();"></div></div></div></div>'},showPopup:function(){var e=g4a.getClientRect(this.getDom());e.top-=this.popup.SHADOW_RADIUS,e.height+=this.popup.SHADOW_RADIUS,this.popup.showAnchorRect(e)},_onArrowClick:function(e,t){this.isDisabled()||this.showPopup()},_onButtonClick:function(){this.isDisabled()||this.fireEvent("buttonclick")}},f4a.inherits(k4a,i4a),f4a.extend(k4a.prototype,j4a,!0),B4a=baidu.editor.utils,C4a=baidu.editor.ui.uiUtils,D4a=baidu.editor.ui.ColorPicker,E4a=baidu.editor.ui.Popup,F4a=baidu.editor.ui.SplitButton,G4a=baidu.editor.ui.ColorButton=function(e){this.initOptions(e),this.initColorButton()},G4a.prototype={initColorButton:function(){var n=this;this.popup=new E4a({content:new D4a({noColorText:n.editor.getLang("clearColor"),editor:n.editor,onpickcolor:function(e,t){n._onPickColor(t)},onpicknocolor:function(e,t){n._onPickNoColor(t)}}),editor:n.editor}),this.initSplitButton()},_SplitButton_postRender:F4a.prototype.postRender,postRender:function(){this._SplitButton_postRender(),this.getDom("button_body").appendChild(C4a.createElementByHtml('<div id="'+this.id+'_colorlump" class="edui-colorlump"></div>')),this.getDom().className+=" edui-colorbutton"},setColor:function(e){this.getDom("colorlump").style.backgroundColor=e,this.color=e},_onPickColor:function(e){!1!==this.fireEvent("pickcolor",e)&&(this.setColor(e),this.popup.hide())},_onPickNoColor:function(e){!1!==this.fireEvent("picknocolor")&&this.popup.hide()}},B4a.inherits(G4a,F4a),X4a=baidu.editor.utils,Y4a=baidu.editor.ui.Popup,Z4a=baidu.editor.ui.TablePicker,$4a=baidu.editor.ui.SplitButton,_4a=baidu.editor.ui.TableButton=function(e){this.initOptions(e),this.initTableButton()},_4a.prototype={initTableButton:function(){var i=this;this.popup=new Y4a({content:new Z4a({editor:i.editor,onpicktable:function(e,t,n){i._onPickTable(t,n)}}),editor:i.editor}),this.initSplitButton()},_onPickTable:function(e,t){!1!==this.fireEvent("picktable",e,t)&&this.popup.hide()}},X4a.inherits(_4a,$4a),k5a=baidu.editor.utils,l5a=baidu.editor.ui.UIBase,m5a=baidu.editor.ui.AutoTypeSetPicker=function(e){this.initOptions(e),this.initAutoTypeSetPicker()},m5a.prototype={initAutoTypeSetPicker:function(){this.initUIBase()},getHtmlTpl:function(){var e=this.editor,t=e.options.autotypeset,n=e.getLang("autoTypeSet"),i="textAlignValue"+e.uid,r="imageBlockLineValue"+e.uid,o="symbolConverValue"+e.uid;return'<div id="##" class="edui-autotypesetpicker %%"><div class="edui-autotypesetpicker-body"><table ><tr><td nowrap><input type="checkbox" name="mergeEmptyline" '+(t.mergeEmptyline?"checked":"")+">"+n.mergeLine+'</td><td colspan="2"><input type="checkbox" name="removeEmptyline" '+(t.removeEmptyline?"checked":"")+">"+n.delLine+'</td></tr><tr><td nowrap><input type="checkbox" name="removeClass" '+(t.removeClass?"checked":"")+">"+n.removeFormat+'</td><td colspan="2"><input type="checkbox" name="indent" '+(t.indent?"checked":"")+">"+n.indent+'</td></tr><tr><td nowrap><input type="checkbox" name="textAlign" '+(t.textAlign?"checked":"")+">"+n.alignment+'</td><td colspan="2" id="'+i+'"><input type="radio" name="'+i+'" value="left" '+(t.textAlign&&"left"==t.textAlign?"checked":"")+">"+e.getLang("justifyleft")+'<input type="radio" name="'+i+'" value="center" '+(t.textAlign&&"center"==t.textAlign?"checked":"")+">"+e.getLang("justifycenter")+'<input type="radio" name="'+i+'" value="right" '+(t.textAlign&&"right"==t.textAlign?"checked":"")+">"+e.getLang("justifyright")+'</td></tr><tr><td nowrap><input type="checkbox" name="imageBlockLine" '+(t.imageBlockLine?"checked":"")+">"+n.imageFloat+'</td><td nowrap id="'+r+'"><input type="radio" name="'+r+'" value="none" '+(t.imageBlockLine&&"none"==t.imageBlockLine?"checked":"")+">"+e.getLang("default")+'<input type="radio" name="'+r+'" value="left" '+(t.imageBlockLine&&"left"==t.imageBlockLine?"checked":"")+">"+e.getLang("justifyleft")+'<input type="radio" name="'+r+'" value="center" '+(t.imageBlockLine&&"center"==t.imageBlockLine?"checked":"")+">"+e.getLang("justifycenter")+'<input type="radio" name="'+r+'" value="right" '+(t.imageBlockLine&&"right"==t.imageBlockLine?"checked":"")+">"+e.getLang("justifyright")+'</td></tr><tr><td nowrap><input type="checkbox" name="clearFontSize" '+(t.clearFontSize?"checked":"")+">"+n.removeFontsize+'</td><td colspan="2"><input type="checkbox" name="clearFontFamily" '+(t.clearFontFamily?"checked":"")+">"+n.removeFontFamily+'</td></tr><tr><td nowrap colspan="3"><input type="checkbox" name="removeEmptyNode" '+(t.removeEmptyNode?"checked":"")+">"+n.removeHtml+'</td></tr><tr><td nowrap colspan="3"><input type="checkbox" name="pasteFilter" '+(t.pasteFilter?"checked":"")+">"+n.pasteFilter+'</td></tr><tr><td nowrap><input type="checkbox" name="symbolConver" '+(t.bdc2sb||t.tobdc?"checked":"")+">"+n.symbol+'</td><td id="'+o+'"><input type="radio" name="bdc" value="bdc2sb" '+(t.bdc2sb?"checked":"")+">"+n.bdc2sb+'<input type="radio" name="bdc" value="tobdc" '+(t.tobdc?"checked":"")+">"+n.tobdc+'</td><td nowrap align="right"><button >'+n.run+"</button></td></tr></table></div></div>"},_UIBase_render:l5a.prototype.render},k5a.inherits(m5a,l5a),w5a=baidu.editor.utils,x5a=baidu.editor.ui.Popup,y5a=baidu.editor.ui.AutoTypeSetPicker,z5a=baidu.editor.ui.SplitButton,A5a=baidu.editor.ui.AutoTypeSetButton=function(e){this.initOptions(e),this.initAutoTypeSetButton()},A5a.prototype={initAutoTypeSetButton:function(){var d=this;this.popup=new x5a({content:new y5a({editor:d.editor}),editor:d.editor,hide:function(){!this._hidden&&this.getDom()&&(B5a(this),this.getDom().style.display="none",this._hidden=!0,this.fireEvent("hide"))}});var t=0;this.popup.addListener("postRenderAfter",function(){var l=this;if(!t){var e=this.getDom();e.getElementsByTagName("button")[0].onclick=function(){B5a(l),d.editor.execCommand("autotypeset"),l.hide()},domUtils.on(e,"click",function(e){var t=e.target||e.srcElement,n=d.editor.uid;if(t&&"INPUT"==t.tagName){if("imageBlockLine"==t.name||"textAlign"==t.name||"symbolConver"==t.name)for(var i=t.checked,r=document.getElementById(t.name+"Value"+n).getElementsByTagName("input"),o={imageBlockLine:"none",textAlign:"left",symbolConver:"tobdc"},a=0;a<r.length;a++)i?r[a].value==o[t.name]&&(r[a].checked="checked"):r[a].checked=!1;if(t.name=="imageBlockLineValue"+n||t.name=="textAlignValue"+n||"bdc"==t.name){var s=t.parentNode.previousSibling.getElementsByTagName("input");s&&(s[0].checked=!0)}B5a(l)}}),t=1}}),this.initSplitButton()}},w5a.inherits(A5a,z5a),h6a=baidu.editor.utils,i6a=baidu.editor.ui.Popup,j6a=baidu.editor.ui.Stateful,k6a=baidu.editor.ui.UIBase,l6a=baidu.editor.ui.CellAlignPicker=function(e){this.initOptions(e),this.initSelected(),this.initCellAlignPicker()},l6a.prototype={initSelected:function(){var e={top:0,middle:1,bottom:2},t={left:0,center:1,right:2},n=3;this.selected&&(this.selectedIndex=e[this.selected.valign]*n+t[this.selected.align])},initCellAlignPicker:function(){this.initUIBase(),this.Stateful_init()},getHtmlTpl:function(){for(var e=["left","center","right"],t=null,n=-1,i=[],r=0;r<9;r++)t=this.selectedIndex===r?' class="edui-cellalign-selected" ':"",0==(n=r%3)&&i.push("<tr>"),i.push('<td index="'+r+'" '+t+' stateful><div class="edui-icon edui-'+e[n]+'"></div></td>'),2===n&&i.push("</tr>");return'<div id="##" class="edui-cellalignpicker %%"><div class="edui-cellalignpicker-body"><table onclick="$$._onClick(event);">'+i.join("")+"</table></div></div>"},getStateDom:function(){return this.target},_onClick:function(e){var t=e.target||e.srcElement;/icon/.test(t.className)&&(this.items[t.parentNode.getAttribute("index")].onclick(),i6a.postHide(e))},_UIBase_render:k6a.prototype.render},h6a.inherits(l6a,k6a),h6a.extend(l6a.prototype,j6a,!0),C6a=baidu.editor.utils,D6a=baidu.editor.ui.Stateful,E6a=baidu.editor.ui.uiUtils,F6a=baidu.editor.ui.UIBase,G6a=baidu.editor.ui.PastePicker=function(e){this.initOptions(e),this.initPastePicker()},G6a.prototype={initPastePicker:function(){this.initUIBase(),this.Stateful_init()},getHtmlTpl:function(){return'<div class="edui-pasteicon" onclick="$$._onClick(this)"></div><div class="edui-pastecontainer"><div class="edui-title">'+this.editor.getLang("pasteOpt")+'</div><div class="edui-button"><div title="'+this.editor.getLang("pasteSourceFormat")+'" onclick="$$.format(false)" stateful><div class="edui-richtxticon"></div></div><div title="'+this.editor.getLang("tagFormat")+'" onclick="$$.format(2)" stateful><div class="edui-tagicon"></div></div><div title="'+this.editor.getLang("pasteTextFormat")+'" onclick="$$.format(true)" stateful><div class="edui-plaintxticon"></div></div></div></div></div>'},getStateDom:function(){return this.target},format:function(e){this.editor.ui._isTransfer=!0,this.editor.fireEvent("pasteTransfer",e)},_onClick:function(e){var t=domUtils.getNextDomNode(e),n=E6a.getViewportRect().height,i=E6a.getClientRect(t);i.top+i.height>n?t.style.top=-i.height-e.offsetHeight+"px":t.style.top="",/hidden/gi.test(domUtils.getComputedStyle(t,"visibility"))?(t.style.visibility="visible",domUtils.addClass(e,"edui-state-opened")):(t.style.visibility="hidden",domUtils.removeClasses(e,"edui-state-opened"))},_UIBase_render:F6a.prototype.render},C6a.inherits(G6a,F6a),C6a.extend(G6a.prototype,D6a,!0),S6a=baidu.editor.utils,T6a=baidu.editor.ui.uiUtils,U6a=baidu.editor.ui.UIBase,V6a=baidu.editor.ui.Toolbar=function(e){this.initOptions(e),this.initToolbar()},V6a.prototype={items:null,initToolbar:function(){this.items=this.items||[],this.initUIBase()},add:function(e,t){void 0===t?this.items.push(e):this.items.splice(t,0,e)},getHtmlTpl:function(){for(var e=[],t=0;t<this.items.length;t++)e[t]=this.items[t].renderHtml();return'<div id="##" class="edui-toolbar %%" onselectstart="return false;" onmousedown="return $$._onMouseDown(event, this);">'+e.join("")+"</div>"},postRender:function(){for(var e=this.getDom(),t=0;t<this.items.length;t++)this.items[t].postRender();T6a.makeUnselectable(e)},_onMouseDown:function(e){var t=e.target||e.srcElement,n=t&&t.tagName&&t.tagName.toLowerCase();if("input"==n||"object"==n||"object"==n)return!1}},S6a.inherits(V6a,U6a),function(){var e=baidu.editor.utils,n=baidu.editor.dom.domUtils,r=baidu.editor.ui.uiUtils,t=baidu.editor.ui.UIBase,i=baidu.editor.ui.Popup,o=baidu.editor.ui.Stateful,a=baidu.editor.ui.CellAlignPicker,s=baidu.editor.ui.Menu=function(e){this.initOptions(e),this.initMenu()},l={renderHtml:function(){return'<div class="edui-menuitem edui-menuseparator"><div class="edui-menuseparator-inner"></div></div>'},postRender:function(){},queryAutoHide:function(){return!0}};s.prototype={items:null,uiName:"menu",initMenu:function(){this.items=this.items||[],this.initPopup(),this.initItems()},initItems:function(){for(var e=0;e<this.items.length;e++){var t=this.items[e];"-"==t?this.items[e]=this.getSeparator():t instanceof d||(t.editor=this.editor,t.theme=this.editor.options.theme,this.items[e]=this.createItem(t))}},getSeparator:function(){return l},createItem:function(e){return e.menu=this,new d(e)},_Popup_getContentHtmlTpl:i.prototype.getContentHtmlTpl,getContentHtmlTpl:function(){if(0==this.items.length)return this._Popup_getContentHtmlTpl();for(var e=[],t=0;t<this.items.length;t++){var n=this.items[t];e[t]=n.renderHtml()}return'<div class="%%-body">'+e.join("")+"</div>"},_Popup_postRender:i.prototype.postRender,postRender:function(){for(var i=this,e=0;e<this.items.length;e++){var t=this.items[e];t.ownerMenu=this,t.postRender()}n.on(this.getDom(),"mouseover",function(e){var t=(e=e||event).relatedTarget||e.fromElement,n=i.getDom();r.contains(n,t)||n===t||i.fireEvent("over")}),this._Popup_postRender()},queryAutoHide:function(e){if(e){if(r.contains(this.getDom(),e))return!1;for(var t=0;t<this.items.length;t++){if(!1===this.items[t].queryAutoHide(e))return!1}}},clearItems:function(){for(var e=0;e<this.items.length;e++){var t=this.items[e];clearTimeout(t._showingTimer),clearTimeout(t._closingTimer),t.subMenu&&t.subMenu.destroy()}this.items=[]},destroy:function(){this.getDom()&&n.remove(this.getDom()),this.clearItems()},dispose:function(){this.destroy()}},e.inherits(s,i);var d=baidu.editor.ui.MenuItem=function(e){if(this.initOptions(e),this.initUIBase(),this.Stateful_init(),this.subMenu&&!(this.subMenu instanceof s))if(e.className&&-1!=e.className.indexOf("aligntd")){var t=this;this.subMenu.selected=this.editor.queryCommandValue("cellalignment"),this.subMenu=new i({content:new a(this.subMenu),parentMenu:t,editor:t.editor,destroy:function(){this.getDom()&&n.remove(this.getDom())}}),this.subMenu.addListener("postRenderAfter",function(){n.on(this.getDom(),"mouseover",function(){t.addState("opened")})})}else this.subMenu=new s(this.subMenu)};d.prototype={label:"",subMenu:null,ownerMenu:null,uiName:"menuitem",alwalysHoverable:!0,getHtmlTpl:function(){return'<div id="##" class="%%" stateful onclick="$$._onClick(event, this);"><div class="%%-body">'+this.renderLabelHtml()+"</div></div>"},postRender:function(){var n=this;this.addListener("over",function(){n.ownerMenu.fireEvent("submenuover",n),n.subMenu&&n.delayShowSubMenu()}),this.subMenu&&(this.getDom().className+=" edui-hassubmenu",this.subMenu.render(),this.addListener("out",function(){n.delayHideSubMenu()}),this.subMenu.addListener("over",function(){clearTimeout(n._closingTimer),n._closingTimer=null,n.addState("opened")}),this.ownerMenu.addListener("hide",function(){n.hideSubMenu()}),this.ownerMenu.addListener("submenuover",function(e,t){t!==n&&n.delayHideSubMenu()}),this.subMenu._bakQueryAutoHide=this.subMenu.queryAutoHide,this.subMenu.queryAutoHide=function(e){return(!e||!r.contains(n.getDom(),e))&&this._bakQueryAutoHide(e)}),this.getDom().style.tabIndex="-1",r.makeUnselectable(this.getDom()),this.Stateful_postRender()},delayShowSubMenu:function(){var e=this;e.isDisabled()||(e.addState("opened"),clearTimeout(e._showingTimer),clearTimeout(e._closingTimer),e._closingTimer=null,e._showingTimer=setTimeout(function(){e.showSubMenu()},250))},delayHideSubMenu:function(){var e=this;e.isDisabled()||(e.removeState("opened"),clearTimeout(e._showingTimer),e._closingTimer||(e._closingTimer=setTimeout(function(){e.hasState("opened")||e.hideSubMenu(),e._closingTimer=null},400)))},renderLabelHtml:function(){return'<div class="edui-arrow"></div><div class="edui-box edui-icon"></div><div class="edui-box edui-label %%-label">'+(this.label||"")+"</div>"},getStateDom:function(){return this.getDom()},queryAutoHide:function(e){if(this.subMenu&&this.hasState("opened"))return this.subMenu.queryAutoHide(e)},_onClick:function(e,t){this.hasState("disabled")||!1!==this.fireEvent("click",e,t)&&(this.subMenu?this.showSubMenu():i.postHide(e))},showSubMenu:function(){var e=r.getClientRect(this.getDom());e.right-=5,e.left+=2,e.width-=7,e.top-=4,e.bottom+=4,e.height+=8,this.subMenu.showAnchorRect(e,!0,!0)},hideSubMenu:function(){this.subMenu.hide()}},e.inherits(d,t),e.extend(d.prototype,o,!0)}(),t8a=baidu.editor.utils,u8a=baidu.editor.ui.uiUtils,v8a=baidu.editor.ui.Menu,w8a=baidu.editor.ui.SplitButton,x8a=baidu.editor.ui.Combox=function(e){this.initOptions(e),this.initCombox()},x8a.prototype={uiName:"combox",onbuttonclick:function(){this.showPopup()},initCombox:function(){var e=this;this.items=this.items||[];for(var t=0;t<this.items.length;t++){var n=this.items[t];n.uiName="listitem",n.index=t,n.onclick=function(){e.selectByIndex(this.index)}}this.popup=new v8a({items:this.items,uiName:"list",editor:this.editor,captureWheel:!0,combox:this}),this.initSplitButton()},_SplitButton_postRender:w8a.prototype.postRender,postRender:function(){this._SplitButton_postRender(),this.setLabel(this.label||""),this.setValue(this.initValue||"")},showPopup:function(){var e=u8a.getClientRect(this.getDom());e.top+=1,e.bottom-=1,e.height-=2,this.popup.showAnchorRect(e)},getValue:function(){return this.value},setValue:function(e){var t=this.indexByValue(e);-1!=t?(this.selectedIndex=t,this.setLabel(this.items[t].label),this.value=this.items[t].value):(this.selectedIndex=-1,this.setLabel(this.getLabelForUnknowValue(e)),this.value=e)},setLabel:function(e){this.getDom("button_body").innerHTML=e,this.label=e},getLabelForUnknowValue:function(e){return e},indexByValue:function(e){for(var t=0;t<this.items.length;t++)if(e==this.items[t].value)return t;return-1},getItem:function(e){return this.items[e]},selectByIndex:function(e){e<this.items.length&&!1!==this.fireEvent("select",e)&&(this.selectedIndex=e,this.value=this.items[e].value,this.setLabel(this.items[e].label))}},t8a.inherits(x8a,w8a),W8a=baidu.editor.utils,X8a=baidu.editor.dom.domUtils,Y8a=baidu.editor.ui.uiUtils,Z8a=baidu.editor.ui.Mask,$8a=baidu.editor.ui.UIBase,_8a=baidu.editor.ui.Button,a9a=baidu.editor.ui.Dialog=function(e){if(e.name){var t=e.name,n=e.cssRules;e.className||(e.className="edui-for-"+t),n&&(e.cssRules=".edui-default .edui-for-"+t+" .edui-dialog-content  {"+n+"}")}this.initOptions(W8a.extend({autoReset:!0,draggable:!0,onok:function(){},oncancel:function(){},onclose:function(e,t){return t?this.onok():this.oncancel()},holdScroll:!1},e)),this.initDialog()},a9a.prototype={draggable:!1,uiName:"dialog",initDialog:function(){var e=this,t=this.editor.options.theme;if(this.cssRules&&W8a.cssRule("edui-customize-"+this.name+"-style",this.cssRules),this.initUIBase(),this.modalMask=b9a=b9a||new Z8a({className:"edui-dialog-modalmask",theme:t,onclick:function(){d9a&&d9a.close(!1)}}),this.dragMask=c9a=c9a||new Z8a({className:"edui-dialog-dragmask",theme:t}),this.closeButton=new _8a({className:"edui-dialog-closebutton",title:e.closeDialog,theme:t,onclick:function(){e.close(!1)}}),this.fullscreen&&this.initResizeEvent(),this.buttons)for(var n=0;n<this.buttons.length;n++)this.buttons[n]instanceof _8a||(this.buttons[n]=new _8a(W8a.extend(this.buttons[n],{editor:this.editor},!0)))},initResizeEvent:function(){var o=this;X8a.on(window,"resize",function(){o._hidden||void 0===o._hidden||(o.__resizeTimer&&window.clearTimeout(o.__resizeTimer),o.__resizeTimer=window.setTimeout(function(){o.__resizeTimer=null;var e=o.getDom(),t=o.getDom("content"),n=UE.ui.uiUtils.getClientRect(e),i=UE.ui.uiUtils.getClientRect(t),r=Y8a.getViewportRect();t.style.width=r.width-n.width+i.width+"px",t.style.height=r.height-n.height+i.height+"px",e.style.width=r.width+"px",e.style.height=r.height+"px",o.fireEvent("resize")},100))})},fitSize:function(){var e=this.getDom("body"),t=this.mesureSize();return e.style.width=t.width+"px",e.style.height=t.height+"px",t},safeSetOffset:function(e){var t=this.getDom(),n=Y8a.getViewportRect(),i=Y8a.getClientRect(t),r=e.left;r+i.width>n.right&&(r=n.right-i.width);var o=e.top;o+i.height>n.bottom&&(o=n.bottom-i.height),t.style.left=Math.max(r,0)+"px",t.style.top=Math.max(o,0)+"px"},showAtCenter:function(){var e=Y8a.getViewportRect();if(this.fullscreen){var t=this.getDom(),n=this.getDom("content");t.style.display="block";var i=UE.ui.uiUtils.getClientRect(t),r=UE.ui.uiUtils.getClientRect(n);t.style.left="-100000px",n.style.width=e.width-i.width+r.width+"px",n.style.height=e.height-i.height+r.height+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.left=0,this._originalContext={html:{overflowX:document.documentElement.style.overflowX,overflowY:document.documentElement.style.overflowY},body:{overflowX:document.body.style.overflowX,overflowY:document.body.style.overflowY}},document.documentElement.style.overflowX="hidden",document.documentElement.style.overflowY="hidden",document.body.style.overflowX="hidden",document.body.style.overflowY="hidden"}else{this.getDom().style.display="";var o=this.fitSize(),a=0|this.getDom("titlebar").offsetHeight,s=e.width/2-o.width/2,l=e.height/2-(o.height-a)/2-a,d=this.getDom();this.safeSetOffset({left:Math.max(0|s,0),top:Math.max(0|l,0)}),X8a.hasClass(d,"edui-state-centered")||(d.className+=" edui-state-centered")}this._show()},getContentHtml:function(){var e="";return"string"==typeof this.content?e=this.content:this.iframeUrl&&(e='<span id="'+this.id+'_contmask" class="dialogcontmask"></span><iframe id="'+this.id+'_iframe" class="%%-iframe" height="100%" width="100%" frameborder="0" src="'+this.iframeUrl+'"></iframe>'),e},getHtmlTpl:function(){var e="";if(this.buttons){for(var t=[],n=0;n<this.buttons.length;n++)t[n]=this.buttons[n].renderHtml();e='<div class="%%-foot"><div id="##_buttons" class="%%-buttons">'+t.join("")+"</div></div>"}return'<div id="##" class="%%"><div '+(this.fullscreen?'class="%%-wrap edui-dialog-fullscreen-flag"':'class="%%"')+'><div id="##_body" class="%%-body"><div class="%%-shadow"></div><div id="##_titlebar" class="%%-titlebar"><div class="%%-draghandle" onmousedown="$$._onTitlebarMouseDown(event, this);"><span class="%%-caption">'+(this.title||"")+"</span></div>"+this.closeButton.renderHtml()+'</div><div id="##_content" class="%%-content">'+(this.autoReset?"":this.getContentHtml())+"</div>"+e+"</div></div></div>"},postRender:function(){this.modalMask.getDom()||(this.modalMask.render(),this.modalMask.hide()),this.dragMask.getDom()||(this.dragMask.render(),this.dragMask.hide());var e=this;if(this.addListener("show",function(){e.modalMask.show(this.getDom().style.zIndex-2)}),this.addListener("hide",function(){e.modalMask.hide()}),this.buttons)for(var t=0;t<this.buttons.length;t++)this.buttons[t].postRender();X8a.on(window,"resize",function(){setTimeout(function(){e.isHidden()||e.safeSetOffset(Y8a.getClientRect(e.getDom()))})}),this._hide()},mesureSize:function(){var e=this.getDom("body"),t=Y8a.getClientRect(this.getDom("content")).width;return e.style.width=t,Y8a.getClientRect(e)},_onTitlebarMouseDown:function(e,t){if(this.draggable){Y8a.getViewportRect();var r,o=this;Y8a.startDrag(e,{ondragstart:function(){r=Y8a.getClientRect(o.getDom()),o.getDom("contmask").style.visibility="visible",o.dragMask.show(o.getDom().style.zIndex-1)},ondragmove:function(e,t){var n=r.left+e,i=r.top+t;o.safeSetOffset({left:n,top:i})},ondragstop:function(){o.getDom("contmask").style.visibility="hidden",X8a.removeClasses(o.getDom(),["edui-state-centered"]),o.dragMask.hide()}})}},reset:function(){this.getDom("content").innerHTML=this.getContentHtml(),this.fireEvent("dialogafterreset")},_show:function(){this._hidden&&(this.getDom().style.display="",this.editor.container.style.zIndex&&(this.getDom().style.zIndex=1*this.editor.container.style.zIndex+10),this._hidden=!1,this.fireEvent("show"),baidu.editor.ui.uiUtils.getFixedLayer().style.zIndex=this.getDom().style.zIndex-4)},isHidden:function(){return this._hidden},_hide:function(){if(!this._hidden){var e=this.getDom();e.style.display="none",e.style.zIndex="",e.style.width="",e.style.height="",this._hidden=!0,this.fireEvent("hide")}},open:function(){if(this.autoReset)try{this.reset()}catch(e){this.render(),this.open()}if(this.showAtCenter(),this.iframeUrl)try{this.getDom("iframe").focus()}catch(e){}d9a=this},_onCloseButtonClick:function(e,t){this.close(!1)},close:function(e){if(!1!==this.fireEvent("close",e)){this.fullscreen&&(document.documentElement.style.overflowX=this._originalContext.html.overflowX,document.documentElement.style.overflowY=this._originalContext.html.overflowY,document.body.style.overflowX=this._originalContext.body.overflowX,document.body.style.overflowY=this._originalContext.body.overflowY,delete this._originalContext),this._hide();var t=this.getDom("content"),n=this.getDom("iframe");if(t&&n){var i=n.contentDocument||n.contentWindow.document;i&&(i.body.innerHTML=""),X8a.remove(t)}}}},W8a.inherits(a9a,$8a),Kab=baidu.editor.utils,Lab=baidu.editor.ui.Menu,Mab=baidu.editor.ui.SplitButton,Nab=baidu.editor.ui.MenuButton=function(e){this.initOptions(e),this.initMenuButton()},Nab.prototype={initMenuButton:function(){var t=this;this.uiName="menubutton",this.popup=new Lab({items:t.items,className:t.className,editor:t.editor}),this.popup.addListener("show",function(){for(var e=0;e<this.items.length;e++)this.items[e].removeState("checked"),this.items[e].value==t._value&&(this.items[e].addState("checked"),this.value=t._value)}),this.initSplitButton()},setValue:function(e){this._value=e}},Kab.inherits(Nab,Mab),Vab=baidu.editor.utils,Wab=baidu.editor.ui.Popup,Xab=baidu.editor.ui.SplitButton,Yab=baidu.editor.ui.MultiMenuPop=function(e){this.initOptions(e),this.initMultiMenu()},Yab.prototype={initMultiMenu:function(){var e=this;this.popup=new Wab({content:"",editor:e.editor,iframe_rendered:!1,onshow:function(){this.iframe_rendered||(this.iframe_rendered=!0,this.getDom("content").innerHTML='<iframe id="'+e.id+'_iframe" src="'+e.iframeUrl+'" frameborder="0"></iframe>',e.editor.container.style.zIndex&&(this.getDom().style.zIndex=1*e.editor.container.style.zIndex+1))}}),this.onbuttonclick=function(){this.showPopup()},this.initSplitButton()}},Vab.inherits(Yab,Xab),bbb=baidu.editor.ui,cbb=bbb.UIBase,dbb=bbb.uiUtils,ebb=baidu.editor.utils,fbb=baidu.editor.dom.domUtils,gbb=[],ibb=!1,jbb=bbb.ShortCutMenu=function(e){this.initOptions(e),this.initShortCutMenu()},jbb.postHide=kbb,jbb.prototype={isHidden:!0,SPACE:5,initShortCutMenu:function(){this.items=this.items||[],this.initUIBase(),this.initItems(),this.initEvent(),gbb.push(this)},initEvent:function(){var d=this,e=d.editor.document;fbb.on(e,"mousemove",function(e){if(!1===d.isHidden){if(d.getSubMenuMark()||"contextmenu"==d.eventType)return;var t=!0,n=d.getDom(),i=n.offsetWidth,r=n.offsetHeight,o=i/2+d.SPACE,a=r/2,s=Math.abs(e.screenX-d.left),l=Math.abs(e.screenY-d.top);clearTimeout(hbb),hbb=setTimeout(function(){0<l&&l<a?d.setOpacity(n,"1"):a<l&&l<70+a?(d.setOpacity(n,"0.5"),t=!1):70+a<l&&l<140+a&&d.hide(),t&&0<s&&s<o?d.setOpacity(n,"1"):o<s&&s<o+70?d.setOpacity(n,"0.5"):o+70<s&&s<o+140&&d.hide()})}}),browser.chrome&&fbb.on(e,"mouseout",function(e){var t=e.relatedTarget||e.toElement;null!=t&&"HTML"!=t.tagName||d.hide()}),d.editor.addListener("afterhidepop",function(){d.isHidden||(ibb=!0)})},initItems:function(){if(ebb.isArray(this.items))for(var e=0,t=this.items.length;e<t;e++){var n=this.items[e].toLowerCase();bbb[n]&&(this.items[e]=new bbb[n](this.editor),this.items[e].className+=" edui-shortcutsubmenu ")}},setOpacity:function(e,t){browser.ie&&browser.version<9?e.style.filter="alpha(opacity = "+100*parseFloat(t)+");":e.style.opacity=t},getSubMenuMark:function(){ibb=!1;for(var e,t=dbb.getFixedLayer(),n=fbb.getElementsByTagName(t,"div",function(e){return fbb.hasClass(e,"edui-shortcutsubmenu edui-popup")}),i=0;e=n[i++];)"none"!=e.style.display&&(ibb=!0);return ibb},show:function(e,t){var n=this,i={},r=this.getDom(),o=dbb.getFixedLayer();function a(e){e.left<0&&(e.left=0),e.top<0&&(e.top=0),r.style.cssText="position:absolute;left:"+e.left+"px;top:"+e.top+"px;"}function s(e){e.tagName||(e=e.getDom()),i.left=parseInt(e.style.left),i.top=parseInt(e.style.top),i.top-=r.offsetHeight+15,a(i)}if(n.eventType=e.type,r.style.cssText="display:block;left:-9999px","contextmenu"==e.type&&t){var l=fbb.getElementsByTagName(o,"div","edui-contextmenu")[0];l?s(l):n.editor.addListener("aftershowcontextmenu",function(e,t){s(t)})}else(i=dbb.getViewportOffsetByEvent(e)).top-=r.offsetHeight+n.SPACE,i.left+=n.SPACE+20,a(i),n.setOpacity(r,.2);n.isHidden=!1,n.left=e.screenX+r.offsetWidth/2-n.SPACE,n.top=e.screenY-r.offsetHeight/2-n.SPACE,n.editor&&(r.style.zIndex=1*n.editor.container.style.zIndex+10,o.style.zIndex=r.style.zIndex-1)},hide:function(){this.getDom()&&(this.getDom().style.display="none"),this.isHidden=!0},postRender:function(){if(ebb.isArray(this.items))for(var e,t=0;e=this.items[t++];)e.postRender()},getHtmlTpl:function(){var e;if(ebb.isArray(this.items)){e=[];for(var t=0;t<this.items.length;t++)e[t]=this.items[t].renderHtml();e=e.join("")}else e=this.items;return'<div id="##" class="%% edui-toolbar" data-src="shortcutmenu" onmousedown="return false;" onselectstart="return false;" >'+e+"</div>"}},ebb.inherits(jbb,cbb),fbb.on(document,"mousedown",function(e){kbb(e)}),fbb.on(window,"scroll",function(e){kbb(e)}),pcb=baidu.editor.utils,qcb=baidu.editor.ui.UIBase,rcb=baidu.editor.ui.Breakline=function(e){this.initOptions(e),this.initSeparator()},rcb.prototype={uiName:"Breakline",initSeparator:function(){this.initUIBase()},getHtmlTpl:function(){return"<br/>"}},pcb.inherits(rcb,qcb),vcb=baidu.editor.utils,wcb=baidu.editor.dom.domUtils,xcb=baidu.editor.ui.UIBase,ycb=baidu.editor.ui.Message=function(e){this.initOptions(e),this.initMessage()},ycb.prototype={initMessage:function(){this.initUIBase()},getHtmlTpl:function(){return'<div id="##" class="edui-message %%"> <div id="##_closer" class="edui-message-closer">×</div> <div id="##_body" class="edui-message-body edui-message-type-info"> <iframe style="position:absolute;z-index:-1;left:0;top:0;background-color: transparent;" frameborder="0" width="100%" height="100%" src="about:blank"></iframe> <div class="edui-shadow"></div> <div id="##_content" class="edui-message-content">  </div> </div></div>'},reset:function(e){var t=this;e.keepshow||(clearTimeout(this.timer),t.timer=setTimeout(function(){t.hide()},e.timeout||4e3)),void 0!==e.content&&t.setContent(e.content),void 0!==e.type&&t.setType(e.type),t.show()},postRender:function(){var e=this,t=this.getDom("closer");t&&wcb.on(t,"click",function(){e.hide()})},setContent:function(e){this.getDom("content").innerHTML=e},setType:function(e){e=e||"info";var t=this.getDom("body");t.className=t.className.replace(/edui-message-type-[\w-]+/,"edui-message-type-"+e)},getContent:function(){return this.getDom("content").innerHTML},getType:function(){var e=this.getDom("body").match(/edui-message-type-([\w-]+)/);return e?e[1]:""},show:function(){this.getDom().style.display="block"},hide:function(){var e=this.getDom();e&&(e.style.display="none",e.parentNode&&e.parentNode.removeChild(e))}},vcb.inherits(ycb,xcb),function(){var c=baidu.editor.utils,u=baidu.editor.ui,t=u.Dialog;u.buttons={},u.Dialog=function(e){var i=new t(e);return i.addListener("hide",function(){if(i.editor){var e=i.editor;try{if(browser.gecko){var t=e.window.scrollY,n=e.window.scrollX;e.body.focus(),e.window.scrollTo(n,t)}else e.focus()}catch(e){}}}),i};for(var s={anchor:"~/dialogs/anchor/anchor.html",insertimage:"~/dialogs/image/image.html",link:"~/dialogs/link/link.html",spechars:"~/dialogs/spechars/spechars.html",searchreplace:"~/dialogs/searchreplace/searchreplace.html",map:"~/dialogs/map/map.html",gmap:"~/dialogs/gmap/gmap.html",insertvideo:"~/dialogs/video/video.html",help:"~/dialogs/help/help.html",preview:"~/dialogs/preview/preview.html",emotion:"~/dialogs/emotion/emotion.html",wordimage:"~/dialogs/wordimage/wordimage.html",attachment:"~/dialogs/attachment/attachment.html",insertframe:"~/dialogs/insertframe/insertframe.html",edittip:"~/dialogs/table/edittip.html",edittable:"~/dialogs/table/edittable.html",edittd:"~/dialogs/table/edittd.html",webapp:"~/dialogs/webapp/webapp.html",snapscreen:"~/dialogs/snapscreen/snapscreen.html",scrawl:"~/dialogs/scrawl/scrawl.html",music:"~/dialogs/music/music.html",template:"~/dialogs/template/template.html",background:"~/dialogs/background/background.html",charts:"~/dialogs/charts/charts.html"},e=["undo","redo","formatmatch","bold","italic","underline","fontborder","touppercase","tolowercase","strikethrough","subscript","superscript","source","indent","outdent","blockquote","pasteplain","pagebreak","selectall","print","horizontal","removeformat","time","date","unlink","insertparagraphbeforetable","insertrow","insertcol","mergeright","mergedown","deleterow","deletecol","splittorows","splittocols","splittocells","mergecells","deletetable","drafts"],n=0;o=e[n++];)o=o.toLowerCase(),u[o]=function(a){return function(r){var o=new u.Button({className:"edui-for-"+a,title:r.options.labelMap[a]||r.getLang("labelMap."+a)||"",onclick:function(){r.execCommand(a)},theme:r.options.theme,showText:!1});return u.buttons[a]=o,r.addListener("selectionchange",function(e,t,n){var i=r.queryCommandState(a);-1==i?(o.setDisabled(!0),o.setChecked(!1)):n||(o.setDisabled(!1),o.setChecked(i))}),o}}(o);u.cleardoc=function(e){var t=new u.Button({className:"edui-for-cleardoc",title:e.options.labelMap.cleardoc||e.getLang("labelMap.cleardoc")||"",theme:e.options.theme,onclick:function(){confirm(e.getLang("confirmClear"))&&e.execCommand("cleardoc")}});return u.buttons.cleardoc=t,e.addListener("selectionchange",function(){t.setDisabled(-1==e.queryCommandState("cleardoc"))}),t};var i={justify:["left","right","center","justify"],imagefloat:["none","left","center","right"],directionality:["ltr","rtl"]};for(var r in i)!function(a,e){for(var t,n=0;t=e[n++];)!function(o){u[a.replace("float","")+o]=function(i){var r=new u.Button({className:"edui-for-"+a.replace("float","")+o,title:i.options.labelMap[a.replace("float","")+o]||i.getLang("labelMap."+a.replace("float","")+o)||"",theme:i.options.theme,onclick:function(){i.execCommand(a,o)}});return u.buttons[a]=r,i.addListener("selectionchange",function(e,t,n){r.setDisabled(-1==i.queryCommandState(a)),r.setChecked(i.queryCommandValue(a)==o&&!n)}),r}}(t)}(r,i[r]);var o;for(n=0;o=["backcolor","forecolor"][n++];)u[o]=function(i){return function(n){var e=new u.ColorButton({className:"edui-for-"+i,color:"default",title:n.options.labelMap[i]||n.getLang("labelMap."+i)||"",editor:n,onpickcolor:function(e,t){n.execCommand(i,t)},onpicknocolor:function(){n.execCommand(i,"default"),this.setColor("transparent"),this.color="default"},onbuttonclick:function(){n.execCommand(i,this.color)}});return u.buttons[i]=e,n.addListener("selectionchange",function(){e.setDisabled(-1==n.queryCommandState(i))}),e}}(o);var a={noOk:["searchreplace","help","spechars","webapp","preview"],ok:["attachment","anchor","link","insertimage","map","gmap","insertframe","wordimage","insertvideo","insertframe","edittip","edittable","edittd","scrawl","template","music","background","charts"]};for(var r in a)!function(a,e){for(var t,n=0;t=e[n++];)browser.opera&&"searchreplace"===t||function(o){u[o]=function(t,e,n){var i;console.log("编辑器配置路径2"),e=e||(t.options.iframeUrlMap||{})[o]||s[o],n=t.options.labelMap[o]||t.getLang("labelMap."+o)||"",e&&(i=new u.Dialog(c.extend({iframeUrl:"./"+t.ui.mapUrl(e),editor:t,className:"edui-for-"+o,title:n,holdScroll:"insertimage"===o,fullscreen:/charts|preview/.test(o),closeDialog:t.getLang("closeDialog")},"ok"==a?{buttons:[{className:"edui-okbutton",label:t.getLang("ok"),editor:t,onclick:function(){i.close(!0)}},{className:"edui-cancelbutton",label:t.getLang("cancel"),editor:t,onclick:function(){i.close(!1)}}]}:{})),t.ui._dialogs[o+"Dialog"]=i);var r=new u.Button({className:"edui-for-"+o,title:n,onclick:function(){if(i)switch(o){case"wordimage":var e=t.execCommand("wordimage");e&&e.length&&(i.render(),i.open());break;case"scrawl":-1!=t.queryCommandState("scrawl")&&(i.render(),i.open());break;default:i.render(),i.open()}},theme:t.options.theme,disabled:"scrawl"==o&&-1==t.queryCommandState("scrawl")||"charts"==o});return u.buttons[o]=r,t.addListener("selectionchange",function(){if(!(o in{edittable:1})){var e=t.queryCommandState(o);r.getDom()&&(r.setDisabled(-1==e),r.setChecked(e))}}),r}}(t.toLowerCase())}(r,a[r]);u.snapscreen=function(e,t,n){n=e.options.labelMap.snapscreen||e.getLang("labelMap.snapscreen")||"";var i=new u.Button({className:"edui-for-snapscreen",title:n,onclick:function(){e.execCommand("snapscreen")},theme:e.options.theme});if(u.buttons.snapscreen=i,console.log("编辑器配置路径3"),t=t||(e.options.iframeUrlMap||{}).snapscreen||s.snapscreen){var r=new u.Dialog({iframeUrl:"./"+e.ui.mapUrl(t),editor:e,className:"edui-for-snapscreen",title:n,buttons:[{className:"edui-okbutton",label:e.getLang("ok"),editor:e,onclick:function(){r.close(!0)}},{className:"edui-cancelbutton",label:e.getLang("cancel"),editor:e,onclick:function(){r.close(!1)}}]});r.render(),e.ui._dialogs.snapscreenDialog=r}return e.addListener("selectionchange",function(){i.setDisabled(-1==e.queryCommandState("snapscreen"))}),i},u.insertcode=function(r,e,o){e=r.options.insertcode||[],o=r.options.labelMap.insertcode||r.getLang("labelMap.insertcode")||"";var n=[];c.each(e,function(e,t){n.push({label:e,value:t,theme:r.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" >'+(this.label||"")+"</div>"}})});var a=new u.Combox({editor:r,items:n,onselect:function(e,t){r.execCommand("insertcode",this.items[t].value)},onbuttonclick:function(){this.showPopup()},title:o,initValue:o,className:"edui-for-insertcode",indexByValue:function(e){if(e)for(var t,n=0;t=this.items[n];n++)if(-1!=t.value.indexOf(e))return n;return-1}});return u.buttons.insertcode=a,r.addListener("selectionchange",function(e,t,n){if(!n)if(-1==r.queryCommandState("insertcode"))a.setDisabled(!0);else{a.setDisabled(!1);var i=r.queryCommandValue("insertcode");if(!i)return void a.setValue(o);i=i&&i.replace(/['"]/g,"").split(",")[0],a.setValue(i)}}),a},u.fontfamily=function(r,e,t){if(e=r.options.fontfamily||[],t=r.options.labelMap.fontfamily||r.getLang("labelMap.fontfamily")||"",e.length){for(var n,i=0,o=[];n=e[i];i++){var a=r.getLang("fontfamily")[n.name]||"";s=n.label||a,l=n.val,o.push({label:s,value:l,theme:r.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" style="font-family:'+c.unhtml(this.value)+'">'+(this.label||"")+"</div>"}})}var s,l,d=new u.Combox({editor:r,items:o,onselect:function(e,t){r.execCommand("FontFamily",this.items[t].value)},onbuttonclick:function(){this.showPopup()},title:t,initValue:t,className:"edui-for-fontfamily",indexByValue:function(e){if(e)for(var t,n=0;t=this.items[n];n++)if(-1!=t.value.indexOf(e))return n;return-1}});return u.buttons.fontfamily=d,r.addListener("selectionchange",function(e,t,n){if(!n)if(-1==r.queryCommandState("FontFamily"))d.setDisabled(!0);else{d.setDisabled(!1);var i=r.queryCommandValue("FontFamily");i=i&&i.replace(/['"]/g,"").split(",")[0],d.setValue(i)}}),d}},u.fontsize=function(i,e,t){if(t=i.options.labelMap.fontsize||i.getLang("labelMap.fontsize")||"",(e=e||i.options.fontsize||[]).length){for(var n=[],r=0;r<e.length;r++){var o=e[r]+"px";n.push({label:o,value:o,theme:i.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" style="line-height:1;font-size:'+this.value+'">'+(this.label||"")+"</div>"}})}var a=new u.Combox({editor:i,items:n,title:t,initValue:t,onselect:function(e,t){i.execCommand("FontSize",this.items[t].value)},onbuttonclick:function(){this.showPopup()},className:"edui-for-fontsize"});return u.buttons.fontsize=a,i.addListener("selectionchange",function(e,t,n){n||(-1==i.queryCommandState("FontSize")?a.setDisabled(!0):(a.setDisabled(!1),a.setValue(i.queryCommandValue("FontSize"))))}),a}},u.paragraph=function(r,e,t){if(t=r.options.labelMap.paragraph||r.getLang("labelMap.paragraph")||"",e=r.options.paragraph||[],!c.isEmptyObject(e)){var n=[];for(var i in e)n.push({value:i,label:e[i]||r.getLang("paragraph")[i],theme:r.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label"><span class="edui-for-'+this.value+'">'+(this.label||"")+"</span></div>"}});var o=new u.Combox({editor:r,items:n,title:t,initValue:t,className:"edui-for-paragraph",onselect:function(e,t){r.execCommand("Paragraph",this.items[t].value)},onbuttonclick:function(){this.showPopup()}});return u.buttons.paragraph=o,r.addListener("selectionchange",function(e,t,n){if(!n)if(-1==r.queryCommandState("Paragraph"))o.setDisabled(!0);else{o.setDisabled(!1);var i=r.queryCommandValue("Paragraph");-1!=o.indexByValue(i)?o.setValue(i):o.setValue(o.initValue)}}),o}},u.customstyle=function(r){var e=r.options.customstyle||[],t=r.options.labelMap.customstyle||r.getLang("labelMap.customstyle")||"";if(e.length){for(var n,i=r.getLang("customstyle"),o=0,a=[];n=e[o++];)!function(e){var t={};t.label=e.label?e.label:i[e.name],t.style=e.style,t.className=e.className,t.tag=e.tag,a.push({label:t.label,value:t,theme:r.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label"><'+t.tag+" "+(t.className?' class="'+t.className+'"':"")+(t.style?' style="'+t.style+'"':"")+">"+t.label+"</"+t.tag+"></div>"}})}(n);var s=new u.Combox({editor:r,items:a,title:t,initValue:t,className:"edui-for-customstyle",onselect:function(e,t){r.execCommand("customstyle",this.items[t].value)},onbuttonclick:function(){this.showPopup()},indexByValue:function(e){for(var t,n=0;t=this.items[n++];)if(t.label==e)return n-1;return-1}});return u.buttons.customstyle=s,r.addListener("selectionchange",function(e,t,n){if(!n)if(-1==r.queryCommandState("customstyle"))s.setDisabled(!0);else{s.setDisabled(!1);var i=r.queryCommandValue("customstyle");-1!=s.indexByValue(i)?s.setValue(i):s.setValue(s.initValue)}}),s}},u.inserttable=function(i,e,t){t=i.options.labelMap.inserttable||i.getLang("labelMap.inserttable")||"";var n=new u.TableButton({editor:i,title:t,className:"edui-for-inserttable",onpicktable:function(e,t,n){i.execCommand("InsertTable",{numRows:n,numCols:t,border:1})},onbuttonclick:function(){this.showPopup()}});return u.buttons.inserttable=n,i.addListener("selectionchange",function(){n.setDisabled(-1==i.queryCommandState("inserttable"))}),n},u.lineheight=function(n){var e=n.options.lineheight||[];if(e.length){for(var t,i=0,r=[];t=e[i++];)r.push({label:t,value:t,theme:n.options.theme,onclick:function(){n.execCommand("lineheight",this.value)}});var o=new u.MenuButton({editor:n,className:"edui-for-lineheight",title:n.options.labelMap.lineheight||n.getLang("labelMap.lineheight")||"",items:r,onbuttonclick:function(){var e=n.queryCommandValue("LineHeight")||this.value;n.execCommand("LineHeight",e)}});return u.buttons.lineheight=o,n.addListener("selectionchange",function(){var e=n.queryCommandState("LineHeight");if(-1==e)o.setDisabled(!0);else{o.setDisabled(!1);var t=n.queryCommandValue("LineHeight");t&&o.setValue((t+"").replace(/cm/,"")),o.setChecked(e)}}),o}};for(var l,d=["top","bottom"],f=0;l=d[f++];)!function(a){u["rowspacing"+a]=function(n){var e=n.options["rowspacing"+a]||[];if(!e.length)return null;for(var t,i=0,r=[];t=e[i++];)r.push({label:t,value:t,theme:n.options.theme,onclick:function(){n.execCommand("rowspacing",this.value,a)}});var o=new u.MenuButton({editor:n,className:"edui-for-rowspacing"+a,title:n.options.labelMap["rowspacing"+a]||n.getLang("labelMap.rowspacing"+a)||"",items:r,onbuttonclick:function(){var e=n.queryCommandValue("rowspacing",a)||this.value;n.execCommand("rowspacing",e,a)}});return u.buttons[a]=o,n.addListener("selectionchange",function(){var e=n.queryCommandState("rowspacing",a);if(-1==e)o.setDisabled(!0);else{o.setDisabled(!1);var t=n.queryCommandValue("rowspacing",a);t&&o.setValue((t+"").replace(/%/,"")),o.setChecked(e)}}),o}}(l);for(var m,h=["insertorderedlist","insertunorderedlist"],p=0;m=h[p++];)!function(a){u[a]=function(n){function e(){n.execCommand(a,this.value)}var t=n.options[a],i=[];for(var r in t)i.push({label:t[r]||n.getLang()[a][r]||"",value:r,theme:n.options.theme,onclick:e});var o=new u.MenuButton({editor:n,className:"edui-for-"+a,title:n.getLang("labelMap."+a)||"",items:i,onbuttonclick:function(){var e=n.queryCommandValue(a)||this.value;n.execCommand(a,e)}});return u.buttons[a]=o,n.addListener("selectionchange",function(){var e=n.queryCommandState(a);if(-1==e)o.setDisabled(!0);else{o.setDisabled(!1);var t=n.queryCommandValue(a);o.setValue(t),o.setChecked(e)}}),o}}(m);u.fullscreen=function(t,e){e=t.options.labelMap.fullscreen||t.getLang("labelMap.fullscreen")||"";var n=new u.Button({className:"edui-for-fullscreen",title:e,theme:t.options.theme,onclick:function(){t.ui&&t.ui.setFullScreen(!t.ui.isFullScreen()),this.setChecked(t.ui.isFullScreen())}});return u.buttons.fullscreen=n,t.addListener("selectionchange",function(){var e=t.queryCommandState("fullscreen");n.setDisabled(-1==e),n.setChecked(t.ui.isFullScreen())}),n},u.emotion=function(e,t){var n="emotion";console.log("编辑器配置路径4");var i=new u.MultiMenuPop({title:e.options.labelMap[n]||e.getLang("labelMap."+n)||"",editor:e,className:"edui-for-"+n,iframeUrl:"./"+e.ui.mapUrl(t||(e.options.iframeUrlMap||{})[n]||s[n])});return u.buttons[n]=i,e.addListener("selectionchange",function(){i.setDisabled(-1==e.queryCommandState(n))}),i},u.autotypeset=function(e){var t=new u.AutoTypeSetButton({editor:e,title:e.options.labelMap.autotypeset||e.getLang("labelMap.autotypeset")||"",className:"edui-for-autotypeset",onbuttonclick:function(){e.execCommand("autotypeset")}});return u.buttons.autotypeset=t,e.addListener("selectionchange",function(){t.setDisabled(-1==e.queryCommandState("autotypeset"))}),t},u.simpleupload=function(r){var o="simpleupload",a=new u.Button({className:"edui-for-"+o,title:r.options.labelMap[o]||r.getLang("labelMap."+o)||"",onclick:function(){},theme:r.options.theme,showText:!1});return u.buttons[o]=a,r.addListener("ready",function(){var e=a.getDom("body").children[0];r.fireEvent("simpleuploadbtnready",e)}),r.addListener("selectionchange",function(e,t,n){var i=r.queryCommandState(o);-1==i?(a.setDisabled(!0),a.setChecked(!1)):n||(a.setDisabled(!1),a.setChecked(i))}),a}}(),function(){var u=baidu.editor.utils,t=baidu.editor.ui.uiUtils,o=baidu.editor.ui.UIBase,w=baidu.editor.dom.domUtils,a=[];function f(e){this.initOptions(e),this.initEditorUI()}f.prototype={uiName:"editor",initEditorUI:function(){(this.editor.ui=this)._dialogs={},this.initUIBase(),this._initToolbars();var c=this.editor,t=this;c.addListener("ready",function(){if(c.getDialog=function(e){return c.ui._dialogs[e+"Dialog"]},w.on(c.window,"scroll",function(e){baidu.editor.ui.Popup.postHide(e)}),c.ui._actualFrameWidth=c.options.initialFrameWidth,UE.browser.ie&&6===UE.browser.version&&c.container.ownerDocument.execCommand("BackgroundImageCache",!1,!0),c.options.elementPathEnabled&&(c.ui.getDom("elementpath").innerHTML='<div class="edui-editor-breadcrumb">'+c.getLang("elementPathTip")+":</div>"),c.options.wordCount){w.on(c.document,"click",function(){r(c,t),w.un(c.document,"click",arguments.callee)}),c.ui.getDom("wordcount").innerHTML=c.getLang("wordCountTip")}c.ui._scale(),c.options.scaleEnabled?(c.autoHeightEnabled&&c.disableAutoHeight(),t.enableScale()):t.disableScale(),c.options.elementPathEnabled||c.options.wordCount||c.options.scaleEnabled||(c.ui.getDom("elementpath").style.display="none",c.ui.getDom("wordcount").style.display="none",c.ui.getDom("scale").style.display="none"),c.selection.isFocus()&&c.fireEvent("selectionchange",!1,!0)}),c.addListener("mousedown",function(e,t){var n=t.target||t.srcElement;baidu.editor.ui.Popup.postHide(t,n),baidu.editor.ui.ShortCutMenu.postHide(t)}),c.addListener("delcells",function(){UE.ui.edittip&&new UE.ui.edittip(c),c.getDialog("edittip").open()});var i,e,n=!1;function r(e,t){e.setOpt({wordCount:!0,maximumWords:2e4,wordCountMsg:e.options.wordCountMsg||e.getLang("wordCountMsg"),wordOverFlowMsg:e.options.wordOverFlowMsg||e.getLang("wordOverFlowMsg")});var n=e.options,i=n.maximumWords,r=n.wordCountMsg,o=n.wordOverFlowMsg,a=t.getDom("wordcount");if(n.wordCount){var s=e.getContentLength(!0);i<s?(a.innerHTML=o,e.fireEvent("wordcountoverflow")):a.innerHTML=r.replace("{#leave}",i-s).replace("{#count}",s)}}c.addListener("afterpaste",function(){c.queryCommandState("pasteplain")||(baidu.editor.ui.PastePicker&&(i=new baidu.editor.ui.Popup({content:new baidu.editor.ui.PastePicker({editor:c}),editor:c,className:"edui-wordpastepop"})).render(),n=!0)}),c.addListener("afterinserthtml",function(){clearTimeout(e),e=setTimeout(function(){if(i&&(n||c.ui._isTransfer)){if(i.isHidden()){var e=w.createElement(c.document,"span",{style:"line-height:0px;",innerHTML:"\ufeff"});c.selection.getRange().insertNode(e);var t=getDomNode(e,"firstChild","previousSibling");t&&i.showAnchor(3==t.nodeType?t.parentNode:t),w.remove(e)}else i.show();delete c.ui._isTransfer,n=!1}},200)}),c.addListener("contextmenu",function(e,t){baidu.editor.ui.Popup.postHide(t)}),c.addListener("keydown",function(e,t){i&&i.dispose(t);var n=t.keyCode||t.which;t.altKey&&90==n&&UE.ui.buttons.fullscreen.onclick()}),c.addListener("wordcount",function(e){r(this,t)}),c.addListener("selectionchange",function(){c.options.elementPathEnabled&&t[(-1==c.queryCommandState("elementpath")?"dis":"en")+"ableElementPath"](),c.options.scaleEnabled&&t[(-1==c.queryCommandState("scale")?"dis":"en")+"ableScale"]()});var u=new baidu.editor.ui.Popup({editor:c,content:"",className:"edui-bubble",_onEditButtonClick:function(){this.hide(),c.ui._dialogs.linkDialog.open()},_onImgEditButtonClick:function(e){this.hide(),c.ui._dialogs[e]&&c.ui._dialogs[e].open()},_onImgSetFloat:function(e){this.hide(),c.execCommand("imagefloat",e)},_setIframeAlign:function(e){var t=u.anchorEl,n=t.cloneNode(!0);switch(e){case-2:n.setAttribute("align","");break;case-1:n.setAttribute("align","left");break;case 1:n.setAttribute("align","right")}t.parentNode.insertBefore(n,t),w.remove(t),u.anchorEl=n,u.showAnchor(u.anchorEl)},_updateIframe:function(){var e=c._iframe=u.anchorEl;w.hasClass(e,"ueditor_baidumap")?(c.selection.getRange().selectNode(e).select(),c.ui._dialogs.mapDialog.open()):c.ui._dialogs.insertframeDialog.open(),u.hide()},_onRemoveButtonClick:function(e){c.execCommand(e),this.hide()},queryAutoHide:function(e){return e&&e.ownerDocument==c.document&&("img"==e.tagName.toLowerCase()||w.findParentByTagName(e,"a",!0))?e!==u.anchorEl:baidu.editor.ui.Popup.prototype.queryAutoHide.call(this,e)}});u.render(),c.options.imagePopup&&(c.addListener("mouseover",function(e,t){var n=(t=t||window.event).target||t.srcElement;if(c.ui._dialogs.insertframeDialog&&/iframe/gi.test(n.tagName)){var i=u.formatHtml("<nobr>"+c.getLang("property")+': <span onclick=$$._setIframeAlign(-2) class="edui-clickable">'+c.getLang("default")+'</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(-1) class="edui-clickable">'+c.getLang("justifyleft")+'</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(1) class="edui-clickable">'+c.getLang("justifyright")+'</span>&nbsp;&nbsp; <span onclick="$$._updateIframe( this);" class="edui-clickable">'+c.getLang("modify")+"</span></nobr>");i?(u.getDom("content").innerHTML=i,u.anchorEl=n,u.showAnchor(u.anchorEl)):u.hide()}}),c.addListener("selectionchange",function(e,t){if(t){var n="",i="",r=c.selection.getRange().getClosedNode(),o=c.ui._dialogs;if(r&&"IMG"==r.tagName){var a="insertimageDialog";if(-1==r.className.indexOf("edui-faked-video")&&-1==r.className.indexOf("edui-upload-video")||(a="insertvideoDialog"),-1!=r.className.indexOf("edui-faked-webapp")&&(a="webappDialog"),-1!=r.src.indexOf("http://api.map.baidu.com")&&(a="mapDialog"),-1!=r.className.indexOf("edui-faked-music")&&(a="musicDialog"),-1!=r.src.indexOf("http://maps.google.com/maps/api/staticmap")&&(a="gmapDialog"),r.getAttribute("anchorname")&&(a="anchorDialog",n=u.formatHtml("<nobr>"+c.getLang("property")+': <span onclick=$$._onImgEditButtonClick("anchorDialog") class="edui-clickable">'+c.getLang("modify")+"</span>&nbsp;&nbsp;<span onclick=$$._onRemoveButtonClick('anchor') class=\"edui-clickable\">"+c.getLang("delete")+"</span></nobr>")),r.getAttribute("word_img")&&(c.word_img=[r.getAttribute("word_img")],a="wordimageDialog"),(w.hasClass(r,"loadingclass")||w.hasClass(r,"loaderrorclass"))&&(a=""),!o[a])return;i="<nobr>"+c.getLang("property")+': <span onclick=$$._onImgSetFloat("none") class="edui-clickable">'+c.getLang("default")+'</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("left") class="edui-clickable">'+c.getLang("justifyleft")+'</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("right") class="edui-clickable">'+c.getLang("justifyright")+'</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("center") class="edui-clickable">'+c.getLang("justifycenter")+"</span>&nbsp;&nbsp;<span onclick=\"$$._onImgEditButtonClick('"+a+'\');" class="edui-clickable">'+c.getLang("modify")+"</span></nobr>",n=n||u.formatHtml(i)}if(c.ui._dialogs.linkDialog){var s,l=c.queryCommandValue("link");if(l&&(s=l.getAttribute("_href")||l.getAttribute("href",2))){var d=s;30<s.length&&(d=s.substring(0,20)+"..."),n&&(n+='<div style="height:5px;"></div>'),n+=u.formatHtml("<nobr>"+c.getLang("anthorMsg")+': <a target="_blank" href="'+s+'" title="'+s+'" >'+d+'</a> <span class="edui-clickable" onclick="$$._onEditButtonClick();">'+c.getLang("modify")+'</span> <span class="edui-clickable" onclick="$$._onRemoveButtonClick(\'unlink\');"> '+c.getLang("clear")+"</span></nobr>"),u.showAnchor(l)}}n?(u.getDom("content").innerHTML=n,u.anchorEl=r||l,u.showAnchor(u.anchorEl)):u.hide()}}))},_initToolbars:function(){for(var r=this.editor,e=this.toolbars||[],t=[],n=0;n<e.length;n++){for(var i=e[n],o=new baidu.editor.ui.Toolbar({theme:r.options.theme}),a=0;a<i.length;a++){var s=i[a],l=null;if("string"==typeof s){if("|"==(s=s.toLowerCase())&&(s="Separator"),"||"==s&&(s="Breakline"),baidu.editor.ui[s]&&(l=new baidu.editor.ui[s](r)),"fullscreen"==s){t&&t[0]?t[0].items.splice(0,0,l):l&&o.items.splice(0,0,l);continue}}else l=s;l&&l.id&&o.add(l)}t[n]=o}u.each(UE._customizeUI,function(e,t){var n,i;if(e.id&&e.id!=r.key)return!1;(n=e.execFn.call(r,r,t))&&(void 0===(i=e.index)&&(i=o.items.length),o.add(n,i))}),this.toolbars=t},getHtmlTpl:function(){return'<div id="##" class="%%"><div id="##_toolbarbox" class="%%-toolbarbox">'+(this.toolbars.length?'<div id="##_toolbarboxouter" class="%%-toolbarboxouter"><div class="%%-toolbarboxinner">'+this.renderToolbarBoxHtml()+"</div></div>":"")+'<div id="##_toolbarmsg" class="%%-toolbarmsg" style="display:none;"><div id = "##_upload_dialog" class="%%-toolbarmsg-upload" onclick="$$.showWordImageDialog();">'+this.editor.getLang("clickToUpload")+'</div><div class="%%-toolbarmsg-close" onclick="$$.hideToolbarMsg();">x</div><div id="##_toolbarmsg_label" class="%%-toolbarmsg-label"></div><div style="height:0;overflow:hidden;clear:both;"></div></div><div id="##_message_holder" class="%%-messageholder"></div></div><div id="##_iframeholder" class="%%-iframeholder"></div><div id="##_bottombar" class="%%-bottomContainer"><table><tr><td id="##_elementpath" class="%%-bottombar"></td><td id="##_wordcount" class="%%-wordcount"></td><td id="##_scale" class="%%-scale"><div class="%%-icon"></div></td></tr></table></div><div id="##_scalelayer"></div></div>'},showWordImageDialog:function(){this._dialogs.wordimageDialog.open()},renderToolbarBoxHtml:function(){for(var e=[],t=0;t<this.toolbars.length;t++)e.push(this.toolbars[t].renderHtml());return e.join("")},setFullScreen:function(e){var t=this.editor,n=t.container.parentNode.parentNode;if(this._fullscreen!=e){if(this._fullscreen=e,this.editor.fireEvent("beforefullscreenchange",e),baidu.editor.browser.gecko)var i=t.selection.getRange().createBookmark();if(e){for(;"BODY"!=n.tagName;){var r=baidu.editor.dom.domUtils.getComputedStyle(n,"position");a.push(r),n.style.position="static",n=n.parentNode}this._bakHtmlOverflow=document.documentElement.style.overflow,this._bakBodyOverflow=document.body.style.overflow,this._bakAutoHeight=this.editor.autoHeightEnabled,this._bakScrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this._bakEditorContaninerWidth=t.iframe.parentNode.offsetWidth,this._bakAutoHeight&&(t.autoHeightEnabled=!1,this.editor.disableAutoHeight()),document.documentElement.style.overflow="hidden",window.scrollTo(0,window.scrollY),this._bakCssText=this.getDom().style.cssText,this._bakCssText1=this.getDom("iframeholder").style.cssText,t.iframe.parentNode.style.width="",this._updateFullScreen()}else{for(;"BODY"!=n.tagName;)n.style.position=a.shift(),n=n.parentNode;this.getDom().style.cssText=this._bakCssText,this.getDom("iframeholder").style.cssText=this._bakCssText1,this._bakAutoHeight&&(t.autoHeightEnabled=!0,this.editor.enableAutoHeight()),document.documentElement.style.overflow=this._bakHtmlOverflow,document.body.style.overflow=this._bakBodyOverflow,t.iframe.parentNode.style.width=this._bakEditorContaninerWidth+"px",window.scrollTo(0,this._bakScrollTop)}if(browser.gecko&&"true"===t.body.contentEditable){var o=document.createElement("input");document.body.appendChild(o),t.body.contentEditable=!1,setTimeout(function(){o.focus(),setTimeout(function(){t.body.contentEditable=!0,t.fireEvent("fullscreenchanged",e),t.selection.getRange().moveToBookmark(i).select(!0),baidu.editor.dom.domUtils.remove(o),e&&window.scroll(0,0)},0)},0)}"true"===t.body.contentEditable&&(this.editor.fireEvent("fullscreenchanged",e),this.triggerLayout())}},_updateFullScreen:function(){if(this._fullscreen){var e=t.getViewportRect();if(this.getDom().style.cssText="border:0;position:absolute;left:0;top:"+(this.editor.options.topOffset||0)+"px;width:"+e.width+"px;height:"+e.height+"px;z-index:"+(1*this.getDom().style.zIndex+100),t.setViewportOffset(this.getDom(),{left:0,top:this.editor.options.topOffset||0}),this.editor.setHeight(e.height-this.getDom("toolbarbox").offsetHeight-this.getDom("bottombar").offsetHeight-(this.editor.options.topOffset||0),!0),browser.gecko)try{window.onresize()}catch(e){}}},_updateElementPath:function(){var e,t=this.getDom("elementpath");if(this.elementPathEnabled&&(e=this.editor.queryCommandValue("elementpath"))){for(var n,i=[],r=0;n=e[r];r++)i[r]=this.formatHtml('<span unselectable="on" onclick="$$.editor.execCommand(&quot;elementpath&quot;, &quot;'+r+'&quot;);">'+n+"</span>");t.innerHTML='<div class="edui-editor-breadcrumb" onmousedown="return false;">'+this.editor.getLang("elementPathTip")+": "+i.join(" &gt; ")+"</div>"}else t.style.display="none"},disableElementPath:function(){var e=this.getDom("elementpath");e.innerHTML="",e.style.display="none",this.elementPathEnabled=!1},enableElementPath:function(){this.getDom("elementpath").style.display="",this.elementPathEnabled=!0,this._updateElementPath()},_scale:function(){var n=document,e=this.editor,t=e.container,i=e.document,r=this.getDom("toolbarbox"),o=this.getDom("bottombar"),a=this.getDom("scale"),s=this.getDom("scalelayer"),l=!1,d=null,c=0,u=e.options.minFrameWidth,f=0,m=0,h=0,p=0;function g(){d=w.getXY(t),c=c||e.options.minFrameHeight+r.offsetHeight+o.offsetHeight,s.style.cssText="position:absolute;left:0;display:;top:0;background-color:#41ABFF;opacity:0.4;filter: Alpha(opacity=40);width:"+t.offsetWidth+"px;height:"+t.offsetHeight+"px;z-index:"+(e.options.zIndex+1),w.on(n,"mousemove",b),w.on(i,"mouseup",y),w.on(n,"mouseup",y)}var v=this;function b(e){x();var t=e||window.event;f=t.pageX||n.documentElement.scrollLeft+t.clientX,m=t.pageY||n.documentElement.scrollTop+t.clientY,h=f-d.x,p=m-d.y,u<=h&&(l=!0,s.style.width=h+"px"),c<=p&&(l=!0,s.style.height=p+"px")}function y(){l&&(l=!1,e.ui._actualFrameWidth=s.offsetWidth-2,t.style.width=e.ui._actualFrameWidth+"px",e.setHeight(s.offsetHeight-o.offsetHeight-r.offsetHeight-2,!0)),s&&(s.style.display="none"),x(),w.un(n,"mousemove",b),w.un(i,"mouseup",y),w.un(n,"mouseup",y)}function x(){browser.ie?n.selection.clear():window.getSelection().removeAllRanges()}this.editor.addListener("fullscreenchanged",function(e,t){if(t)v.disableScale();else if(v.editor.options.scaleEnabled){v.enableScale();var n=v.editor.document.createElement("span");v.editor.body.appendChild(n),v.editor.body.style.height=Math.max(w.getXY(n).y,v.editor.iframe.offsetHeight-20)+"px",w.remove(n)}}),this.enableScale=function(){1!=e.queryCommandState("source")&&(a.style.display="",this.scaleEnabled=!0,w.on(a,"mousedown",g))},this.disableScale=function(){a.style.display="none",this.scaleEnabled=!1,w.un(a,"mousedown",g)}},isFullScreen:function(){return this._fullscreen},postRender:function(){o.prototype.postRender.call(this);for(var e=0;e<this.toolbars.length;e++)this.toolbars[e].postRender();function t(){clearTimeout(n),n=setTimeout(function(){i._updateFullScreen()})}var n,i=this,r=baidu.editor.dom.domUtils;r.on(window,"resize",t),i.addListener("destroy",function(){r.un(window,"resize",t),clearTimeout(n)})},showToolbarMsg:function(e,t){this.getDom("toolbarmsg_label").innerHTML=e,this.getDom("toolbarmsg").style.display="",t||(this.getDom("upload_dialog").style.display="none")},hideToolbarMsg:function(){this.getDom("toolbarmsg").style.display="none"},mapUrl:function(e){return e?e.replace("~/",this.editor.options.UEDITOR_HOME_URL||""):""},triggerLayout:function(){var e=this.getDom();"1"==e.style.zoom?e.style.zoom="100%":e.style.zoom="1"}},u.inherits(f,baidu.editor.ui.UIBase);var i={};UE.ui.Editor=function(e){var d=new UE.Editor(e);d.options.editor=d,console.log("编辑器配置路径5"),u.loadFile(document,{href:"./"+d.options.themePath+d.options.theme+"/css/ueditor.css",tag:"link",type:"text/css",rel:"stylesheet"});var c=d.render;return d.render=function(l){l.constructor===String&&(d.key=l,i[l]=d),u.domReady(function(){function e(){if(d.setOpt({labelMap:d.options.labelMap||d.getLang("labelMap")}),new f(d.options),l&&(l.constructor===String&&(l=document.getElementById(l)),l&&l.getAttribute("name")&&(d.options.textarea=l.getAttribute("name")),l&&/script|textarea/gi.test(l.tagName))){var e=document.createElement("div");l.parentNode.insertBefore(e,l);var t=l.value||l.innerHTML;d.options.initialContent=/^[\t\r\n ]*$/.test(t)?d.options.initialContent:t.replace(/>[\n\r\t]+([ ]{4})+/g,">").replace(/[\n\r\t]+([ ]{4})+</g,"<").replace(/>[\n\r\t]+</g,"><"),l.className&&(e.className=l.className),l.style.cssText&&(e.style.cssText=l.style.cssText),/textarea/i.test(l.tagName)?(d.textarea=l,d.textarea.style.display="none"):l.parentNode.removeChild(l),l.id&&(e.id=l.id,w.removeAttributes(l,"id")),(l=e).innerHTML=""}w.addClass(l,"edui-"+d.options.theme),d.ui.render(l);var n=d.options;d.container=d.ui.getDom();for(var i=w.findParents(l,!0),r=[],o=0;s=i[o];o++)r[o]=s.style.display,s.style.display="block";if(n.initialFrameWidth)n.minFrameWidth=n.initialFrameWidth;else{n.minFrameWidth=n.initialFrameWidth=l&&l.offsetWidth;var a=l&&l.style.width;/%$/.test(a)&&(n.initialFrameWidth=a)}n.initialFrameHeight?n.minFrameHeight=n.initialFrameHeight:n.initialFrameHeight=n.minFrameHeight=l&&l.offsetHeight;var s;for(o=0;s=i[o];o++)s.style.display=r[o];l&&l.style.height&&(l.style.height=""),d.container.style.width=n.initialFrameWidth+(/%$/.test(n.initialFrameWidth)?"":"px"),d.container.style.zIndex=n.zIndex,c.call(d,d.ui.getDom("iframeholder")),d.fireEvent("afteruiready")}d.langIsReady?e():d.addListener("langReady",e)})},d},UE.getEditor=function(e,t){var n=i[e];return n||(n=i[e]=new UE.ui.Editor(t)).render(e),n},UE.delEditor=function(e){var t;(t=i[e])&&(t.key&&t.destroy(),delete i[e])},UE.registerUI=function(e,t,n,i){u.each(e.split(/\s+/),function(e){UE._customizeUI[e]={id:i,execFn:t,index:n}})}}(),UE.registerUI("message",function(e){var r,o=baidu.editor.ui.Message,a=[],s=e;function l(){var e=s.ui.getDom("toolbarbox");e&&(r.style.top=e.offsetHeight+3+"px"),r.style.zIndex=Math.max(s.options.zIndex,s.iframe.style.zIndex)+1}s.addListener("ready",function(){r=document.getElementById(s.ui.id+"_message_holder"),l(),setTimeout(function(){l()},500)}),s.addListener("showmessage",function(e,t){t=utils.isString(t)?{content:t}:t;var n=new o({timeout:t.timeout,type:t.type,content:t.content,keepshow:t.keepshow,editor:s}),i=t.id||"msg_"+(+new Date).toString(36);return n.render(r),(a[i]=n).reset(t),l(),i}),s.addListener("updatemessage",function(e,t,n){n=utils.isString(n)?{content:n}:n;var i=a[t];i.render(r),i&&i.reset(n)}),s.addListener("hidemessage",function(e,t){var n=a[t];n&&n.hide()})}),UE.registerUI("autosave",function(e){var t=null,n=null;e.on("afterautosave",function(){clearTimeout(t),t=setTimeout(function(){n&&e.trigger("hidemessage",n),n=e.trigger("showmessage",{content:e.getLang("autosave.success"),timeout:2e3})},2e3)})})}()},function(e,t){UE.I18N["zh-cn"]={labelMap:{anchor:"锚点",undo:"撤销",redo:"重做",bold:"加粗",indent:"首行缩进",snapscreen:"截图",italic:"斜体",underline:"下划线",strikethrough:"删除线",subscript:"下标",fontborder:"字符边框",superscript:"上标",formatmatch:"格式刷",source:"源代码",blockquote:"引用",pasteplain:"纯文本粘贴模式",selectall:"全选",print:"打印",preview:"预览",horizontal:"分隔线",removeformat:"清除格式",time:"时间",date:"日期",unlink:"取消链接",insertrow:"前插入行",insertcol:"前插入列",mergeright:"右合并单元格",mergedown:"下合并单元格",deleterow:"删除行",deletecol:"删除列",splittorows:"拆分成行",splittocols:"拆分成列",splittocells:"完全拆分单元格",deletecaption:"删除表格标题",inserttitle:"插入标题",mergecells:"合并多个单元格",deletetable:"删除表格",cleardoc:"清空文档",insertparagraphbeforetable:"表格前插入行",insertcode:"代码语言",fontfamily:"字体",fontsize:"字号",paragraph:"段落格式",simpleupload:"单图上传",insertimage:"多图上传",edittable:"表格属性",edittd:"单元格属性",link:"超链接",emotion:"表情",spechars:"特殊字符",searchreplace:"查询替换",map:"Baidu地图",gmap:"Google地图",insertvideo:"视频",help:"帮助",justifyleft:"居左对齐",justifyright:"居右对齐",justifycenter:"居中对齐",justifyjustify:"两端对齐",forecolor:"字体颜色",backcolor:"背景色",insertorderedlist:"有序列表",insertunorderedlist:"无序列表",fullscreen:"全屏",directionalityltr:"从左向右输入",directionalityrtl:"从右向左输入",rowspacingtop:"段前距",rowspacingbottom:"段后距",pagebreak:"分页",insertframe:"插入Iframe",imagenone:"默认",imageleft:"左浮动",imageright:"右浮动",attachment:"附件",imagecenter:"居中",wordimage:"图片转存",lineheight:"行间距",edittip:"编辑提示",customstyle:"自定义标题",autotypeset:"自动排版",webapp:"百度应用",touppercase:"字母大写",tolowercase:"字母小写",background:"背景",template:"模板",scrawl:"涂鸦",music:"音乐",inserttable:"插入表格",drafts:"从草稿箱加载",charts:"图表"},insertorderedlist:{num:"1,2,3...",num1:"1),2),3)...",num2:"(1),(2),(3)...",cn:"一,二,三....",cn1:"一),二),三)....",cn2:"(一),(二),(三)....",decimal:"1,2,3...","lower-alpha":"a,b,c...","lower-roman":"i,ii,iii...","upper-alpha":"A,B,C...","upper-roman":"I,II,III..."},insertunorderedlist:{circle:"○ 大圆圈",disc:"● 小黑点",square:"■ 小方块 ",dash:"— 破折号",dot:" 。 小圆圈"},paragraph:{p:"段落",h2:"大标题",h5:"小标题"},fontfamily:{songti:"宋体",kaiti:"楷体",heiti:"黑体",lishu:"隶书",yahei:"微软雅黑",andaleMono:"andale mono",arial:"arial",arialBlack:"arial black",comicSansMs:"comic sans ms",impact:"impact",timesNewRoman:"times new roman"},customstyle:{tc:"标题居中",tl:"标题居左",im:"强调",hi:"明显强调"},autoupload:{exceedSizeError:"文件大小超出限制",exceedTypeError:"文件格式不允许",jsonEncodeError:"服务器返回格式错误",loading:"正在上传...",loadError:"上传错误",errorLoadConfig:"后端配置项没有正常加载，上传插件不能正常使用！"},simpleupload:{exceedSizeError:"文件大小超出限制",exceedTypeError:"文件格式不允许",jsonEncodeError:"服务器返回格式错误",loading:"正在上传...",loadError:"上传错误",errorLoadConfig:"后端配置项没有正常加载，上传插件不能正常使用！"},elementPathTip:"元素路径",wordCountTip:"字数统计",wordCountMsg:"当前已输入{#count}个字符, 您还可以输入{#leave}个字符。 ",wordOverFlowMsg:'<span style="color:red;">字数超出最大允许值，服务器可能拒绝保存！</span>',ok:"确认",cancel:"取消",closeDialog:"关闭对话框",tableDrag:"表格拖动必须引入uiUtils.js文件！",autofloatMsg:"工具栏浮动依赖编辑器UI，您首先需要引入UI文件!",loadconfigError:"获取后台配置项请求出错，上传功能将不能正常使用！",loadconfigFormatError:"后台配置项返回格式出错，上传功能将不能正常使用！",loadconfigHttpError:"请求后台配置项http错误，上传功能将不能正常使用！",snapScreen_plugin:{browserMsg:"仅支持IE浏览器！",callBackErrorMsg:"服务器返回数据有误，请检查配置项之后重试。",uploadErrorMsg:"截图上传失败，请检查服务器端环境! "},insertcode:{as3:"ActionScript 3",bash:"Bash/Shell",cpp:"C/C++",css:"CSS",cf:"ColdFusion","c#":"C#",delphi:"Delphi",diff:"Diff",erlang:"Erlang",groovy:"Groovy",html:"HTML",java:"Java",jfx:"JavaFX",js:"JavaScript",pl:"Perl",php:"PHP",plain:"Plain Text",ps:"PowerShell",python:"Python",ruby:"Ruby",scala:"Scala",sql:"SQL",vb:"Visual Basic",xml:"XML"},confirmClear:"确定清空当前文档么？",contextMenu:{delete:"删除",selectall:"全选",deletecode:"删除代码",cleardoc:"清空文档",confirmclear:"确定清空当前文档么？",unlink:"删除超链接",paragraph:"段落格式",edittable:"表格属性",aligntd:"单元格对齐方式",aligntable:"表格对齐方式",tableleft:"左浮动",tablecenter:"居中显示",tableright:"右浮动",edittd:"单元格属性",setbordervisible:"设置表格边线可见",justifyleft:"左对齐",justifyright:"右对齐",justifycenter:"居中对齐",justifyjustify:"两端对齐",table:"表格",inserttable:"插入表格",deletetable:"删除表格",insertparagraphbefore:"前插入段落",insertparagraphafter:"后插入段落",deleterow:"删除当前行",deletecol:"删除当前列",insertrow:"前插入行",insertcol:"左插入列",insertrownext:"后插入行",insertcolnext:"右插入列",insertcaption:"插入表格名称",deletecaption:"删除表格名称",inserttitle:"插入表格标题行",deletetitle:"删除表格标题行",inserttitlecol:"插入表格标题列",deletetitlecol:"删除表格标题列",averageDiseRow:"平均分布各行",averageDisCol:"平均分布各列",mergeright:"向右合并",mergeleft:"向左合并",mergedown:"向下合并",mergecells:"合并单元格",splittocells:"完全拆分单元格",splittocols:"拆分成列",splittorows:"拆分成行",tablesort:"表格排序",enablesort:"设置表格可排序",disablesort:"取消表格可排序",reversecurrent:"逆序当前",orderbyasc:"按ASCII字符升序",reversebyasc:"按ASCII字符降序",orderbynum:"按数值大小升序",reversebynum:"按数值大小降序",borderbk:"边框底纹",setcolor:"表格隔行变色",unsetcolor:"取消表格隔行变色",setbackground:"选区背景隔行",unsetbackground:"取消选区背景",redandblue:"红蓝相间",threecolorgradient:"三色渐变",copy:"复制(Ctrl + c)",copymsg:"浏览器不支持,请使用 'Ctrl + c'",paste:"粘贴(Ctrl + v)",pastemsg:"浏览器不支持,请使用 'Ctrl + v'"},copymsg:"浏览器不支持,请使用 'Ctrl + c'",pastemsg:"浏览器不支持,请使用 'Ctrl + v'",anthorMsg:"链接",clearColor:"清空颜色",standardColor:"标准颜色",themeColor:"主题颜色",property:"属性",default:"默认",modify:"修改",justifyleft:"左对齐",justifyright:"右对齐",justifycenter:"居中",justify:"默认",clear:"清除",anchorMsg:"锚点",delete:"删除",clickToUpload:"点击上传",unset:"尚未设置语言文件",t_row:"行",t_col:"列",more:"更多",pasteOpt:"粘贴选项",pasteSourceFormat:"保留源格式",tagFormat:"只保留标签",pasteTextFormat:"只保留文本",autoTypeSet:{mergeLine:"合并空行",delLine:"清除空行",removeFormat:"清除格式",indent:"首行缩进",alignment:"对齐方式",imageFloat:"图片浮动",removeFontsize:"清除字号",removeFontFamily:"清除字体",removeHtml:"清除冗余HTML代码",pasteFilter:"粘贴过滤",run:"执行",symbol:"符号转换",bdc2sb:"全角转半角",tobdc:"半角转全角"},background:{static:{lang_background_normal:"背景设置",lang_background_local:"在线图片",lang_background_set:"选项",lang_background_none:"无背景色",lang_background_colored:"有背景色",lang_background_color:"颜色设置",lang_background_netimg:"网络图片",lang_background_align:"对齐方式",lang_background_position:"精确定位",repeatType:{options:["居中","横向重复","纵向重复","平铺","自定义"]}},noUploadImage:"当前未上传过任何图片！",toggleSelect:"单击可切换选中状态\n原图尺寸: "},insertimage:{static:{lang_tab_remote:"插入图片",lang_tab_upload:"本地上传",lang_tab_online:"在线管理",lang_tab_search:"图片搜索",lang_input_url:"地 址：",lang_input_size:"大 小：",lang_input_width:"宽度",lang_input_height:"高度",lang_input_border:"边 框：",lang_input_vhspace:"边 距：",lang_input_title:"描 述：",lang_input_align:"图片浮动方式：",lang_imgLoading:"　图片加载中……",lang_start_upload:"开始上传",lock:{title:"锁定宽高比例"},searchType:{title:"图片类型",options:["新闻","壁纸","表情","头像"]},searchTxt:{value:"请输入搜索关键词"},searchBtn:{value:"百度一下"},searchReset:{value:"清空搜索"},noneAlign:{title:"无浮动"},leftAlign:{title:"左浮动"},rightAlign:{title:"右浮动"},centerAlign:{title:"居中独占一行"}},uploadSelectFile:"点击选择图片",uploadAddFile:"继续添加",uploadStart:"开始上传",uploadPause:"暂停上传",uploadContinue:"继续上传",uploadRetry:"重试上传",uploadDelete:"删除",uploadTurnLeft:"向左旋转",uploadTurnRight:"向右旋转",uploadPreview:"预览中",uploadNoPreview:"不能预览",updateStatusReady:"选中_张图片，共_KB。",updateStatusConfirm:"已成功上传_张照片，_张照片上传失败",updateStatusFinish:"共_张（_KB），_张上传成功",updateStatusError:"，_张上传失败。",errorNotSupport:"WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。",errorLoadConfig:"后端配置项没有正常加载，上传插件不能正常使用！",errorExceedSize:"文件大小超出",errorFileType:"文件格式不允许",errorInterrupt:"文件传输中断",errorUploadRetry:"上传失败，请重试",errorHttp:"http请求错误",errorServerUpload:"服务器返回出错",remoteLockError:"宽高不正确,不能所定比例",numError:"请输入正确的长度或者宽度值！例如：123，400",imageUrlError:"不允许的图片格式或者图片域！",imageLoadError:"图片加载失败！请检查链接地址或网络状态！",searchRemind:"请输入搜索关键词",searchLoading:"图片加载中，请稍后……",searchRetry:" :( ，抱歉，没有找到图片！请重试一次！"},attachment:{static:{lang_tab_upload:"上传附件",lang_tab_online:"在线附件",lang_start_upload:"开始上传",lang_drop_remind:"可以将文件拖到这里，单次最多可选100个文件"},uploadSelectFile:"点击选择文件",uploadAddFile:"继续添加",uploadStart:"开始上传",uploadPause:"暂停上传",uploadContinue:"继续上传",uploadRetry:"重试上传",uploadDelete:"删除",uploadTurnLeft:"向左旋转",uploadTurnRight:"向右旋转",uploadPreview:"预览中",updateStatusReady:"选中_个文件，共_KB。",updateStatusConfirm:"已成功上传_个文件，_个文件上传失败",updateStatusFinish:"共_个（_KB），_个上传成功",updateStatusError:"，_张上传失败。",errorNotSupport:"WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。",errorLoadConfig:"后端配置项没有正常加载，上传插件不能正常使用！",errorExceedSize:"文件大小超出",errorFileType:"文件格式不允许",errorInterrupt:"文件传输中断",errorUploadRetry:"上传失败，请重试",errorHttp:"http请求错误",errorServerUpload:"服务器返回出错"},insertvideo:{static:{lang_tab_insertV:"插入视频",lang_tab_searchV:"搜索视频",lang_tab_uploadV:"上传视频",lang_video_url:"视频网址",lang_video_size:"视频尺寸",lang_videoW:"宽度",lang_videoH:"高度",lang_alignment:"对齐方式",videoSearchTxt:{value:"请输入搜索关键字！"},videoType:{options:["全部","热门","娱乐","搞笑","体育","科技","综艺"]},videoSearchBtn:{value:"百度一下"},videoSearchReset:{value:"清空结果"},lang_input_fileStatus:" 当前未上传文件",startUpload:{style:"background:url(upload.png) no-repeat;"},lang_upload_size:"视频尺寸",lang_upload_width:"宽度",lang_upload_height:"高度",lang_upload_alignment:"对齐方式",lang_format_advice:"建议使用mp4格式."},numError:"请输入正确的数值，如123,400",floatLeft:"左浮动",floatRight:"右浮动",'"default"':"默认",block:"独占一行",urlError:"输入的视频地址有误，请检查后再试！",loading:" &nbsp;视频加载中，请等待……",clickToSelect:"点击选中",goToSource:"访问源视频",noVideo:" &nbsp; &nbsp;抱歉，找不到对应的视频，请重试！",browseFiles:"浏览文件",uploadSuccess:"上传成功!",delSuccessFile:"从成功队列中移除",delFailSaveFile:"移除保存失败文件",statusPrompt:" 个文件已上传！ ",flashVersionError:"当前Flash版本过低，请更新FlashPlayer后重试！",flashLoadingError:"Flash加载失败!请检查路径或网络状态",fileUploadReady:"等待上传……",delUploadQueue:"从上传队列中移除",limitPrompt1:"单次不能选择超过",limitPrompt2:"个文件！请重新选择！",delFailFile:"移除失败文件",fileSizeLimit:"文件大小超出限制！",emptyFile:"空文件无法上传！",fileTypeError:"文件类型不允许！",unknownError:"未知错误！",fileUploading:"上传中，请等待……",cancelUpload:"取消上传",netError:"网络错误",failUpload:"上传失败!",serverIOError:"服务器IO错误！",noAuthority:"无权限！",fileNumLimit:"上传个数限制",failCheck:"验证失败，本次上传被跳过！",fileCanceling:"取消中，请等待……",stopUploading:"上传已停止……",uploadSelectFile:"点击选择文件",uploadAddFile:"继续添加",uploadStart:"开始上传",uploadPause:"暂停上传",uploadContinue:"继续上传",uploadRetry:"重试上传",uploadDelete:"删除",uploadTurnLeft:"向左旋转",uploadTurnRight:"向右旋转",uploadPreview:"预览中",updateStatusReady:"选中_个文件，共_KB。",updateStatusConfirm:"成功上传_个，_个失败",updateStatusFinish:"共_个(_KB)，_个成功上传",updateStatusError:"，_张上传失败。",errorNotSupport:"WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。",errorLoadConfig:"后端配置项没有正常加载，上传插件不能正常使用！",errorExceedSize:"文件大小超出",errorFileType:"文件格式不允许",errorInterrupt:"文件传输中断",errorUploadRetry:"上传失败，请重试",errorHttp:"http请求错误",errorServerUpload:"服务器返回出错"},webapp:{tip1:"本功能由百度APP提供，如看到此页面，请各位站长首先申请百度APPKey!",tip2:"申请完成之后请至ueditor.config.js中配置获得的appkey! ",applyFor:"点此申请",anthorApi:"百度API"},template:{static:{lang_template_bkcolor:"背景颜色",lang_template_clear:"保留原有内容",lang_template_select:"选择模板"},blank:"空白文档",blog:"博客文章",resume:"个人简历",richText:"图文混排",sciPapers:"科技论文"},scrawl:{static:{lang_input_previousStep:"上一步",lang_input_nextsStep:"下一步",lang_input_clear:"清空",lang_input_addPic:"添加背景",lang_input_ScalePic:"缩放背景",lang_input_removePic:"删除背景",J_imgTxt:{title:"添加背景图片"}},noScarwl:"尚未作画，白纸一张~",scrawlUpLoading:"涂鸦上传中,别急哦~",continueBtn:"继续",imageError:"糟糕，图片读取失败了！",backgroundUploading:"背景图片上传中,别急哦~"},music:{static:{lang_input_tips:"输入歌手/歌曲/专辑，搜索您感兴趣的音乐！",J_searchBtn:{value:"搜索歌曲"}},emptyTxt:"未搜索到相关音乐结果，请换一个关键词试试。",chapter:"歌曲",singer:"歌手",special:"专辑",listenTest:"试听"},anchor:{static:{lang_input_anchorName:"锚点名字："}},charts:{static:{lang_data_source:"数据源：",lang_chart_format:"图表格式：",lang_data_align:"数据对齐方式",lang_chart_align_same:"数据源与图表X轴Y轴一致",lang_chart_align_reverse:"数据源与图表X轴Y轴相反",lang_chart_title:"图表标题",lang_chart_main_title:"主标题：",lang_chart_sub_title:"子标题：",lang_chart_x_title:"X轴标题：",lang_chart_y_title:"Y轴标题：",lang_chart_tip:"提示文字",lang_cahrt_tip_prefix:"提示文字前缀：",lang_cahrt_tip_description:"仅饼图有效， 当鼠标移动到饼图中相应的块上时，提示框内的文字的前缀",lang_chart_data_unit:"数据单位",lang_chart_data_unit_title:"单位：",lang_chart_data_unit_description:"显示在每个数据点上的数据的单位， 比如： 温度的单位 ℃",lang_chart_type:"图表类型：",lang_prev_btn:"上一个",lang_next_btn:"下一个"}},emotion:{static:{lang_input_choice:"精选",lang_input_Tuzki:"兔斯基",lang_input_BOBO:"BOBO",lang_input_lvdouwa:"绿豆蛙",lang_input_babyCat:"baby猫",lang_input_bubble:"泡泡",lang_input_youa:"有啊"}},gmap:{static:{lang_input_address:"地址",lang_input_search:"搜索",address:{value:"北京"}},searchError:"无法定位到该地址!"},help:{static:{lang_input_about:"关于UEditor",lang_input_shortcuts:"快捷键",lang_input_introduction:"UEditor是由百度web前端研发部开发的所见即所得富文本web编辑器，具有轻量，可定制，注重用户体验等特点。开源基于BSD协议，允许自由使用和修改代码。",lang_Txt_shortcuts:"快捷键",lang_Txt_func:"功能",lang_Txt_bold:"给选中字设置为加粗",lang_Txt_copy:"复制选中内容",lang_Txt_cut:"剪切选中内容",lang_Txt_Paste:"粘贴",lang_Txt_undo:"重新执行上次操作",lang_Txt_redo:"撤销上一次操作",lang_Txt_italic:"给选中字设置为斜体",lang_Txt_underline:"给选中字加下划线",lang_Txt_selectAll:"全部选中",lang_Txt_visualEnter:"软回车",lang_Txt_fullscreen:"全屏"}},insertframe:{static:{lang_input_address:"地址：",lang_input_width:"宽度：",lang_input_height:"高度：",lang_input_isScroll:"允许滚动条：",lang_input_frameborder:"显示框架边框：",lang_input_alignMode:"对齐方式：",align:{title:"对齐方式",options:["默认","左对齐","右对齐","居中"]}},enterAddress:"请输入地址!"},link:{static:{lang_input_text:"文本内容：",lang_input_url:"链接地址：",lang_input_title:"标题：",lang_input_target:"是否在新窗口打开："},validLink:"只支持选中一个链接时生效",httpPrompt:"您输入的超链接中不包含http等协议名称，默认将为您添加http://前缀"},map:{static:{lang_city:"城市",lang_address:"地址",city:{value:"北京"},lang_search:"搜索",lang_dynamicmap:"插入动态地图"},cityMsg:"请选择城市",errorMsg:"抱歉，找不到该位置！"},searchreplace:{static:{lang_tab_search:"查找",lang_tab_replace:"替换",lang_search1:"查找",lang_search2:"查找",lang_replace:"替换",lang_searchReg:"支持正则表达式，添加前后斜杠标示为正则表达式，例如“/表达式/”",lang_searchReg1:"支持正则表达式，添加前后斜杠标示为正则表达式，例如“/表达式/”",lang_case_sensitive1:"区分大小写",lang_case_sensitive2:"区分大小写",nextFindBtn:{value:"下一个"},preFindBtn:{value:"上一个"},nextReplaceBtn:{value:"下一个"},preReplaceBtn:{value:"上一个"},repalceBtn:{value:"替换"},repalceAllBtn:{value:"全部替换"}},getEnd:"已经搜索到文章末尾！",getStart:"已经搜索到文章头部",countMsg:"总共替换了{#count}处！"},snapscreen:{static:{lang_showMsg:"截图功能需要首先安装UEditor截图插件！ ",lang_download:"点此下载",lang_step1:"第一步，下载UEditor截图插件并运行安装。",lang_step2:"第二步，插件安装完成后即可使用，如不生效，请重启浏览器后再试！"}},spechars:{static:{},tsfh:"特殊字符",lmsz:"罗马字符",szfh:"数学字符",rwfh:"日文字符",xlzm:"希腊字母",ewzm:"俄文字符",pyzm:"拼音字母",yyyb:"英语音标",zyzf:"其他"},edittable:{static:{lang_tableStyle:"表格样式",lang_insertCaption:"添加表格名称行",lang_insertTitle:"添加表格标题行",lang_insertTitleCol:"添加表格标题列",lang_orderbycontent:"使表格内容可排序",lang_tableSize:"自动调整表格尺寸",lang_autoSizeContent:"按表格文字自适应",lang_autoSizePage:"按页面宽度自适应",lang_example:"示例",lang_borderStyle:"表格边框",lang_color:"颜色:"},captionName:"表格名称",titleName:"标题",cellsName:"内容",errorMsg:"有合并单元格，不可排序"},edittip:{static:{lang_delRow:"删除整行",lang_delCol:"删除整列"}},edittd:{static:{lang_tdBkColor:"背景颜色:"}},formula:{static:{}},wordimage:{static:{lang_resave:"转存步骤",uploadBtn:{src:"upload.png",alt:"上传"},clipboard:{style:"background: url(copy.png) -153px -1px no-repeat;"},lang_step:"1、点击顶部复制按钮，将地址复制到剪贴板；2、点击添加照片按钮，在弹出的对话框中使用Ctrl+V粘贴地址；3、点击打开后选择图片上传流程。"},fileType:"图片",flashError:"FLASH初始化失败，请检查FLASH插件是否正确安装！",netError:"网络连接错误，请重试！",copySuccess:"图片地址已经复制！",flashI18n:{}},autosave:{saving:"保存中...",success:"本地保存成功"}}},function(e,t){!function(){UE=window.UE||{};var a,n=!!window.ActiveXObject,s={removeLastbs:function(e){return e.replace(/\/$/,"")},extend:function(e,t){for(var n=arguments,i=!!this.isBoolean(n[n.length-1])&&n[n.length-1],r=this.isBoolean(n[n.length-1])?n.length-1:n.length,o=1;o<r;o++){var a,s=n[o];for(a in s)i&&e.hasOwnProperty(a)||(e[a]=s[a])}return e},isIE:n,cssRule:n?function(e,t,n){var i,r;if((i=(n=n||document).indexList?n.indexList:n.indexList={})[e])r=n.styleSheets[i[e]];else{if(void 0===t)return"";r=n.createStyleSheet("",n=n.styleSheets.length),i[e]=n}if(void 0===t)return r.cssText;r.cssText=r.cssText+"\n"+(t||"")}:function(e,t,n){var i,r=(n=n||document).getElementsByTagName("head")[0];if(!(i=n.getElementById(e))){if(void 0===t)return"";(i=n.createElement("style")).id=e,r.appendChild(i)}if(void 0===t)return i.innerHTML;""!==t?i.innerHTML=i.innerHTML+"\n"+t:r.removeChild(i)},domReady:function(e){var t=window.document;"complete"===t.readyState?e():n?(function(){if(!t.isReady){try{t.documentElement.doScroll("left")}catch(e){return setTimeout(arguments.callee,0)}e()}}(),window.attachEvent("onload",function(){e()})):(t.addEventListener("DOMContentLoaded",function(){t.removeEventListener("DOMContentLoaded",arguments.callee,!1),e()},!1),window.addEventListener("load",function(){e()},!1))},each:function(e,t,n){if(null!=e)if(e.length===+e.length){for(var i=0,r=e.length;i<r;i++)if(!1===t.call(n,e[i],i,e))return!1}else for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i],i,e))return!1},inArray:function(e,n){var i=-1;return this.each(e,function(e,t){if(e===n)return i=t,!1}),i},pushItem:function(e,t){-1==this.inArray(e,t)&&e.push(t)},trim:function(e){return e.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")},indexOf:function(e,n,i){var r=-1;return i=this.isNumber(i)?i:0,this.each(e,function(e,t){if(i<=t&&e===n)return r=t,!1}),r},hasClass:function(e,t){t=t.replace(/(^[ ]+)|([ ]+$)/g,"").replace(/[ ]{2,}/g," ").split(" ");for(var n,i=0,r=e.className;n=t[i++];)if(!new RegExp("\\b"+n+"\\b","i").test(r))return!1;return i-1==t.length},addClass:function(e,t){if(e){t=this.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var n,i=0,r=e.className;n=t[i++];)new RegExp("\\b"+n+"\\b").test(r)||(r+=" "+n);e.className=s.trim(r)}},removeClass:function(e,t){t=this.isArray(t)?t:this.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var n,i=0,r=e.className;n=t[i++];)r=r.replace(new RegExp("\\b"+n+"\\b"),"");r=this.trim(r).replace(/[ ]{2,}/g," "),(e.className=r)||e.removeAttribute("className")},on:function(e,t,n){var i=this.isArray(t)?t:t.split(/\s+/),r=i.length;if(r)for(;r--;)if(t=i[r],e.addEventListener)e.addEventListener(t,n,!1);else{n._d||(n._d={els:[]});var o=t+n.toString(),a=s.indexOf(n._d.els,e);n._d[o]&&-1!=a||(-1==a&&n._d.els.push(e),n._d[o]||(n._d[o]=function(e){return n.call(e.srcElement,e||window.event)}),e.attachEvent("on"+t,n._d[o]))}e=null},off:function(e,t,n){var i=this.isArray(t)?t:t.split(/\s+/),r=i.length;if(r)for(;r--;)if(t=i[r],e.removeEventListener)e.removeEventListener(t,n,!1);else{var o=t+n.toString();try{e.detachEvent("on"+t,n._d?n._d[o]:n)}catch(e){}n._d&&n._d[o]&&(-1!=(t=s.indexOf(n._d.els,e))&&n._d.els.splice(t,1),0==n._d.els.length&&delete n._d[o])}},loadFile:(a=[],function(t,n,e){var i=l(t,n);if(i)i.ready?e&&e():i.funs.push(e);else if(a.push({doc:t,url:n.src||n.href,funs:[e]}),t.body){if(!n.id||!t.getElementById(n.id)){var r=t.createElement(n.tag);for(o in delete n.tag,n)r.setAttribute(o,n[o]);r.onload=r.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){if(0<(i=l(t,n)).funs.length){i.ready=1;for(var e;e=i.funs.pop();)e()}r.onload=r.onreadystatechange=null}},r.onerror=function(){throw Error("The load "+(n.href||n.src)+" fails,check the url")},t.getElementsByTagName("head")[0].appendChild(r)}}else{for(var o in e=[],n)"tag"!=o&&e.push(o+'="'+n[o]+'"');t.write("<"+n.tag+" "+e.join(" ")+" ></"+n.tag+">")}})};function l(e,t){try{for(var n,i=0;n=a[i++];)if(n.doc===e&&n.url==(t.src||t.href))return n}catch(e){return null}}s.each("String Function Array Number RegExp Object Boolean".split(" "),function(t){s["is"+t]=function(e){return Object.prototype.toString.apply(e)=="[object "+t+"]"}});var i={};UE.parse={register:function(e,t){i[e]=t},load:function(t){s.each(i,function(e){e.call(t,s)})}},uParse=function(n,i){s.domReady(function(){var t;document.querySelectorAll?t=document.querySelectorAll(n):/^#/.test(n)?t=[document.getElementById(n.replace(/^#/,""))]:/^\./.test(n)?(t=[],s.each(document.getElementsByTagName("*"),function(e){e.className&&new RegExp("\\b"+n.replace(/^\./,"")+"\\b","i").test(e.className)&&t.push(e)})):t=document.getElementsByTagName(n),s.each(t,function(e){UE.parse.load(s.extend({root:e,selector:n},i))})})}}(),UE.parse.register("insertcode",function(e){var t=this.root.getElementsByTagName("pre");if(t.length)if("undefined"==typeof XRegExp){var n,i;i=void 0!==this.rootPath?(n=e.removeLastbs(this.rootPath)+"/third-party/SyntaxHighlighter/shCore.js",e.removeLastbs(this.rootPath)+"/third-party/SyntaxHighlighter/shCoreDefault.css"):(n=this.highlightJsUrl,this.highlightCssUrl),e.loadFile(document,{id:"syntaxhighlighter_css",tag:"link",rel:"stylesheet",type:"text/css",href:i}),e.loadFile(document,{id:"syntaxhighlighter_js",src:n,tag:"script",type:"text/javascript",defer:"defer"},function(){e.each(t,function(e){e&&/brush/i.test(e.className)&&SyntaxHighlighter.highlight(e)})})}else e.each(t,function(e){e&&/brush/i.test(e.className)&&SyntaxHighlighter.highlight(e)})}),UE.parse.register("table",function(d){var i=this,t=this.root;if((e=t.getElementsByTagName("table")).length){function r(e,t){var n,i=e;for(t=d.isArray(t)?t:[t];i;){for(n=0;n<t.length;n++)if(i.tagName==t[n].toUpperCase())return i;i=i.parentNode}return null}var e=this.selector;d.cssRule("table",e+" table.noBorderTable td,"+e+" table.noBorderTable th,"+e+" table.noBorderTable caption{border:1px dashed #ddd !important}"+e+" table.sortEnabled tr.firstRow th,"+e+" table.sortEnabled tr.firstRow td{padding-right:20px; background-repeat: no-repeat;background-position: center right; background-image:url("+this.rootPath+"themes/default/images/sortable.png);}"+e+" table.sortEnabled tr.firstRow th:hover,"+e+" table.sortEnabled tr.firstRow td:hover{background-color: #EEE;}"+e+" table{margin-bottom:10px;border-collapse:collapse;display:table;}"+e+" td,"+e+" th{ background:white; padding: 5px 10px;border: 1px solid #DDD;}"+e+" caption{border:1px dashed #DDD;border-bottom:0;padding:3px;text-align:center;}"+e+" th{border-top:1px solid #BBB;background:#F7F7F7;}"+e+" table tr.firstRow th{border-top:2px solid #BBB;background:#F7F7F7;}"+e+" tr.ue-table-interlace-color-single td{ background: #fcfcfc; }"+e+" tr.ue-table-interlace-color-double td{ background: #f7faff; }"+e+" td p{margin:0;padding:0;}",document),d.each(["td","th","caption"],function(e){(e=t.getElementsByTagName(e)).length&&d.each(e,function(e){e.firstChild||(e.innerHTML="&nbsp;")})}),e=t.getElementsByTagName("table"),d.each(e,function(e){/\bsortEnabled\b/.test(e.className)&&d.on(e,"click",function(e){e=e.target||e.srcElement;var t=r(e,["td","th"]);e=r(e,"table"),t=d.indexOf(e.rows[0].cells,t);var n=e.getAttribute("data-sort-type");if(-1!=t&&(function(e,n,i){for(var t=e.rows,r=[],o="TH"===t[0].cells[0].tagName,a=0,s=t.length;a<s;a++)r[a]=t[a];var l={reversecurrent:function(e,t){return 1},orderbyasc:function(e,t){return(e.innerText||e.textContent).localeCompare(t.innerText||t.textContent)},reversebyasc:function(e,t){return t.innerHTML.localeCompare(e.innerHTML)},orderbynum:function(e,t){var n=e[d.isIE?"innerText":"textContent"].match(/\d+/),i=t[d.isIE?"innerText":"textContent"].match(/\d+/);return((n=n&&+n[0])||0)-((i=i&&+i[0])||0)},reversebynum:function(e,t){var n=e[d.isIE?"innerText":"textContent"].match(/\d+/),i=t[d.isIE?"innerText":"textContent"].match(/\d+/);return n=n&&+n[0],((i=i&&+i[0])||0)-(n||0)}};for(e.setAttribute("data-sort-type",i&&"string"==typeof i&&l[i]?i:""),o&&r.splice(0,1),r=function(e,t){t=t||function(e,t){return e.localeCompare(t)};for(var n=0,i=e.length;n<i;n++)for(var r=n,o=e.length;r<o;r++)if(0<t(e[n],e[r])){var a=e[n];e[n]=e[r],e[r]=a}return e}(r,function(e,t){return i&&"function"==typeof i?i.call(this,e.cells[n],t.cells[n]):i&&"number"==typeof i?1:i&&"string"==typeof i&&l[i]?l[i].call(this,e.cells[n],t.cells[n]):l.orderbyasc.call(this,e.cells[n],t.cells[n])}),t=e.ownerDocument.createDocumentFragment(),o=0,s=r.length;o<s;o++)t.appendChild(r[o]);e.getElementsByTagName("tbody")[0].appendChild(t)}(e,t,i.tableSortCompareFn||n),!d.hasClass(e.rows[0],"firstRow"))){for(t=1;t<e.rows.length;t++)d.removeClass(e.rows[t],"firstRow");d.addClass(e.rows[0],"firstRow")}})})}}),UE.parse.register("charts",function(e){function r(e){for(var t,n=e.getAttribute("data-chart"),i={},r=[],o=0;t=e.rows[o];o++){for(var a,s=[],l=0;a=t.cells[l];l++){var d=a.innerText||a.textContent||"";s.push("TH"==a.tagName?d:0|d)}r.push(s)}for(n=n.split(";"),o=0;t=n[o];o++)i[(t=t.split(":"))[0]]=t[1];return{table:e,meta:i,data:r}}function t(){window.Highcharts?n():e.loadFile(document,{src:i+"/third-party/highcharts/highcharts.js",tag:"script",type:"text/javascript",defer:"defer"},function(){n()})}function n(){e.loadFile(document,{src:i+"/dialogs/charts/chart.config.js",tag:"script",type:"text/javascript",defer:"defer"},function(){for(var e=null,t=null,n=null,i=0,r=u.length;i<r;i++){t=[];var o=[],a=(n=[],(e=u[i]).data),s=e.meta;if("1"!=s.dataFormat){var l=0;for(o=a.length;l<o;l++)for(var d=0,c=a[l].length;d<c;d++)n[d]||(n[d]=[]),n[d][l]=a[l][d];a=n}if(n={},s.chartType!=typeConfig.length-1){for(o=a[0].slice(1),l=1,d=void 0;d=a[l];l++)t.push({name:d[0],data:d.slice(1)});n.series=t,n.categories=o,n.title=s.title,n.subTitle=s.subTitle,n.xTitle=s.xTitle,n.yTitle=s.yTitle}else{for(d=[],l=1,o=a[0].length;l<o;l++)d.push([a[0][l],0|a[1][l]]);t[0]={type:"pie",name:s.tip,data:d},n.series=t,n.title=s.title}n.suffix=s.suffix,t=n,n=e.table,(a=document.createElement("div")).className="edui-chart-container",n.parentNode.replaceChild(a,n),n=a,e=typeConfig[e.meta.chartType],$(n).highcharts($.extend({},e,{credits:{enabled:!1},exporting:{enabled:!1},title:{text:t.title,x:-20},subtitle:{text:t.subTitle,x:-20},xAxis:{title:{text:t.xTitle},categories:t.categories},yAxis:{title:{text:t.yTitle},plotLines:[{value:0,width:1,color:"#808080"}]},tooltip:{enabled:!0,valueSuffix:t.suffix},legend:{layout:"vertical",align:"right",verticalAlign:"middle",borderWidth:1},series:t.series}))}})}e.cssRule("chartsContainerHeight",".edui-chart-container { height:"+(this.chartContainerHeight||300)+"px}");var i=this.rootPath,o=this.root,u=null;i&&(o=o?function(e){var t=[];e=e.getElementsByTagName("table");for(var n,i=0;n=e[i];i++)null!==n.getAttribute("data-chart")&&t.push(r(n));return t.length?t:null}(o):null,(u=o)&&(window.jQuery?t():e.loadFile(document,{src:i+"/third-party/jquery-1.10.2.min.js",tag:"script",type:"text/javascript",defer:"defer"},function(){t()})))}),UE.parse.register("background",function(e){for(var t,n,i=this.root.getElementsByTagName("p"),r=0;n=i[r++];)(t=n.getAttribute("data-background"))&&n.parentNode.removeChild(n);t&&e.cssRule("ueditor_background",this.selector+"{"+t+"}",document)}),UE.parse.register("list",function(r){function e(e){var i=this;r.each(e,function(e){if(e.className&&/custom_/i.test(e.className)){var t=e.className.match(/custom_(\w+)/)[1];if("dash"==t||"dot"==t)r.pushItem(o,s+" li.list-"+a[t]+"{background-image:url("+i.liiconpath+a[t]+".gif)}"),r.pushItem(o,s+" ul.custom_"+t+"{list-style:none;} "+s+" ul.custom_"+t+" li{background-position:0 3px;background-repeat:no-repeat}");else{var n=1;r.each(e.childNodes,function(e){"LI"==e.tagName&&(r.pushItem(o,s+" li.list-"+a[t]+n+"{background-image:url("+i.liiconpath+"list-"+a[t]+n+".gif)}"),n++)}),r.pushItem(o,s+" ol.custom_"+t+"{list-style:none;}"+s+" ol.custom_"+t+" li{background-position:0 3px;background-repeat:no-repeat}")}switch(t){case"cn":r.pushItem(o,s+" li.list-"+t+"-paddingleft-1{padding-left:25px}"),r.pushItem(o,s+" li.list-"+t+"-paddingleft-2{padding-left:40px}"),r.pushItem(o,s+" li.list-"+t+"-paddingleft-3{padding-left:55px}");break;case"cn1":r.pushItem(o,s+" li.list-"+t+"-paddingleft-1{padding-left:30px}"),r.pushItem(o,s+" li.list-"+t+"-paddingleft-2{padding-left:40px}"),r.pushItem(o,s+" li.list-"+t+"-paddingleft-3{padding-left:55px}");break;case"cn2":r.pushItem(o,s+" li.list-"+t+"-paddingleft-1{padding-left:40px}"),r.pushItem(o,s+" li.list-"+t+"-paddingleft-2{padding-left:55px}"),r.pushItem(o,s+" li.list-"+t+"-paddingleft-3{padding-left:68px}");break;case"num":case"num1":r.pushItem(o,s+" li.list-"+t+"-paddingleft-1{padding-left:25px}");break;case"num2":r.pushItem(o,s+" li.list-"+t+"-paddingleft-1{padding-left:35px}"),r.pushItem(o,s+" li.list-"+t+"-paddingleft-2{padding-left:40px}");break;case"dash":r.pushItem(o,s+" li.list-"+t+"-paddingleft{padding-left:35px}");break;case"dot":r.pushItem(o,s+" li.list-"+t+"-paddingleft{padding-left:20px}")}}})}var o=[],a={cn:"cn-1-",cn1:"cn-2-",cn2:"cn-3-",num:"num-1-",num1:"num-2-",num2:"num-3-",dash:"dash",dot:"dot"};r.extend(this,{liiconpath:"http://bs.baidu.com/listicon/",listDefaultPaddingLeft:"20"});var t=(n=this.root).getElementsByTagName("ol"),n=n.getElementsByTagName("ul"),s=this.selector;t.length&&e.call(this,t),n.length&&e.call(this,n),(t.length||n.length)&&(o.push(s+" .list-paddingleft-1{padding-left:0}"),o.push(s+" .list-paddingleft-2{padding-left:"+this.listDefaultPaddingLeft+"px}"),o.push(s+" .list-paddingleft-3{padding-left:"+2*this.listDefaultPaddingLeft+"px}"),r.cssRule("list",s+" ol,"+s+" ul{margin:0;padding:0;}li{clear:both;}"+o.join("\n"),document))}),UE.parse.register("vedio",function(e){var t=this.root.getElementsByTagName("video"),n=this.root.getElementsByTagName("audio");if(document.createElement("video"),document.createElement("audio"),t.length||n.length){n=(t=e.removeLastbs(this.rootPath))+"/third-party/video-js/video.js";var i=t+"/third-party/video-js/video-js.min.css",r=t+"/third-party/video-js/video-js.swf";window.videojs?videojs.autoSetup():(e.loadFile(document,{id:"video_css",tag:"link",rel:"stylesheet",type:"text/css",href:i}),e.loadFile(document,{id:"video_js",src:n,tag:"script",type:"text/javascript"},function(){videojs.options.flash.swf=r,videojs.autoSetup()}))}})},function(e,t,n){var i=n(18);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(1).default)("6ceefaf6",i,!0,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.flexLeftOrCenter {\n  width: 800px;\n  margin: 0 auto;\n}\n.spider_form_data {\n  position: relative;\n}\n.spider_form_data .rowOrColumnInput .el-form-item__content .el-switch,\n  .spider_form_data .rowOrColumnInput .el-form-item__content .el-radio-group {\n    justify-content: flex-start;\n}\n.spider_form_data .noLeftBorder .el-input__inner {\n    border-top-left-radius: 0px;\n    border-bottom-left-radius: 0px;\n}\n.spider_form_data .noRightBorder .el-input__inner {\n    border-top-right-radius: 0px;\n    border-bottom-right-radius: 0px;\n}\n.spider_form_data .el-input__suffix {\n    right: 6px;\n}\n.spider_form_data .el-date-editor.el-input {\n    width: 100%;\n}\n.spider_form_data .el-range-editor.el-input__inner {\n    justify-content: space-between;\n}\n.spider_form_data .blue {\n    color: #0091e8;\n}\n.spider_form_data .red {\n    color: red;\n}\n.spider_form_data .default {\n    cursor: default;\n}\n.spider_form_data .pointer {\n    cursor: pointer;\n}\n.spider_form_data .el-form {\n    display: inline-block;\n    width: 100%;\n    position: relative;\n    padding-bottom: 40px;\n}\n.spider_form_data .data_table {\n    margin-top: 12px;\n}\n.spider_form_data .spider_form_footer {\n    margin: 10px 0 100px;\n}\n.spider_form_data .el-form-item__content .columnRadio.el-radio-group {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    height: auto;\n}\n.spider_form_data .el-form-item__content .columnRadio.el-radio-group .el-radio {\n      margin-top: 9px;\n}\n.spider_form_data .el-form-item__content .rowsRadio.el-radio-group {\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n    height: auto;\n    width: 100%;\n    flex-wrap: wrap;\n}\n.spider_form_data .el-form-item__content .rowsRadio.el-radio-group .el-radio {\n      margin-top: 9px;\n}\n.spider_form_data .el-form-item__content .columnCheckbox.el-checkbox-group {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    height: auto;\n}\n.spider_form_data .el-form-item__content .columnCheckbox.el-checkbox-group .el-checkbox {\n      margin-top: 0px;\n}\n.spider_form_data .el-input-number.el-input-number--medium.is-disabled .el-input-number__decrease {\n    display: none;\n}\n.spider_form_data .el-input-number.el-input-number--medium.is-disabled .el-input-number__increase {\n    display: none;\n}\n.spider_form_data .modalFormSolid {\n    height: 1px;\n    margin: 17px 0 12px;\n    background-color: #fdfdff;\n    box-shadow: 0px -1px 0px 0px rgba(0, 0, 0, 0.1);\n}\n.spider_form_data .mapPosition {\n    width: 100%;\n}\n.spider_form_data .mapPosition .el-form-item__content {\n      display: block;\n}\n.spider_form_data .rowOrColumnInput .el-form-item__content {\n    display: flex;\n    flex-direction: column;\n}\n.spider_form_data .center {\n    text-align: center;\n}\n.spider_form_data .treeSurround {\n    display: flex;\n    justify-content: flex-start;\n}\n.spider_form_data .treeSurround .treeSurroundinner {\n      border: 1px solid #797979;\n      margin-right: 16px;\n      height: 300px;\n      color: #333333;\n      overflow: hidden;\n      overflow-y: auto;\n}\n.spider_form_data .treeSurround .treeSurroundinner .el-tree {\n        width: 240px;\n}\n.spider_form_data .treeSurround .treeSurroundinner p {\n        line-height: 36px;\n        border-bottom: 1px solid #797979;\n        background: #f2f2f2;\n        text-align: center;\n        margin: 0;\n}\n.spider_form_data .hasBtn .el-form-item__content {\n    display: flex;\n    flex-direction: column;\n}\n.spider_form_data .hasBtn .el-form-item__content .el-button {\n      margin-left: 0;\n      margin-top: 8px;\n      width: 150px;\n}\n.spider_form_data .hasBtn .el-form-item__content .projectuserName {\n      padding-right: 8px;\n      width: 200px;\n      display: inline-block;\n}\n.spider_form_data .hasBtn .el-form-item__content .projectdel {\n      color: red;\n      padding-left: 40px;\n      cursor: pointer;\n}\n.spider_form_data .treeSurround + p {\n    margin: 0;\n    line-height: 24px;\n}\n.spider_form_data .el-input-group__append button.el-button {\n    margin-left: -20px;\n}\n.spider_form_data .el-radio-button:focus:not(.is-focus):not(:active):not(.is-disabled) {\n    -webkit-box-shadow: none;\n    box-shadow: none;\n}\n.spider_form_data .is-disabled {\n    color: #000;\n}\n.spider_form_data .is-disabled .el-input-group__append {\n      display: none;\n}\n.spider_form_data .el-autocomplete {\n    width: 100%;\n}\n.spider_form_data .el-autocomplete-suggestion__wrap {\n    max-height: 700px;\n}\n.spider_form_data .el-input.is-disabled .el-input__inner {\n    background-color: white;\n    font-size: 14px;\n    border: none;\n    color: black;\n    cursor: inherit;\n    padding: 0;\n    resize: none;\n}\n.spider_form_data .el-input.is-disabled .el-input__suffix {\n    display: none;\n}\n.spider_form_data .el-date-editor.is-disabled .el-input__prefix {\n    display: none;\n}\n.spider_form_data .el-checkbox + .el-checkbox.is-disabled {\n    margin-left: 16px;\n}\n.spider_form_data .el-checkbox__input.is-disabled {\n    display: none;\n}\n.spider_form_data .el-textarea.is-disabled .el-textarea__inner {\n    background-color: white;\n    font-size: 14px;\n    border: none;\n    color: black;\n    cursor: inherit;\n    resize: none;\n    line-height: 26px;\n    padding-left: 0;\n}\n.spider_form_data .el-form-item__content {\n    display: flex;\n    justify-content: flex-start;\n}\n.spider_form_data .el-form-item__content .el-radio-group,\n    .spider_form_data .el-form-item__content .el-switch {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: 36px;\n}\n.spider_form_data .spider_form_data_extra {\n    display: inline-block;\n    color: #666;\n}\n.spider_form_data .spider_form_data_connect {\n    width: 36px;\n    text-align: center;\n    color: #666;\n}\n.spider_form_data .spider_form_data_cut {\n    font-size: 20px;\n    padding-left: 16px;\n    margin-top: 16px;\n    margin-bottom: 16px;\n    border-bottom: 1px solid #ccc;\n    width: 100%;\n    color: #000;\n}\n.spider_form_data .spider_form_data_cut .cut_handle {\n      color: #3a8ee6;\n      float: right;\n      margin-right: 16px;\n      cursor: pointer;\n}\n.spider_form_data .elbtnStyle .el-button:nth-child(1),\n  .spider_form_data .elbtnStyle .restBtngather:nth-child(1) {\n    margin-left: 0px;\n}\n.spider_form_data .elbtnStyle .restBtngather {\n    margin-left: 9px;\n}\n.spider_form_data .bottomFixed {\n    position: fixed;\n    bottom: 0;\n    z-index: 1000;\n    padding: 8px 0 12px 32px;\n    margin-left: -32px;\n    box-shadow: 2px 0px 5px #ccc;\n    background: white;\n    margin-bottom: 0;\n    width: 100%;\n}\n.spider_form_data .el-input-number.is-controls-right .el-input__inner {\n    text-align: left;\n}\n.spider_form_data .el-form-item--medium .el-form-item__label {\n    color: #aaa;\n}\n.spider_form_data .tagList .el-tag {\n    margin-bottom: 8px;\n    margin-right: 8px;\n}\n.spider_form_data .el-cascader {\n    width: 100%;\n}\n.spider_form_data #tops_qrcode {\n    margin: 12px 0;\n}\n.disabledStyle .el-form .el-form-item {\n  margin-bottom: 0 !important;\n}\n.disabledStyle .el-form .el-form-item__content p {\n  margin: 0;\n}\n.searchFlag {\n  padding: 0;\n  width: 800px;\n}\n.searchFlag .el-form-item {\n    margin-bottom: 0 !important;\n}\n.searchFlag .el-button {\n    width: auto;\n    margin-left: 9px;\n}\n.searchFlag .restBtn {\n    margin-left: 8px;\n}\n.searchFlag .el-date-editor.el-input {\n    width: 100%;\n}\n.searchFlag .el-select {\n    width: auto;\n}\n.modelForm {\n  width: 100%;\n}\n.el-autocomplete-suggestion.el-popper.is-loading {\n  display: none;\n}\n.noDataHidden {\n  display: none;\n}\n.el-button.el-picker-panel__link-btn.el-button--text.el-button--mini {\n  display: none;\n}\nbutton.el-button.el-button--default.el-button--small.restBtn {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.el-message.el-message--error {\n  z-index: 9999 !important;\n}\n",""])},function(e,t,n){var i=n(20);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(1).default)("316890f9",i,!0,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.edui-default .edui-editor-toolbarboxinner {\n  line-height: 20px;\n}\n",""])},function(e,t,n){var i=n(22);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(1).default)("3b2e0748",i,!0,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.sf_upload .upload {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n.sf_upload .uploadSHow .el-upload.el-upload--picture-card {\n  display: none;\n}\n.sf_upload .el-upload-list.el-upload-list--picture-card.is-disabled + .el-upload.el-upload--picture-card {\n  display: none;\n}\n.sf_upload .el-upload.el-upload--picture-card {\n  line-height: normal;\n  width: auto;\n  height: auto;\n  border: none;\n}\n.sf_upload ul.draggable {\n  padding-left: 0;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  margin: 0;\n}\n.sf_upload ul.draggable li {\n    position: relative;\n    list-style-type: none;\n    width: 146px;\n    height: 146px;\n    margin: 0 10px 8px 0;\n    border-radius: 4px;\n    overflow: hidden;\n}\n.sf_upload ul.draggable li .sortAndCkeck {\n      background: none;\n      position: absolute;\n      top: 0;\n      left: 0px;\n      display: flex;\n      flex-flow: row;\n      justify-content: space-between;\n      width: 100%;\n      align-items: flex-start;\n}\n.sf_upload ul.draggable li .sortAndCkeck span {\n        padding-left: 4px;\n        font-size: 16px;\n        color: white;\n        line-height: initial;\n}\n.sf_upload ul.draggable li .sortAndCkeck .el-checkbox {\n        padding-right: 4px;\n        line-height: initial;\n}\n.sf_upload ul.draggable li .facePic {\n      position: absolute;\n      right: -17px;\n      bottom: -7px;\n      width: 46px;\n      height: 26px;\n      background: #13ce66;\n      text-align: center;\n      transform: rotate(-45deg);\n      box-shadow: 0 1px 1px #ccc;\n}\n.sf_upload ul.draggable li img {\n      width: 100%;\n      height: 100%;\n      vertical-align: bottom;\n}\n.sf_upload ul.draggable li .icon {\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      left: 0;\n      top: 0;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      background: rgba(0, 0, 0, 0.5);\n      opacity: 0;\n      transition: opacity 0.3s;\n}\n.sf_upload ul.draggable li .icon i {\n        width: 20px;\n        height: 20px;\n        font-size: 20px;\n        color: white;\n        margin-left: 15px;\n}\n.sf_upload ul.draggable li .icon i:nth-child(1) {\n        margin-left: 0;\n}\n.sf_upload ul.draggable li .icon:hover {\n      opacity: 1;\n}\n.sf_upload .hint p {\n  margin: 0;\n  height: 32px;\n  line-height: 32px;\n}\n.sf_upload .uploadVideo {\n  position: relative;\n  width: 146px;\n  height: 146px;\n}\n.sf_upload .uploadVideo span {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    z-index: 1000;\n    background: #ccc;\n    text-align: center;\n    line-height: 20px;\n    width: 100%;\n    cursor: pointer;\n    color: red;\n}\n.sf_upload .uploadImgOrVideo {\n  margin-left: 0;\n}\n.sf_upload .video {\n  width: 100%;\n  height: 128px;\n}\n.sf_upload .deleteShow {\n  height: 148px;\n}\n",""])},function(t,n,i){var r,o;
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
!function(e){"use strict";void 0===(o="function"==typeof(r=e)?r.call(n,i,n,t):r)||(t.exports=o)}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};function A(e,t){if(!e||!e.getBoundingClientRect)return fe();var n=e,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=_e(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n||!n.getBoundingClientRect||n===Q.body)return fe();if(i||t)return n;i=!0}}}while(n=n.parentNode);return fe()}function I(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function i(e){S&&S.parentNode&&S.parentNode[G]&&S.parentNode[G]._computeIsAligned(e)}function f(){!re&&h&&_e(h,"display","none")}function m(){!re&&h&&_e(h,"display","")}var S,T,h,p,U,k,g,D,R,L,B,r,O,o,P,M,s,l,d,v,H,F,$,j,z,q,b,W,V=[],J=!1,y=!1,Y=!1,c=[],K=!1,X=!1,x=[],a=/\s+/g,G="Sortable"+(new Date).getTime(),w=window,Q=w.document,C=w.parseInt,Z=w.setTimeout,t=w.jQuery||w.Zepto,n=w.Polymer,u={capture:!1,passive:!1},_=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),N=!!navigator.userAgent.match(/Edge/i),E=!!navigator.userAgent.match(/firefox/i),ee=!(!navigator.userAgent.match(/safari/i)||navigator.userAgent.match(/chrome/i)||navigator.userAgent.match(/android/i)),te=!!navigator.userAgent.match(/iP(ad|od|hone)/i),ne=N||_?"cssFloat":"float",ie="draggable"in Q.createElement("div"),re=function(){if(_)return!1;var e=Q.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),oe=!1,ae=!1,se=Math.abs,le=Math.min,de=Math.max,ce=[],ue=function(e,t){var n=_e(e),i=C(n.width)-C(n.paddingLeft)-C(n.paddingRight)-C(n.borderLeftWidth)-C(n.borderRightWidth),r=Be(e,0,t),o=Be(e,1,t),a=r&&_e(r),s=o&&_e(o),l=a&&C(a.marginLeft)+C(a.marginRight)+Fe(r).width,d=s&&C(s.marginLeft)+C(s.marginRight)+Fe(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&"none"!==a.float){var c="left"===a.float?"left":"right";return!o||"both"!==s.clear&&s.clear!==c?"horizontal":"vertical"}return r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||i<=l&&"none"===n[ne]||o&&"none"===n[ne]&&i<l+d)?"vertical":"horizontal"},fe=function(){return _?Q.documentElement:Q.scrollingElement},me=e(function(n,e,t,i){if(e.scroll){var r=t?t[G]:window,o=e.scrollSensitivity,a=e.scrollSpeed,s=n.clientX,l=n.clientY,d=fe(),c=!1;R!==t&&(he(),D=e.scroll,L=e.scrollFn,!0===D&&(D=A(t,!0),R=D));var u=0,f=D;do{var m,h,p,g,v,b,y,x,w,C=f,_=Fe(C),N=_.top,E=_.bottom,S=_.left,T=_.right,U=_.width,k=_.height;if(m=C.scrollWidth,h=C.scrollHeight,p=_e(C),x=C.scrollLeft,w=C.scrollTop,y=C===d?(b=U<m&&("auto"===p.overflowX||"scroll"===p.overflowX||"visible"===p.overflowX),k<h&&("auto"===p.overflowY||"scroll"===p.overflowY||"visible"===p.overflowY)):(b=U<m&&("auto"===p.overflowX||"scroll"===p.overflowX),k<h&&("auto"===p.overflowY||"scroll"===p.overflowY)),g=b&&(se(T-s)<=o&&x+U<m)-(se(S-s)<=o&&!!x),v=y&&(se(E-l)<=o&&w+k<h)-(se(N-l)<=o&&!!w),!V[u])for(var B=0;B<=u;B++)V[B]||(V[B]={});V[u].vx==g&&V[u].vy==v&&V[u].el===C||(V[u].el=C,V[u].vx=g,V[u].vy=v,clearInterval(V[u].pid),!C||0==g&&0==v||(c=!0,V[u].pid=setInterval(function(){i&&0===this.layer&&(be.active._emulateDragOver(!0),be.active._onTouchMove(H,!0));var e=V[this.layer].vy?V[this.layer].vy*a:0,t=V[this.layer].vx?V[this.layer].vx*a:0;"function"==typeof L&&"continue"!==L.call(r,t,e,n,H,V[this.layer].el)||I(V[this.layer].el,t,e)}.bind({layer:u}),24))),u++}while(e.bubbleScroll&&f!==d&&(f=A(f,!1)));J=c}},30),he=function(){V.forEach(function(e){clearInterval(e.pid)}),V=[]},pe=function(e){function l(a,s){return function(e,t,n,i){var r=e.options.group.name&&t.options.group.name&&e.options.group.name===t.options.group.name;if(null==a&&(s||r))return!0;if(null==a||!1===a)return!1;if(s&&"clone"===a)return a;if("function"==typeof a)return l(a(e,t,n,i),s)(e,t,n,i);var o=(s?e:t).options.group.name;return!0===a||"string"==typeof a&&a===o||a.join&&-1<a.indexOf(o)}}var t={},n=e.group;n&&"object"==typeof n||(n={name:n}),t.name=n.name,t.checkPull=l(n.pull,!0),t.checkPut=l(n.put),t.revertClone=n.revertClone,e.group=t};Q.addEventListener("click",function(e){if(Y)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Y=!1},!0);function ge(e){if(S){var t=function(e,t){for(var n=0;n<c.length;n++)if(!Ae(c[n])){var i=Fe(c[n]),r=c[n][G].options.emptyInsertThreshold,o=e>=i.left-r&&e<=i.right+r,a=t>=i.top-r&&t<=i.bottom+r;if(r&&o&&a)return c[n]}}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var n={};for(var i in e)n[i]=e[i];n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[G]._onDragOver(n)}}}var ve;function be(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(e);this.el=e,this.options=t=Oe({},t),e[G]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ue(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:C(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==be.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var i in n)i in t||(t[i]=n[i]);for(var r in pe(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&ie,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?xe(e,"pointerdown",this._onTapStart):(xe(e,"mousedown",this._onTapStart),xe(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(xe(e,"dragover",this),xe(e,"dragenter",this)),c.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[])}function ye(e,t,n,i){if(e){n=n||Q;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&Le(e,t):Le(e,t))||i&&e===n)return e;if(e===n)break}while(e=(r=e).host&&r!==Q&&r.host.nodeType?r.host:r.parentNode)}var r;return null}function xe(e,t,n){e.addEventListener(t,n,!_&&u)}function we(e,t,n){e.removeEventListener(t,n,!_&&u)}function Ce(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(a," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(a," ")}}function _e(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return Q.defaultView&&Q.defaultView.getComputedStyle?n=Q.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||-1!==t.indexOf("webkit")||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function Ne(e){var t="";do{var n=_e(e,"transform");n&&"none"!==n&&(t=n+" "+t)}while(e=e.parentNode);return window.DOMMatrix?new DOMMatrix(t):window.WebKitCSSMatrix?new WebKitCSSMatrix(t):window.CSSMatrix?new CSSMatrix(t):void 0}function Ee(e,t,n){if(e){var i=e.getElementsByTagName(t),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function Se(e,t,n,i,r,o,a,s,l,d,c){var u,f=(e=e||t[G]).options,m="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||_||N?(u=Q.createEvent("Event")).initEvent(n,!0,!0):u=new CustomEvent(n,{bubbles:!0,cancelable:!0}),u.to=r||t,u.from=o||t,u.item=i||t,u.clone=p,u.oldIndex=a,u.newIndex=s,u.oldDraggableIndex=l,u.newDraggableIndex=d,u.originalEvent=c,u.pullMode=M?M.lastPutMode:void 0,t&&t.dispatchEvent(u),f[m]&&f[m].call(e,u)}function Te(e,t,n,i,r,o,a,s){var l,d,c=e[G],u=c.options.onMove;return!window.CustomEvent||_||N?(l=Q.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=i,l.related=r||t,l.relatedRect=o||Fe(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),u&&(d=u.call(c,l,a)),d}function Ue(e){e.draggable=!1}function ke(){oe=!1}function Be(e,t,n){for(var i=0,r=0,o=e.children;r<o.length;){if("none"!==o[r].style.display&&o[r]!==h&&o[r]!==S&&ye(o[r],n.draggable,e,!1)){if(i===t)return o[r];i++}r++}return null}function Ae(e){for(var t=e.lastElementChild;t&&(t===h||"none"===_e(t,"display"));)t=t.previousElementSibling;return t||null}function Ie(e){return Re(S)<Re(e)?1:-1}function De(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function Re(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e&&e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===p||t&&!Le(e,t)||n++;return n}function Le(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function e(n,i){return function(){if(!ve){var e=arguments,t=this;ve=Z(function(){1===e.length?n.call(t,e[0]):n.apply(t,e),ve=void 0},i)}}}function Oe(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Pe(e){return n&&n.dom?n.dom(e).cloneNode(!0):t?t(e).clone(!0)[0]:e.cloneNode(!0)}function Me(e){return Z(e,0)}function He(e){return clearTimeout(e)}function Fe(e,t,n,i){if(e.getBoundingClientRect||e===w){var r,o,a,s,l,d,c;if(c=e!==w&&e!==fe()?(o=(r=e.getBoundingClientRect()).top,a=r.left,s=r.bottom,l=r.right,d=r.height,r.width):(a=o=0,s=window.innerHeight,l=window.innerWidth,d=window.innerHeight,window.innerWidth),i&&e!==w&&(n=n||e.parentNode,!_))do{if(n&&n.getBoundingClientRect&&"none"!==_e(n,"transform")){var u=n.getBoundingClientRect();o-=u.top+C(_e(n,"border-top-width")),a-=u.left+C(_e(n,"border-left-width")),s=o+r.height,l=a+r.width;break}}while(n=n.parentNode);if(t&&e!==w){var f=Ne(n||e),m=f&&f.a,h=f&&f.d;f&&(s=(o/=h)+(d/=h),l=(a/=m)+(c/=m))}return{top:o,left:a,bottom:s,right:l,width:c,height:d}}}function $e(e,t){for(var n=A(e,!0),i=Fe(e)[t];n;){var r=Fe(n)[t];if(!("top"===t||"left"===t?r<=i:i<=r))return n;if(n===fe())break;n=A(n,!1)}return!1}function je(e){var t=0,n=0,i=fe();if(e)do{var r=Ne(e),o=r.a,a=r.d;t+=e.scrollLeft*o,n+=e.scrollTop*a}while(e!==i&&(e=e.parentNode));return[t,n]}return be.prototype={constructor:be,_computeIsAligned:function(e){var t;if(h&&!re?(f(),t=Q.elementFromPoint(e.clientX,e.clientY),m()):t=e.target,t=ye(t,this.options.draggable,this.el,!1),!ae&&S&&S.parentNode===this.el){for(var n,i,r,o,a,s,l,d,c=this.el.children,u=0;u<c.length;u++)ye(c[u],this.options.draggable,this.el,!1)&&c[u]!==t&&(c[u].sortableMouseAligned=(n=e.clientX,i=e.clientY,r=c[u],o=this._getDirection(e,null),this.options,void 0,a=Fe(r),s="vertical"===o?a.left:a.top,l="vertical"===o?a.right:a.bottom,s<(d="vertical"===o?n:i)&&d<l));ye(t,this.options.draggable,this.el,!0)||($=null),ae=!0,Z(function(){ae=!1},30)}},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,S):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t,n,i=this,r=this.el,o=this.options,a=o.preventOnFilter,s=e.type,l=e.touches&&e.touches[0],d=(l||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||d,u=o.filter;if(function(e){ce.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var i=t[n];i.checked&&ce.push(i)}}(r),!S&&!(/mousedown|pointerdown/.test(s)&&0!==e.button||o.disabled||c.isContentEditable||(d=ye(d,o.draggable,r,!1),g===d))){if(t=Re(d),n=Re(d,o.draggable),"function"==typeof u){if(u.call(this,e,d,this))return Se(i,c,"filter",d,r,r,t,void 0,n),void(a&&e.cancelable&&e.preventDefault())}else if(u=u&&u.split(",").some(function(e){if(e=ye(c,e.trim(),r,!1))return Se(i,e,"filter",d,r,r,t,void 0,n),!0}))return void(a&&e.cancelable&&e.preventDefault());o.handle&&!ye(c,o.handle,r,!1)||this._prepareDragStart(e,l,d,t,n)}}},_handleAutoScroll:function(t,n){if(S&&this.options.scroll){var i=t.clientX,r=t.clientY,e=Q.elementFromPoint(i,r),o=this;if(n||N||_||ee){me(t,o.options,e,n);var a=A(e,!0);!J||s&&i===l&&r===d||(s&&clearInterval(s),s=setInterval(function(){if(S){var e=A(Q.elementFromPoint(i,r),!0);e!==a&&(a=e,he(),me(t,o.options,a,n))}},10),l=i,d=r)}else{if(!o.options.bubbleScroll||A(e,!0)===fe())return void he();me(t,o.options,A(e,!1),!1)}}},_prepareDragStart:function(e,t,n,i,r){var o,a=this,s=a.el,l=a.options,d=s.ownerDocument;n&&!S&&n.parentNode===s&&(U=s,T=(S=n).parentNode,k=S.nextSibling,g=n,P=l.group,B=i,O=r,v={target:S,clientX:(t||e).clientX,clientY:(t||e).clientY},this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,S.style["will-change"]="all",S.style.transition="",S.style.transform="",o=function(){a._disableDelayedDragEvents(),!E&&a.nativeDraggable&&(S.draggable=!0),a._triggerDragStart(e,t),Se(a,U,"choose",S,U,U,B,void 0,O),Ce(S,l.chosenClass,!0)},l.ignore.split(",").forEach(function(e){Ee(S,e.trim(),Ue)}),xe(d,"dragover",ge),xe(d,"mousemove",ge),xe(d,"touchmove",ge),xe(d,"mouseup",a._onDrop),xe(d,"touchend",a._onDrop),xe(d,"touchcancel",a._onDrop),E&&this.nativeDraggable&&(this.options.touchStartThreshold=4,S.draggable=!0),!l.delay||l.delayOnTouchOnly&&!t||this.nativeDraggable&&(N||_)?o():(xe(d,"mouseup",a._disableDelayedDrag),xe(d,"touchend",a._disableDelayedDrag),xe(d,"touchcancel",a._disableDelayedDrag),xe(d,"mousemove",a._delayedDragTouchMoveHandler),xe(d,"touchmove",a._delayedDragTouchMoveHandler),l.supportPointer&&xe(d,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=Z(o,l.delay)))},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;de(se(t.clientX-this._lastX),se(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){S&&Ue(S),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;we(e,"mouseup",this._disableDelayedDrag),we(e,"touchend",this._disableDelayedDrag),we(e,"touchcancel",this._disableDelayedDrag),we(e,"mousemove",this._delayedDragTouchMoveHandler),we(e,"touchmove",this._delayedDragTouchMoveHandler),we(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||("touch"==e.pointerType?e:null),!this.nativeDraggable||t?this.options.supportPointer?xe(Q,"pointermove",this._onTouchMove):xe(Q,t?"touchmove":"mousemove",this._onTouchMove):(xe(S,"dragend",this),xe(U,"dragstart",this._onDragStart));try{Q.selection?Me(function(){Q.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(y=!1,U&&S){this.nativeDraggable&&(xe(Q,"dragover",this._handleAutoScroll),xe(Q,"dragover",i));var n=this.options;e||Ce(S,n.dragClass,!1),Ce(S,n.ghostClass,!0),_e(S,"transform",""),be.active=this,e&&this._appendGhost(),Se(this,U,"start",S,U,U,B,void 0,O,void 0,t)}else this._nulling()},_emulateDragOver:function(e){if(H){if(this._lastX===H.clientX&&this._lastY===H.clientY&&!e)return;this._lastX=H.clientX,this._lastY=H.clientY,f();for(var t=Q.elementFromPoint(H.clientX,H.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(H.clientX,H.clientY))!==n;)n=t;if(n)do{if(n[G])if(n[G]._onDragOver({clientX:H.clientX,clientY:H.clientY,target:t,rootEl:n})&&!this.options.dragoverBubble)break;t=n}while(n=n.parentNode);S.parentNode[G]._computeIsAligned(H),m()}},_onTouchMove:function(e,t){if(v){var n=this.options,i=n.fallbackTolerance,r=n.fallbackOffset,o=e.touches?e.touches[0]:e,a=h&&Ne(h),s=h&&a&&a.a,l=h&&a&&a.d,d=te&&b&&je(b),c=(o.clientX-v.clientX+r.x)/(s||1)+(d?d[0]-x[0]:0)/(s||1),u=(o.clientY-v.clientY+r.y)/(l||1)+(d?d[1]-x[1]:0)/(l||1),f=e.touches?"translate3d("+c+"px,"+u+"px,0)":"translate("+c+"px,"+u+"px)";if(!be.active&&!y){if(i&&le(se(o.clientX-this._lastX),se(o.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}t||this._handleAutoScroll(o,!0),F=!0,H=o,_e(h,"webkitTransform",f),_e(h,"mozTransform",f),_e(h,"msTransform",f),_e(h,"transform",f),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!h){var e=this.options.fallbackOnBody?Q.body:U,t=Fe(S,!0,e,!te),n=(_e(S),this.options);if(te){for(b=e;"static"===_e(b,"position")&&"none"===_e(b,"transform")&&b!==Q;)b=b.parentNode;if(b!==Q){var i=Fe(b,!0);t.top-=i.top,t.left-=i.left}b!==Q.body&&b!==Q.documentElement?(b===Q&&(b=fe()),t.top+=b.scrollTop,t.left+=b.scrollLeft):b=fe(),x=je(b)}Ce(h=S.cloneNode(!0),n.ghostClass,!1),Ce(h,n.fallbackClass,!0),Ce(h,n.dragClass,!0),_e(h,"box-sizing","border-box"),_e(h,"margin",0),_e(h,"top",t.top),_e(h,"left",t.left),_e(h,"width",t.width),_e(h,"height",t.height),_e(h,"opacity","0.8"),_e(h,"position",te?"absolute":"fixed"),_e(h,"zIndex","100000"),_e(h,"pointerEvents","none"),e.appendChild(h)}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,r=n.options;(p=Pe(S)).draggable=!1,p.style["will-change"]="",this._hideClone(),Ce(p,n.options.chosenClass,!1),n._cloneId=Me(function(){n.options.removeCloneOnHide||U.insertBefore(p,S),Se(n,U,"clone",S)}),t||Ce(S,r.dragClass,!0),t?(Y=!0,n._loopId=setInterval(n._emulateDragOver,50)):(we(Q,"mouseup",n._onDrop),we(Q,"touchend",n._onDrop),we(Q,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,S)),xe(Q,"drop",n),_e(S,"transform","translateZ(0)")),y=!0,n._dragStartId=Me(n._dragStarted.bind(n,t,e)),xe(Q,"selectstart",n),ee&&_e(Q.body,"user-select","none")},_onDragOver:function(t){var n,i,e,r=this.el,o=t.target,a=this.options,s=a.group,l=be.active,d=P===s,c=a.sort,u=this;if(!oe){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),F=!0,o=ye(o,a.draggable,r,!0),S.contains(t.target)||o.animated)return N(!1);if(o!==S&&(Y=!1),l&&!a.disabled&&(d?c||(e=!U.contains(S)):M===this||(this.lastPutMode=P.checkPull(this,l,S,t))&&s.checkPut(this,l,S,t))){var f=this._getDirection(t,o);if(n=Fe(S),e)return this._hideClone(),T=U,k?U.insertBefore(S,k):U.appendChild(S),N(!0);var m=Ae(r);if(!m||function(e,t,n){var i=Fe(Ae(n)),r="vertical"===t?e.clientY:e.clientX,o="vertical"===t?e.clientX:e.clientY,a="vertical"===t?i.bottom:i.right,s="vertical"===t?i.left:i.top,l="vertical"===t?i.right:i.bottom;return"vertical"===t?l+10<o||o<=l&&a<r&&s<=o:a<r&&s<o||r<=a&&l+10<o}(t,f,r)&&!m.animated){if(m&&r===t.target&&(o=m),o&&(i=Fe(o)),d?l._hideClone():l._showClone(this),!1!==Te(U,r,S,n,o,i,t,!!o))return r.appendChild(S),T=r,W=null,E(),N(!0)}else if(o&&o!==S&&o.parentNode===r){var h,p=0,g=o.sortableMouseAligned,v=S.parentNode!==r,b="vertical"===f?"top":"left",y=$e(o,"top")||$e(S,"top"),x=y?y.scrollTop:void 0;if($!==o&&(z=null,h=Fe(o)[b],K=!1),z=function(e,t,n){var i=e===S&&W||Fe(e),r=t===S&&W||Fe(t),o="vertical"===n?i.left:i.top,a="vertical"===n?i.right:i.bottom,s="vertical"===n?i.width:i.height,l="vertical"===n?r.left:r.top,d="vertical"===n?r.right:r.bottom,c="vertical"===n?r.width:r.height;return o===l||a===d||o+s/2===l+c/2}(S,o,f)&&g||v||y||a.invertSwap||"insert"===z||"swap"===z?("swap"!==z&&(X=a.invertSwap||v),p=function(e,t,n,i,r,o,a){var s=Fe(t),l="vertical"===n?e.clientY:e.clientX,d="vertical"===n?s.height:s.width,c="vertical"===n?s.top:s.left,u="vertical"===n?s.bottom:s.right,f=Fe(S),m=!1;if(!o)if(a&&q<d*i)if(!K&&(1===j?c+d*r/2<l:l<u-d*r/2)&&(K=!0),K)m=!0;else{"vertical"===n?f.top:f.left,"vertical"===n?f.bottom:f.right;if(1===j?l<c+q:u-q<l)return-1*j}else if(c+d*(1-i)/2<l&&l<u-d*(1-i)/2)return Ie(t);if((m=m||o)&&(l<c+d*r/2||u-d*r/2<l))return c+d/2<l?1:-1;return 0}(t,o,f,a.swapThreshold,null==a.invertedSwapThreshold?a.swapThreshold:a.invertedSwapThreshold,X,$===o),"swap"):(p=Ie(o),"insert"),0===p)return N(!1);W=null,j=p,i=Fe($=o);var w=o.nextElementSibling,C=!1,_=Te(U,r,S,n,o,i,t,C=1===p);if(!1!==_)return 1!==_&&-1!==_||(C=1===_),oe=!0,Z(ke,30),d?l._hideClone():l._showClone(this),C&&!w?r.appendChild(S):o.parentNode.insertBefore(S,C?w:o),y&&I(y,0,x-y.scrollTop),T=S.parentNode,void 0===h||X||(q=se(h-Fe(o)[b])),E(),N(!0)}if(r.contains(S))return N(!1)}return!1}function N(e){return e&&(d?l._hideClone():l._showClone(u),l&&(Ce(S,M?M.options.ghostClass:l.options.ghostClass,!1),Ce(S,a.ghostClass,!0)),M!==u&&u!==be.active?M=u:u===be.active&&(M=null),n&&u._animate(n,S),o&&i&&u._animate(i,o)),(o===S&&!S.animated||o===r&&!o.animated)&&($=null),a.dragoverBubble||t.rootEl||o===Q||(u._handleAutoScroll(t),S.parentNode[G]._computeIsAligned(t),e||ge(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),!0}function E(){Se(u,U,"change",o,r,U,B,Re(S),O,Re(S,a.draggable),t)}},_animate:function(e,t){var n=this.options.animation;if(n){var i=Fe(t);if(t===S&&(W=i),1===e.nodeType&&(e=Fe(e)),e.left+e.width/2!==i.left+i.width/2||e.top+e.height/2!==i.top+i.height/2){var r=Ne(this.el),o=r&&r.a,a=r&&r.d;_e(t,"transition","none"),_e(t,"transform","translate3d("+(e.left-i.left)/(o||1)+"px,"+(e.top-i.top)/(a||1)+"px,0)"),this._repaint(t),_e(t,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),_e(t,"transform","translate3d(0,0,0)")}"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=Z(function(){_e(t,"transition",""),_e(t,"transform",""),t.animated=!1},n)}},_repaint:function(e){return e.offsetWidth},_offMoveEvents:function(){we(Q,"touchmove",this._onTouchMove),we(Q,"pointermove",this._onTouchMove),we(Q,"dragover",ge),we(Q,"mousemove",ge),we(Q,"touchmove",ge)},_offUpEvents:function(){var e=this.el.ownerDocument;we(e,"mouseup",this._onDrop),we(e,"touchend",this._onDrop),we(e,"pointerup",this._onDrop),we(e,"touchcancel",this._onDrop),we(Q,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;K=X=J=y=!1,clearInterval(this._loopId),clearInterval(s),he(),clearTimeout(ve),ve=void 0,clearTimeout(this._dragStartTimer),He(this._cloneId),He(this._dragStartId),we(Q,"mousemove",this._onTouchMove),this.nativeDraggable&&(we(Q,"drop",this),we(t,"dragstart",this._onDragStart),we(Q,"dragover",this._handleAutoScroll),we(Q,"dragover",i)),ee&&_e(Q.body,"user-select",""),this._offMoveEvents(),this._offUpEvents(),e&&(F&&(e.cancelable&&e.preventDefault(),n.dropBubble||e.stopPropagation()),h&&h.parentNode&&h.parentNode.removeChild(h),(U===T||M&&"clone"!==M.lastPutMode)&&p&&p.parentNode&&p.parentNode.removeChild(p),S&&(this.nativeDraggable&&we(S,"dragend",this),Ue(S),S.style["will-change"]="",Ce(S,M?M.options.ghostClass:this.options.ghostClass,!1),Ce(S,this.options.chosenClass,!1),Se(this,U,"unchoose",S,T,U,B,null,O,null,e),U!==T?(r=Re(S),o=Re(S,n.draggable),0<=r&&(Se(null,T,"add",S,T,U,B,r,O,o,e),Se(this,U,"remove",S,T,U,B,r,O,o,e),Se(null,T,"sort",S,T,U,B,r,O,o,e),Se(this,U,"sort",S,T,U,B,r,O,o,e)),M&&M.save()):S.nextSibling!==k&&(r=Re(S),o=Re(S,n.draggable),0<=r&&(Se(this,U,"update",S,T,U,B,r,O,o,e),Se(this,U,"sort",S,T,U,B,r,O,o,e))),be.active&&(null!=r&&-1!==r||(r=B,o=O),Se(this,U,"end",S,T,U,B,r,O,o,e),this.save()))),this._nulling()},_nulling:function(){U=S=T=h=k=p=g=D=R=V.length=s=l=d=v=H=F=r=B=$=j=W=M=P=be.active=null,ce.forEach(function(e){e.checked=!0}),ce.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":S&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,r=n.length,o=this.options;i<r;i++)ye(e=n[i],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||De(e));return t},sort:function(e){var i={},r=this.el;this.toArray().forEach(function(e,t){var n=r.children[t];ye(n,this.options.draggable,r,!1)&&(i[e]=n)},this),e.forEach(function(e){i[e]&&(r.removeChild(i[e]),r.appendChild(i[e]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ye(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&pe(n)},destroy:function(){var e=this.el;e[G]=null,we(e,"mousedown",this._onTapStart),we(e,"touchstart",this._onTapStart),we(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(we(e,"dragover",this),we(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),c.splice(c.indexOf(this.el),1),this.el=e=null},_hideClone:function(){p.cloneHidden||(_e(p,"display","none"),p.cloneHidden=!0,p.parentNode&&this.options.removeCloneOnHide&&p.parentNode.removeChild(p))},_showClone:function(e){"clone"===e.lastPutMode?p.cloneHidden&&(U.contains(S)&&!this.options.group.revertClone?U.insertBefore(p,S):k?U.insertBefore(p,k):U.appendChild(p),this.options.group.revertClone&&this._animate(S,p),_e(p,"display",""),p.cloneHidden=!1):this._hideClone()}},xe(Q,"touchmove",function(e){(be.active||y)&&e.cancelable&&e.preventDefault()}),be.utils={on:xe,off:we,css:_e,find:Ee,is:function(e,t){return!!ye(e,t,e,!1)},extend:Oe,throttle:e,closest:ye,toggleClass:Ce,clone:Pe,index:Re,nextTick:Me,cancelNextTick:He,detectDirection:ue,getChild:Be},be.create=function(e,t){return new be(e,t)},be.version="1.9.0",be})},function(e,t,n){var i=n(25);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(1).default)("4735b6e6",i,!0,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.data_table {\n  width: 100%;\n}\n.data_table .el-table__fixed-right-patch {\n    background: #f5f7fa;\n}\n.data_table .pagination {\n    display: flex;\n    justify-content: flex-end;\n    padding: 12px 0 16px;\n}\n.data_table .pagination .el-pagination {\n      padding: 0;\n      width: auto;\n      display: flex;\n      justify-content: flex-end;\n}\n.data_table .pagination .currentPageCount {\n      font-weight: 400;\n      font-size: 13px;\n      color: #606266;\n      line-height: 28px;\n}\n.data_table .el-table {\n    border-bottom: 1px solid #ebeef5;\n    color: rgba(0, 0, 0, 0.65);\n}\n.data_table .el-table a {\n      color: #409eff;\n}\n.data_table .el-table td {\n    padding: 0;\n}\n.data_table .el-table td .cell {\n      max-height: 54px;\n      padding-top: 4px;\n      padding-bottom: 4px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      -webkit-line-clamp: 2;\n      -webkit-box-orient: vertical;\n      display: -webkit-box;\n      line-height: 21px;\n}\n.data_table .el-table td .cell p {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      -webkit-line-clamp: 2;\n      display: -webkit-box;\n      -webkit-box-orient: vertical;\n}\n.data_table .el-table td .cell a {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      -webkit-line-clamp: 2;\n      -webkit-box-orient: vertical;\n      display: -webkit-box;\n}\n.data_table .el-table td .cell p a {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      -webkit-line-clamp: 2;\n      -webkit-box-orient: vertical;\n      display: -webkit-box;\n}\n.data_table .noData {\n    height: auto;\n}\n.data_table .el-table th {\n    padding: 6px 0;\n    background-color: #f5f7fa;\n    color: #303133;\n}\n.data_table .el-table::before {\n    height: 0;\n}\n.data_table .el-table__row p {\n    margin: 0px 0;\n}\n.data_table .el-table thead tr {\n    height: 52px;\n}\n.data_table .el-table tbody tr td .cell {\n    padding-top: 7px;\n    padding-bottom: 7px;\n}\n",""])},function(e,j,z){(function(H,F){var $;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var ia,ra="Expected a function",oa="__lodash_hash_undefined__",aa="__lodash_placeholder__",sa=9007199254740991,la=NaN,da=4294967295,ca=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],ua="[object Arguments]",fa="[object Array]",ma="[object Boolean]",ha="[object Date]",pa="[object Error]",ga="[object Function]",va="[object GeneratorFunction]",ba="[object Map]",ya="[object Number]",xa="[object Object]",wa="[object Promise]",Ca="[object RegExp]",_a="[object Set]",Na="[object String]",Ea="[object Symbol]",Sa="[object WeakMap]",Ta="[object ArrayBuffer]",Ua="[object DataView]",ka="[object Float32Array]",Ba="[object Float64Array]",Aa="[object Int8Array]",Ia="[object Int16Array]",Da="[object Int32Array]",Ra="[object Uint8Array]",La="[object Uint8ClampedArray]",Oa="[object Uint16Array]",Pa="[object Uint32Array]",Ma=/\b__p \+= '';/g,Ha=/\b(__p \+=) '' \+/g,Fa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$a=/&(?:amp|lt|gt|quot|#39);/g,ja=/[&<>"']/g,za=RegExp($a.source),qa=RegExp(ja.source),Wa=/<%-([\s\S]+?)%>/g,Va=/<%([\s\S]+?)%>/g,Ja=/<%=([\s\S]+?)%>/g,Ya=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ka=/^\w*$/,Xa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ga=/[\\^$.*+?()[\]{}|]/g,Qa=RegExp(Ga.source),Za=/^\s+|\s+$/g,es=/^\s+/,ts=/\s+$/,ns=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,is=/\{\n\/\* \[wrapped with (.+)\] \*/,rs=/,? & /,os=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,as=/\\(\\)?/g,ss=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ls=/\w*$/,ds=/^[-+]0x[0-9a-f]+$/i,cs=/^0b[01]+$/i,us=/^\[object .+?Constructor\]$/,fs=/^0o[0-7]+$/i,ms=/^(?:0|[1-9]\d*)$/,hs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ps=/($^)/,gs=/['\n\r\u2028\u2029\\]/g,e="\\ud800-\\udfff",t="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",n="\\u2700-\\u27bf",i="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\ufe0e\\ufe0f",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="["+e+"]",l="["+a+"]",d="["+t+"]",c="\\d+",u="["+n+"]",f="["+i+"]",m="[^"+e+a+c+n+i+r+"]",h="\\ud83c[\\udffb-\\udfff]",p="[^"+e+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",b="["+r+"]",y="(?:"+f+"|"+m+")",x="(?:"+b+"|"+m+")",w="(?:['’](?:d|ll|m|re|s|t|ve))?",C="(?:['’](?:D|LL|M|RE|S|T|VE))?",_="(?:"+d+"|"+h+")"+"?",N="["+o+"]?",E=N+_+("(?:\\u200d(?:"+[p,g,v].join("|")+")"+N+_+")*"),S="(?:"+[u,g,v].join("|")+")"+E,T="(?:"+[p+d+"?",d,g,v,s].join("|")+")",vs=RegExp("['’]","g"),bs=RegExp(d,"g"),U=RegExp(h+"(?="+h+")|"+T+E,"g"),ys=RegExp([b+"?"+f+"+"+w+"(?="+[l,b,"$"].join("|")+")",x+"+"+C+"(?="+[l,b+y,"$"].join("|")+")",b+"?"+y+"+"+w,b+"+"+C,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",c,S].join("|"),"g"),k=RegExp("[\\u200d"+e+t+o+"]"),xs=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ws=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Cs=-1,_s={};_s[ka]=_s[Ba]=_s[Aa]=_s[Ia]=_s[Da]=_s[Ra]=_s[La]=_s[Oa]=_s[Pa]=!0,_s[ua]=_s[fa]=_s[Ta]=_s[ma]=_s[Ua]=_s[ha]=_s[pa]=_s[ga]=_s[ba]=_s[ya]=_s[xa]=_s[Ca]=_s[_a]=_s[Na]=_s[Sa]=!1;var Ns={};Ns[ua]=Ns[fa]=Ns[Ta]=Ns[Ua]=Ns[ma]=Ns[ha]=Ns[ka]=Ns[Ba]=Ns[Aa]=Ns[Ia]=Ns[Da]=Ns[ba]=Ns[ya]=Ns[xa]=Ns[Ca]=Ns[_a]=Ns[Na]=Ns[Ea]=Ns[Ra]=Ns[La]=Ns[Oa]=Ns[Pa]=!0,Ns[pa]=Ns[ga]=Ns[Sa]=!1;var B={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Es=parseFloat,Ss=parseInt,A="object"==typeof H&&H&&H.Object===Object&&H,I="object"==typeof self&&self&&self.Object===Object&&self,Ts=A||I||Function("return this")(),D=j&&!j.nodeType&&j,R=D&&"object"==typeof F&&F&&!F.nodeType&&F,Us=R&&R.exports===D,L=Us&&A.process,O=function(){try{var e=R&&R.require&&R.require("util").types;return e||L&&L.binding&&L.binding("util")}catch(e){}}(),ks=O&&O.isArrayBuffer,Bs=O&&O.isDate,As=O&&O.isMap,Is=O&&O.isRegExp,Ds=O&&O.isSet,Rs=O&&O.isTypedArray;function Ls(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Os(e,t,n,i){for(var r=-1,o=null==e?0:e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}function Ps(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function Ms(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Hs(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function Fs(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}function $s(e,t){return!!(null==e?0:e.length)&&-1<Xs(e,t,0)}function js(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function zs(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function qs(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function Ws(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function Vs(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function Js(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var P=el("length");function Ys(e,i,t){var r;return t(e,function(e,t,n){if(i(e,t,n))return r=t,!1}),r}function Ks(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function Xs(e,t,n){return t==t?function(e,t,n){var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):Ks(e,Qs,n)}function Gs(e,t,n,i){for(var r=n-1,o=e.length;++r<o;)if(i(e[r],t))return r;return-1}function Qs(e){return e!=e}function Zs(e,t){var n=null==e?0:e.length;return n?nl(e,t)/n:la}function el(t){return function(e){return null==e?ia:e[t]}}function M(t){return function(e){return null==t?ia:t[e]}}function tl(e,i,r,o,t){return t(e,function(e,t,n){r=o?(o=!1,e):i(r,e,t,n)}),r}function nl(e,t){for(var n,i=-1,r=e.length;++i<r;){var o=t(e[i]);o!==ia&&(n=n===ia?o:n+o)}return n}function il(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function rl(t){return function(e){return t(e)}}function ol(t,e){return zs(e,function(e){return t[e]})}function al(e,t){return e.has(t)}function sl(e,t){for(var n=-1,i=e.length;++n<i&&-1<Xs(t,e[n],0););return n}function ll(e,t){for(var n=e.length;n--&&-1<Xs(t,e[n],0););return n}var dl=M({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),cl=M({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ul(e){return"\\"+B[e]}function fl(e){return k.test(e)}function ml(e){var n=-1,i=Array(e.size);return e.forEach(function(e,t){i[++n]=[t,e]}),i}function hl(t,n){return function(e){return t(n(e))}}function pl(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n];a!==t&&a!==aa||(e[n]=aa,o[r++]=n)}return o}function gl(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function vl(e){return fl(e)?function(e){var t=U.lastIndex=0;for(;U.test(e);)++t;return t}(e):P(e)}function bl(e){return fl(e)?function(e){return e.match(U)||[]}(e):function(e){return e.split("")}(e)}var yl=M({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var xl=function e(t){var n,E=(t=null==t?Ts:xl.defaults(Ts.Object(),t,xl.pick(Ts,ws))).Array,i=t.Date,r=t.Error,g=t.Function,o=t.Math,p=t.Object,v=t.RegExp,c=t.String,b=t.TypeError,a=E.prototype,s=g.prototype,u=p.prototype,l=t["__core-js_shared__"],d=s.toString,x=u.hasOwnProperty,f=0,m=(n=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",h=u.toString,y=d.call(p),w=Ts._,C=v("^"+d.call(x).replace(Ga,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=Us?t.Buffer:ia,N=t.Symbol,S=t.Uint8Array,T=_?_.allocUnsafe:ia,U=hl(p.getPrototypeOf,p),k=p.create,B=u.propertyIsEnumerable,A=a.splice,I=N?N.isConcatSpreadable:ia,D=N?N.iterator:ia,R=N?N.toStringTag:ia,L=function(){try{var e=$n(p,"defineProperty");return e({},"",{}),e}catch(e){}}(),O=t.clearTimeout!==Ts.clearTimeout&&t.clearTimeout,P=i&&i.now!==Ts.Date.now&&i.now,M=t.setTimeout!==Ts.setTimeout&&t.setTimeout,H=o.ceil,F=o.floor,$=p.getOwnPropertySymbols,j=_?_.isBuffer:ia,z=t.isFinite,q=a.join,W=hl(p.keys,p),V=o.max,J=o.min,Y=i.now,K=t.parseInt,X=o.random,G=a.reverse,Q=$n(t,"DataView"),Z=$n(t,"Map"),ee=$n(t,"Promise"),te=$n(t,"Set"),ne=$n(t,"WeakMap"),ie=$n(p,"create"),re=ne&&new ne,oe={},ae=pi(Q),se=pi(Z),le=pi(ee),de=pi(te),ce=pi(ne),ue=N?N.prototype:ia,fe=ue?ue.valueOf:ia,me=ue?ue.toString:ia;function he(e){if(Ir(e)&&!wr(e)&&!(e instanceof ye)){if(e instanceof be)return e;if(x.call(e,"__wrapped__"))return gi(e)}return new be(e)}var pe=function(e){if(!Ar(e))return{};if(k)return k(e);ge.prototype=e;var t=new ge;return ge.prototype=ia,t};function ge(){}function ve(){}function be(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=ia}function ye(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=da,this.__views__=[]}function xe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function _e(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ce;++t<n;)this.add(e[t])}function Ne(e){var t=this.__data__=new we(e);this.size=t.size}function Ee(e,t){var n=wr(e),i=!n&&xr(e),r=!n&&!i&&Er(e),o=!n&&!i&&!r&&Fr(e),a=n||i||r||o,s=a?il(e.length,c):[],l=s.length;for(var d in e)!t&&!x.call(e,d)||a&&("length"==d||r&&("offset"==d||"parent"==d)||o&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||Yn(d,l))||s.push(d);return s}function Se(e){var t=e.length;return t?e[_t(0,t-1)]:ia}function Te(e,t){return ci(on(e),Oe(t,0,e.length))}function Ue(e){return ci(on(e))}function ke(e,t,n){(n===ia||vr(e[t],n))&&(n!==ia||t in e)||Re(e,t,n)}function Be(e,t,n){var i=e[t];x.call(e,t)&&vr(i,n)&&(n!==ia||t in e)||Re(e,t,n)}function Ae(e,t){for(var n=e.length;n--;)if(vr(e[n][0],t))return n;return-1}function Ie(e,i,r,o){return $e(e,function(e,t,n){i(o,e,r(e),n)}),o}function De(e,t){return e&&an(t,lo(t),e)}function Re(e,t,n){"__proto__"==t&&L?L(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Le(e,t){for(var n=-1,i=t.length,r=E(i),o=null==e;++n<i;)r[n]=o?ia:io(e,t[n]);return r}function Oe(e,t,n){return e==e&&(n!==ia&&(e=e<=n?e:n),t!==ia&&(e=t<=e?e:t)),e}function Pe(n,i,r,e,t,o){var a,s=1&i,l=2&i,d=4&i;if(r&&(a=t?r(n,e,t,o):r(n)),a!==ia)return a;if(!Ar(n))return n;var c=wr(n);if(c){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&x.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(n),!s)return on(n,a)}else{var u=qn(n),f=u==ga||u==va;if(Er(n))return Qt(n,s);if(u==xa||u==ua||f&&!t){if(a=l||f?{}:Vn(n),!s)return l?function(e,t){return an(e,zn(e),t)}(n,function(e,t){return e&&an(t,co(t),e)}(a,n)):function(e,t){return an(e,jn(e),t)}(n,De(a,n))}else{if(!Ns[u])return t?n:{};a=function(e,t,n){var i=e.constructor;switch(t){case Ta:return Zt(e);case ma:case ha:return new i(+e);case Ua:return function(e,t){var n=t?Zt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case ka:case Ba:case Aa:case Ia:case Da:case Ra:case La:case Oa:case Pa:return en(e,n);case ba:return new i;case ya:case Na:return new i(e);case Ca:return function(e){var t=new e.constructor(e.source,ls.exec(e));return t.lastIndex=e.lastIndex,t}(e);case _a:return new i;case Ea:return function(e){return fe?p(fe.call(e)):{}}(e)}}(n,u,s)}}var m=(o=o||new Ne).get(n);if(m)return m;o.set(n,a),Pr(n)?n.forEach(function(e){a.add(Pe(e,i,r,e,n,o))}):Dr(n)&&n.forEach(function(e,t){a.set(t,Pe(e,i,r,t,n,o))});var h=c?ia:(d?l?Rn:Dn:l?co:lo)(n);return Ps(h||n,function(e,t){h&&(e=n[t=e]),Be(a,t,Pe(e,i,r,t,n,o))}),a}function Me(e,t,n){var i=n.length;if(null==e)return!i;for(e=p(e);i--;){var r=n[i],o=t[r],a=e[r];if(a===ia&&!(r in e)||!o(a))return!1}return!0}function He(e,t,n){if("function"!=typeof e)throw new b(ra);return ai(function(){e.apply(ia,n)},t)}function Fe(e,t,n,i){var r=-1,o=$s,a=!0,s=e.length,l=[],d=t.length;if(!s)return l;n&&(t=zs(t,rl(n))),i?(o=js,a=!1):200<=t.length&&(o=al,a=!1,t=new _e(t));e:for(;++r<s;){var c=e[r],u=null==n?c:n(c);if(c=i||0!==c?c:0,a&&u==u){for(var f=d;f--;)if(t[f]===u)continue e;l.push(c)}else o(t,u,i)||l.push(c)}return l}he.templateSettings={escape:Wa,evaluate:Va,interpolate:Ja,variable:"",imports:{_:he}},(he.prototype=ve.prototype).constructor=he,(be.prototype=pe(ve.prototype)).constructor=be,(ye.prototype=pe(ve.prototype)).constructor=ye,xe.prototype.clear=function(){this.__data__=ie?ie(null):{},this.size=0},xe.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},xe.prototype.get=function(e){var t=this.__data__;if(ie){var n=t[e];return n===oa?ia:n}return x.call(t,e)?t[e]:ia},xe.prototype.has=function(e){var t=this.__data__;return ie?t[e]!==ia:x.call(t,e)},xe.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ie&&t===ia?oa:t,this},we.prototype.clear=function(){this.__data__=[],this.size=0},we.prototype.delete=function(e){var t=this.__data__,n=Ae(t,e);return!(n<0)&&(n==t.length-1?t.pop():A.call(t,n,1),--this.size,!0)},we.prototype.get=function(e){var t=this.__data__,n=Ae(t,e);return n<0?ia:t[n][1]},we.prototype.has=function(e){return-1<Ae(this.__data__,e)},we.prototype.set=function(e,t){var n=this.__data__,i=Ae(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Ce.prototype.clear=function(){this.size=0,this.__data__={hash:new xe,map:new(Z||we),string:new xe}},Ce.prototype.delete=function(e){var t=Hn(this,e).delete(e);return this.size-=t?1:0,t},Ce.prototype.get=function(e){return Hn(this,e).get(e)},Ce.prototype.has=function(e){return Hn(this,e).has(e)},Ce.prototype.set=function(e,t){var n=Hn(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},_e.prototype.add=_e.prototype.push=function(e){return this.__data__.set(e,oa),this},_e.prototype.has=function(e){return this.__data__.has(e)},Ne.prototype.clear=function(){this.__data__=new we,this.size=0},Ne.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ne.prototype.get=function(e){return this.__data__.get(e)},Ne.prototype.has=function(e){return this.__data__.has(e)},Ne.prototype.set=function(e,t){var n=this.__data__;if(n instanceof we){var i=n.__data__;if(!Z||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ce(i)}return n.set(e,t),this.size=n.size,this};var $e=dn(Ke),je=dn(Xe,!0);function ze(e,i){var r=!0;return $e(e,function(e,t,n){return r=!!i(e,t,n)}),r}function qe(e,t,n){for(var i=-1,r=e.length;++i<r;){var o=e[i],a=t(o);if(null!=a&&(s===ia?a==a&&!Hr(a):n(a,s)))var s=a,l=o}return l}function We(e,i){var r=[];return $e(e,function(e,t,n){i(e,t,n)&&r.push(e)}),r}function Ve(e,t,n,i,r){var o=-1,a=e.length;for(n=n||Jn,r=r||[];++o<a;){var s=e[o];0<t&&n(s)?1<t?Ve(s,t-1,n,i,r):qs(r,s):i||(r[r.length]=s)}return r}var Je=cn(),Ye=cn(!0);function Ke(e,t){return e&&Je(e,t,lo)}function Xe(e,t){return e&&Ye(e,t,lo)}function Ge(t,e){return Fs(e,function(e){return Ur(t[e])})}function Qe(e,t){for(var n=0,i=(t=Yt(t,e)).length;null!=e&&n<i;)e=e[hi(t[n++])];return n&&n==i?e:ia}function Ze(e,t,n){var i=t(e);return wr(e)?i:qs(i,n(e))}function et(e){return null==e?e===ia?"[object Undefined]":"[object Null]":R&&R in p(e)?function(e){var t=x.call(e,R),n=e[R];try{e[R]=ia;var i=!0}catch(e){}var r=h.call(e);i&&(t?e[R]=n:delete e[R]);return r}(e):function(e){return h.call(e)}(e)}function tt(e,t){return t<e}function nt(e,t){return null!=e&&x.call(e,t)}function it(e,t){return null!=e&&t in p(e)}function rt(e,t,n){for(var i=n?js:$s,r=e[0].length,o=e.length,a=o,s=E(o),l=1/0,d=[];a--;){var c=e[a];a&&t&&(c=zs(c,rl(t))),l=J(c.length,l),s[a]=!n&&(t||120<=r&&120<=c.length)?new _e(a&&c):ia}c=e[0];var u=-1,f=s[0];e:for(;++u<r&&d.length<l;){var m=c[u],h=t?t(m):m;if(m=n||0!==m?m:0,!(f?al(f,h):i(d,h,n))){for(a=o;--a;){var p=s[a];if(!(p?al(p,h):i(e[a],h,n)))continue e}f&&f.push(h),d.push(m)}}return d}function ot(e,t,n){var i=null==(e=ii(e,t=Yt(t,e)))?e:e[hi(Ti(t))];return null==i?ia:Ls(i,e,n)}function at(e){return Ir(e)&&et(e)==ua}function st(e,t,n,i,r){return e===t||(null==e||null==t||!Ir(e)&&!Ir(t)?e!=e&&t!=t:function(e,t,n,i,r,o){var a=wr(e),s=wr(t),l=a?fa:qn(e),d=s?fa:qn(t),c=(l=l==ua?xa:l)==xa,u=(d=d==ua?xa:d)==xa,f=l==d;if(f&&Er(e)){if(!Er(t))return!1;c=!(a=!0)}if(f&&!c)return o=o||new Ne,a||Fr(e)?An(e,t,n,i,r,o):function(e,t,n,i,r,o,a){switch(n){case Ua:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ta:return!(e.byteLength!=t.byteLength||!o(new S(e),new S(t)));case ma:case ha:case ya:return vr(+e,+t);case pa:return e.name==t.name&&e.message==t.message;case Ca:case Na:return e==t+"";case ba:var s=ml;case _a:var l=1&i;if(s=s||gl,e.size!=t.size&&!l)return!1;var d=a.get(e);if(d)return d==t;i|=2,a.set(e,t);var c=An(s(e),s(t),i,r,o,a);return a.delete(e),c;case Ea:if(fe)return fe.call(e)==fe.call(t)}return!1}(e,t,l,n,i,r,o);if(!(1&n)){var m=c&&x.call(e,"__wrapped__"),h=u&&x.call(t,"__wrapped__");if(m||h){var p=m?e.value():e,g=h?t.value():t;return o=o||new Ne,r(p,g,n,i,o)}}return f&&(o=o||new Ne,function(e,t,n,i,r,o){var a=1&n,s=Dn(e),l=s.length,d=Dn(t).length;if(l!=d&&!a)return!1;var c=l;for(;c--;){var u=s[c];if(!(a?u in t:x.call(t,u)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var m=!0;o.set(e,t),o.set(t,e);var h=a;for(;++c<l;){u=s[c];var p=e[u],g=t[u];if(i)var v=a?i(g,p,u,t,e,o):i(p,g,u,e,t,o);if(!(v===ia?p===g||r(p,g,n,i,o):v)){m=!1;break}h=h||"constructor"==u}if(m&&!h){var b=e.constructor,y=t.constructor;b!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y)&&(m=!1)}return o.delete(e),o.delete(t),m}(e,t,n,i,r,o))}(e,t,n,i,st,r))}function lt(e,t,n,i){var r=n.length,o=r,a=!i;if(null==e)return!o;for(e=p(e);r--;){var s=n[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<o;){var l=(s=n[r])[0],d=e[l],c=s[1];if(a&&s[2]){if(d===ia&&!(l in e))return!1}else{var u=new Ne;if(i)var f=i(d,c,l,e,t,u);if(!(f===ia?st(c,d,3,i,u):f))return!1}}return!0}function dt(e){return!(!Ar(e)||function(e){return!!m&&m in e}(e))&&(Ur(e)?C:us).test(pi(e))}function ct(e){return"function"==typeof e?e:null==e?Lo:"object"==typeof e?wr(e)?gt(e[0],e[1]):pt(e):qo(e)}function ut(e){if(!Zn(e))return W(e);var t=[];for(var n in p(e))x.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ft(e){if(!Ar(e))return function(e){var t=[];if(null!=e)for(var n in p(e))t.push(n);return t}(e);var t=Zn(e),n=[];for(var i in e)("constructor"!=i||!t&&x.call(e,i))&&n.push(i);return n}function mt(e,t){return e<t}function ht(e,i){var r=-1,o=_r(e)?E(e.length):[];return $e(e,function(e,t,n){o[++r]=i(e,t,n)}),o}function pt(t){var n=Fn(t);return 1==n.length&&n[0][2]?ti(n[0][0],n[0][1]):function(e){return e===t||lt(e,t,n)}}function gt(n,i){return Xn(n)&&ei(i)?ti(hi(n),i):function(e){var t=io(e,n);return t===ia&&t===i?ro(e,n):st(i,t,3)}}function vt(i,r,o,a,s){i!==r&&Je(r,function(e,t){if(s=s||new Ne,Ar(e))!function(e,t,n,i,r,o,a){var s=ri(e,n),l=ri(t,n),d=a.get(l);if(d)return ke(e,n,d);var c=o?o(s,l,n+"",e,t,a):ia,u=c===ia;if(u){var f=wr(l),m=!f&&Er(l),h=!f&&!m&&Fr(l);c=l,f||m||h?c=wr(s)?s:Nr(s)?on(s):m?Qt(l,!(u=!1)):h?en(l,!(u=!1)):[]:Lr(l)||xr(l)?xr(c=s)?c=Yr(s):Ar(s)&&!Ur(s)||(c=Vn(l)):u=!1}u&&(a.set(l,c),r(c,l,i,o,a),a.delete(l));ke(e,n,c)}(i,r,t,o,vt,a,s);else{var n=a?a(ri(i,t),e,t+"",i,r,s):ia;n===ia&&(n=e),ke(i,t,n)}},co)}function bt(e,t){var n=e.length;if(n)return Yn(t+=t<0?n:0,n)?e[t]:ia}function yt(e,i,n){var r=-1;return i=zs(i.length?i:[Lo],rl(Mn())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(ht(e,function(t,e,n){return{criteria:zs(i,function(e){return e(t)}),index:++r,value:t}}),function(e,t){return function(e,t,n){var i=-1,r=e.criteria,o=t.criteria,a=r.length,s=n.length;for(;++i<a;){var l=tn(r[i],o[i]);if(l){if(s<=i)return l;var d=n[i];return l*("desc"==d?-1:1)}}return e.index-t.index}(e,t,n)})}function xt(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var a=t[i],s=Qe(e,a);n(s,a)&&Ut(o,Yt(a,e),s)}return o}function wt(e,t,n,i){var r=i?Gs:Xs,o=-1,a=t.length,s=e;for(e===t&&(t=on(t)),n&&(s=zs(e,rl(n)));++o<a;)for(var l=0,d=t[o],c=n?n(d):d;-1<(l=r(s,c,l,i));)s!==e&&A.call(s,l,1),A.call(e,l,1);return e}function Ct(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==o){var o=r;Yn(r)?A.call(e,r,1):Ft(e,r)}}return e}function _t(e,t){return e+F(X()*(t-e+1))}function Nt(e,t){var n="";if(!e||t<1||sa<t)return n;for(;t%2&&(n+=e),(t=F(t/2))&&(e+=e),t;);return n}function Et(e,t){return si(ni(e,t,Lo),e+"")}function St(e){return Se(bo(e))}function Tt(e,t){var n=bo(e);return ci(n,Oe(t,0,n.length))}function Ut(e,t,n,i){if(!Ar(e))return e;for(var r=-1,o=(t=Yt(t,e)).length,a=o-1,s=e;null!=s&&++r<o;){var l=hi(t[r]),d=n;if(r!=a){var c=s[l];(d=i?i(c,l,s):ia)===ia&&(d=Ar(c)?c:Yn(t[r+1])?[]:{})}Be(s,l,d),s=s[l]}return e}var kt=re?function(e,t){return re.set(e,t),e}:Lo,Bt=L?function(e,t){return L(e,"toString",{configurable:!0,enumerable:!1,value:Io(t),writable:!0})}:Lo;function At(e){return ci(bo(e))}function It(e,t,n){var i=-1,r=e.length;t<0&&(t=r<-t?0:r+t),(n=r<n?r:n)<0&&(n+=r),r=n<t?0:n-t>>>0,t>>>=0;for(var o=E(r);++i<r;)o[i]=e[i+t];return o}function Dt(e,i){var r;return $e(e,function(e,t,n){return!(r=i(e,t,n))}),!!r}function Rt(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=e[o];null!==a&&!Hr(a)&&(n?a<=t:a<t)?i=1+o:r=o}return r}return Lt(e,t,Lo,n)}function Lt(e,t,n,i){t=n(t);for(var r=0,o=null==e?0:e.length,a=t!=t,s=null===t,l=Hr(t),d=t===ia;r<o;){var c=F((r+o)/2),u=n(e[c]),f=u!==ia,m=null===u,h=u==u,p=Hr(u);if(a)var g=i||h;else g=d?h&&(i||f):s?h&&f&&(i||!m):l?h&&f&&!m&&(i||!p):!m&&!p&&(i?u<=t:u<t);g?r=c+1:o=c}return J(o,4294967294)}function Ot(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n],s=t?t(a):a;if(!n||!vr(s,l)){var l=s;o[r++]=0===a?0:a}}return o}function Pt(e){return"number"==typeof e?e:Hr(e)?la:+e}function Mt(e){if("string"==typeof e)return e;if(wr(e))return zs(e,Mt)+"";if(Hr(e))return me?me.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ht(e,t,n){var i=-1,r=$s,o=e.length,a=!0,s=[],l=s;if(n)a=!1,r=js;else if(200<=o){var d=t?null:En(e);if(d)return gl(d);a=!1,r=al,l=new _e}else l=t?[]:s;e:for(;++i<o;){var c=e[i],u=t?t(c):c;if(c=n||0!==c?c:0,a&&u==u){for(var f=l.length;f--;)if(l[f]===u)continue e;t&&l.push(u),s.push(c)}else r(l,u,n)||(l!==s&&l.push(u),s.push(c))}return s}function Ft(e,t){return null==(e=ii(e,t=Yt(t,e)))||delete e[hi(Ti(t))]}function $t(e,t,n,i){return Ut(e,t,n(Qe(e,t)),i)}function jt(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?It(e,i?0:o,i?o+1:r):It(e,i?o+1:0,i?r:o)}function zt(e,t){var n=e;return n instanceof ye&&(n=n.value()),Ws(t,function(e,t){return t.func.apply(t.thisArg,qs([e],t.args))},n)}function qt(e,t,n){var i=e.length;if(i<2)return i?Ht(e[0]):[];for(var r=-1,o=E(i);++r<i;)for(var a=e[r],s=-1;++s<i;)s!=r&&(o[r]=Fe(o[r]||a,e[s],t,n));return Ht(Ve(o,1),t,n)}function Wt(e,t,n){for(var i=-1,r=e.length,o=t.length,a={};++i<r;){var s=i<o?t[i]:ia;n(a,e[i],s)}return a}function Vt(e){return Nr(e)?e:[]}function Jt(e){return"function"==typeof e?e:Lo}function Yt(e,t){return wr(e)?e:Xn(e,t)?[e]:mi(Kr(e))}var Kt=Et;function Xt(e,t,n){var i=e.length;return n=n===ia?i:n,!t&&i<=n?e:It(e,t,n)}var Gt=O||function(e){return Ts.clearTimeout(e)};function Qt(e,t){if(t)return e.slice();var n=e.length,i=T?T(n):new e.constructor(n);return e.copy(i),i}function Zt(e){var t=new e.constructor(e.byteLength);return new S(t).set(new S(e)),t}function en(e,t){var n=t?Zt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function tn(e,t){if(e!==t){var n=e!==ia,i=null===e,r=e==e,o=Hr(e),a=t!==ia,s=null===t,l=t==t,d=Hr(t);if(!s&&!d&&!o&&t<e||o&&a&&l&&!s&&!d||i&&a&&l||!n&&l||!r)return 1;if(!i&&!o&&!d&&e<t||d&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!l)return-1}return 0}function nn(e,t,n,i){for(var r=-1,o=e.length,a=n.length,s=-1,l=t.length,d=V(o-a,0),c=E(l+d),u=!i;++s<l;)c[s]=t[s];for(;++r<a;)(u||r<o)&&(c[n[r]]=e[r]);for(;d--;)c[s++]=e[r++];return c}function rn(e,t,n,i){for(var r=-1,o=e.length,a=-1,s=n.length,l=-1,d=t.length,c=V(o-s,0),u=E(c+d),f=!i;++r<c;)u[r]=e[r];for(var m=r;++l<d;)u[m+l]=t[l];for(;++a<s;)(f||r<o)&&(u[m+n[a]]=e[r++]);return u}function on(e,t){var n=-1,i=e.length;for(t=t||E(i);++n<i;)t[n]=e[n];return t}function an(e,t,n,i){var r=!n;n=n||{};for(var o=-1,a=t.length;++o<a;){var s=t[o],l=i?i(n[s],e[s],s,n,e):ia;l===ia&&(l=e[s]),r?Re(n,s,l):Be(n,s,l)}return n}function sn(r,o){return function(e,t){var n=wr(e)?Os:Ie,i=o?o():{};return n(e,r,Mn(t,2),i)}}function ln(s){return Et(function(e,t){var n=-1,i=t.length,r=1<i?t[i-1]:ia,o=2<i?t[2]:ia;for(r=3<s.length&&"function"==typeof r?(i--,r):ia,o&&Kn(t[0],t[1],o)&&(r=i<3?ia:r,i=1),e=p(e);++n<i;){var a=t[n];a&&s(e,a,n,r)}return e})}function dn(o,a){return function(e,t){if(null==e)return e;if(!_r(e))return o(e,t);for(var n=e.length,i=a?n:-1,r=p(e);(a?i--:++i<n)&&!1!==t(r[i],i,r););return e}}function cn(l){return function(e,t,n){for(var i=-1,r=p(e),o=n(e),a=o.length;a--;){var s=o[l?a:++i];if(!1===t(r[s],s,r))break}return e}}function un(r){return function(e){var t=fl(e=Kr(e))?bl(e):ia,n=t?t[0]:e.charAt(0),i=t?Xt(t,1).join(""):e.slice(1);return n[r]()+i}}function fn(t){return function(e){return Ws(ko(wo(e).replace(vs,"")),t,"")}}function mn(i){return function(){var e=arguments;switch(e.length){case 0:return new i;case 1:return new i(e[0]);case 2:return new i(e[0],e[1]);case 3:return new i(e[0],e[1],e[2]);case 4:return new i(e[0],e[1],e[2],e[3]);case 5:return new i(e[0],e[1],e[2],e[3],e[4]);case 6:return new i(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new i(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=pe(i.prototype),n=i.apply(t,e);return Ar(n)?n:t}}function hn(a){return function(e,t,n){var i=p(e);if(!_r(e)){var r=Mn(t,3);e=lo(e),t=function(e){return r(i[e],e,i)}}var o=a(e,t,n);return-1<o?i[r?e[o]:o]:ia}}function pn(l){return In(function(r){var o=r.length,e=o,t=be.prototype.thru;for(l&&r.reverse();e--;){var n=r[e];if("function"!=typeof n)throw new b(ra);if(t&&!a&&"wrapper"==On(n))var a=new be([],!0)}for(e=a?e:o;++e<o;){var i=On(n=r[e]),s="wrapper"==i?Ln(n):ia;a=s&&Gn(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?a[On(s[0])].apply(a,s[3]):1==n.length&&Gn(n)?a[i]():a.thru(n)}return function(){var e=arguments,t=e[0];if(a&&1==e.length&&wr(t))return a.plant(t).value();for(var n=0,i=o?r[n].apply(this,e):t;++n<o;)i=r[n].call(this,i);return i}})}function gn(d,c,u,f,m,h,p,g,v,b){var y=128&c,x=1&c,w=2&c,C=24&c,_=512&c,N=w?ia:mn(d);return function e(){for(var t=arguments.length,n=E(t),i=t;i--;)n[i]=arguments[i];if(C)var r=Pn(e),o=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}(n,r);if(f&&(n=nn(n,f,m,C)),h&&(n=rn(n,h,p,C)),t-=o,C&&t<b){var a=pl(n,r);return _n(d,c,gn,e.placeholder,u,n,a,g,v,b-t)}var s=x?u:this,l=w?s[d]:d;return t=n.length,g?n=function(e,t){for(var n=e.length,i=J(t.length,n),r=on(e);i--;){var o=t[i];e[i]=Yn(o,n)?r[o]:ia}return e}(n,g):_&&1<t&&n.reverse(),y&&v<t&&(n.length=v),this&&this!==Ts&&this instanceof e&&(l=N||mn(l)),l.apply(s,n)}}function vn(n,i){return function(e,t){return function(e,i,r,o){return Ke(e,function(e,t,n){i(o,r(e),t,n)}),o}(e,n,i(t),{})}}function bn(i,r){return function(e,t){var n;if(e===ia&&t===ia)return r;if(e!==ia&&(n=e),t!==ia){if(n===ia)return t;t="string"==typeof e||"string"==typeof t?(e=Mt(e),Mt(t)):(e=Pt(e),Pt(t)),n=i(e,t)}return n}}function yn(i){return In(function(e){return e=zs(e,rl(Mn())),Et(function(t){var n=this;return i(e,function(e){return Ls(e,n,t)})})})}function xn(e,t){var n=(t=t===ia?" ":Mt(t)).length;if(n<2)return n?Nt(t,e):t;var i=Nt(t,H(e/vl(t)));return fl(t)?Xt(bl(i),0,e).join(""):i.slice(0,e)}function wn(i){return function(e,t,n){return n&&"number"!=typeof n&&Kn(e,t,n)&&(t=n=ia),e=qr(e),t===ia?(t=e,e=0):t=qr(t),function(e,t,n,i){for(var r=-1,o=V(H((t-e)/(n||1)),0),a=E(o);o--;)a[i?o:++r]=e,e+=n;return a}(e,t,n=n===ia?e<t?1:-1:qr(n),i)}}function Cn(n){return function(e,t){return"string"==typeof e&&"string"==typeof t||(e=Jr(e),t=Jr(t)),n(e,t)}}function _n(e,t,n,i,r,o,a,s,l,d){var c=8&t;t|=c?32:64,4&(t&=~(c?64:32))||(t&=-4);var u=[e,t,r,c?o:ia,c?a:ia,c?ia:o,c?ia:a,s,l,d],f=n.apply(ia,u);return Gn(e)&&oi(f,u),f.placeholder=i,li(f,e,t)}function Nn(e){var i=o[e];return function(e,t){if(e=Jr(e),(t=null==t?0:J(Wr(t),292))&&z(e)){var n=(Kr(e)+"e").split("e");return+((n=(Kr(i(n[0]+"e"+(+n[1]+t)))+"e").split("e"))[0]+"e"+(+n[1]-t))}return i(e)}}var En=te&&1/gl(new te([,-0]))[1]==1/0?function(e){return new te(e)}:Fo;function Sn(n){return function(e){var t=qn(e);return t==ba?ml(e):t==_a?function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}(e):function(t,e){return zs(e,function(e){return[e,t[e]]})}(e,n(e))}}function Tn(e,t,n,i,r,o,a,s){var l=2&t;if(!l&&"function"!=typeof e)throw new b(ra);var d=i?i.length:0;if(d||(t&=-97,i=r=ia),a=a===ia?a:V(Wr(a),0),s=s===ia?s:Wr(s),d-=r?r.length:0,64&t){var c=i,u=r;i=r=ia}var f=l?ia:Ln(e),m=[e,t,n,i,r,c,u,o,a,s];if(f&&function(e,t){var n=e[1],i=t[1],r=n|i,o=r<131,a=128==i&&8==n||128==i&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!o&&!a)return;1&i&&(e[2]=t[2],r|=1&n?0:4);var s=t[3];if(s){var l=e[3];e[3]=l?nn(l,s,t[4]):s,e[4]=l?pl(e[3],aa):t[4]}(s=t[5])&&(l=e[5],e[5]=l?rn(l,s,t[6]):s,e[6]=l?pl(e[5],aa):t[6]);(s=t[7])&&(e[7]=s);128&i&&(e[8]=null==e[8]?t[8]:J(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(m,f),e=m[0],t=m[1],n=m[2],i=m[3],r=m[4],!(s=m[9]=m[9]===ia?l?0:e.length:V(m[9]-d,0))&&24&t&&(t&=-25),t&&1!=t)h=8==t||16==t?function(a,s,l){var d=mn(a);return function e(){for(var t=arguments.length,n=E(t),i=t,r=Pn(e);i--;)n[i]=arguments[i];var o=t<3&&n[0]!==r&&n[t-1]!==r?[]:pl(n,r);return(t-=o.length)<l?_n(a,s,gn,e.placeholder,ia,n,o,ia,ia,l-t):Ls(this&&this!==Ts&&this instanceof e?d:a,this,n)}}(e,t,s):32!=t&&33!=t||r.length?gn.apply(ia,m):function(s,e,l,d){var c=1&e,u=mn(s);return function e(){for(var t=-1,n=arguments.length,i=-1,r=d.length,o=E(r+n),a=this&&this!==Ts&&this instanceof e?u:s;++i<r;)o[i]=d[i];for(;n--;)o[i++]=arguments[++t];return Ls(a,c?l:this,o)}}(e,t,n,i);else var h=function(t,e,n){var i=1&e,r=mn(t);return function e(){return(this&&this!==Ts&&this instanceof e?r:t).apply(i?n:this,arguments)}}(e,t,n);return li((f?kt:oi)(h,m),e,t)}function Un(e,t,n,i){return e===ia||vr(e,u[n])&&!x.call(i,n)?t:e}function kn(e,t,n,i,r,o){return Ar(e)&&Ar(t)&&(o.set(t,e),vt(e,t,ia,kn,o),o.delete(t)),e}function Bn(e){return Lr(e)?ia:e}function An(e,t,n,i,r,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&s<l))return!1;var d=o.get(e);if(d&&o.get(t))return d==t;var c=-1,u=!0,f=2&n?new _e:ia;for(o.set(e,t),o.set(t,e);++c<s;){var m=e[c],h=t[c];if(i)var p=a?i(h,m,c,t,e,o):i(m,h,c,e,t,o);if(p!==ia){if(p)continue;u=!1;break}if(f){if(!Js(t,function(e,t){if(!al(f,t)&&(m===e||r(m,e,n,i,o)))return f.push(t)})){u=!1;break}}else if(m!==h&&!r(m,h,n,i,o)){u=!1;break}}return o.delete(e),o.delete(t),u}function In(e){return si(ni(e,ia,Ci),e+"")}function Dn(e){return Ze(e,lo,jn)}function Rn(e){return Ze(e,co,zn)}var Ln=re?function(e){return re.get(e)}:Fo;function On(e){for(var t=e.name+"",n=oe[t],i=x.call(oe,t)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function Pn(e){return(x.call(he,"placeholder")?he:e).placeholder}function Mn(){var e=he.iteratee||Oo;return e=e===Oo?ct:e,arguments.length?e(arguments[0],arguments[1]):e}function Hn(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Fn(e){for(var t=lo(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,ei(r)]}return t}function $n(e,t){var n=function(e,t){return null==e?ia:e[t]}(e,t);return dt(n)?n:ia}var jn=$?function(t){return null==t?[]:(t=p(t),Fs($(t),function(e){return B.call(t,e)}))}:Jo,zn=$?function(e){for(var t=[];e;)qs(t,jn(e)),e=U(e);return t}:Jo,qn=et;function Wn(e,t,n){for(var i=-1,r=(t=Yt(t,e)).length,o=!1;++i<r;){var a=hi(t[i]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&Br(r)&&Yn(a,r)&&(wr(e)||xr(e))}function Vn(e){return"function"!=typeof e.constructor||Zn(e)?{}:pe(U(e))}function Jn(e){return wr(e)||xr(e)||!!(I&&e&&e[I])}function Yn(e,t){var n=typeof e;return!!(t=null==t?sa:t)&&("number"==n||"symbol"!=n&&ms.test(e))&&-1<e&&e%1==0&&e<t}function Kn(e,t,n){if(!Ar(n))return!1;var i=typeof t;return!!("number"==i?_r(n)&&Yn(t,n.length):"string"==i&&t in n)&&vr(n[t],e)}function Xn(e,t){if(wr(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Hr(e))||(Ka.test(e)||!Ya.test(e)||null!=t&&e in p(t))}function Gn(e){var t=On(e),n=he[t];if("function"!=typeof n||!(t in ye.prototype))return!1;if(e===n)return!0;var i=Ln(n);return!!i&&e===i[0]}(Q&&qn(new Q(new ArrayBuffer(1)))!=Ua||Z&&qn(new Z)!=ba||ee&&qn(ee.resolve())!=wa||te&&qn(new te)!=_a||ne&&qn(new ne)!=Sa)&&(qn=function(e){var t=et(e),n=t==xa?e.constructor:ia,i=n?pi(n):"";if(i)switch(i){case ae:return Ua;case se:return ba;case le:return wa;case de:return _a;case ce:return Sa}return t});var Qn=l?Ur:Yo;function Zn(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||u)}function ei(e){return e==e&&!Ar(e)}function ti(t,n){return function(e){return null!=e&&(e[t]===n&&(n!==ia||t in p(e)))}}function ni(o,a,s){return a=V(a===ia?o.length-1:a,0),function(){for(var e=arguments,t=-1,n=V(e.length-a,0),i=E(n);++t<n;)i[t]=e[a+t];t=-1;for(var r=E(a+1);++t<a;)r[t]=e[t];return r[a]=s(i),Ls(o,this,r)}}function ii(e,t){return t.length<2?e:Qe(e,It(t,0,-1))}function ri(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var oi=di(kt),ai=M||function(e,t){return Ts.setTimeout(e,t)},si=di(Bt);function li(e,t,n){var i=t+"";return si(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(1<n?"& ":"")+t[i],t=t.join(2<n?", ":" "),e.replace(ns,"{\n/* [wrapped with "+t+"] */\n")}(i,function(n,i){return Ps(ca,function(e){var t="_."+e[0];i&e[1]&&!$s(n,t)&&n.push(t)}),n.sort()}(function(e){var t=e.match(is);return t?t[1].split(rs):[]}(i),n)))}function di(n){var i=0,r=0;return function(){var e=Y(),t=16-(e-r);if(r=e,0<t){if(800<=++i)return arguments[0]}else i=0;return n.apply(ia,arguments)}}function ci(e,t){var n=-1,i=e.length,r=i-1;for(t=t===ia?i:t;++n<t;){var o=_t(n,r),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var ui,fi,mi=(fi=(ui=ur(function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(Xa,function(e,t,n,i){r.push(n?i.replace(as,"$1"):t||e)}),r},function(e){return 500===fi.size&&fi.clear(),e})).cache,ui);function hi(e){if("string"==typeof e||Hr(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function pi(e){if(null!=e){try{return d.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function gi(e){if(e instanceof ye)return e.clone();var t=new be(e.__wrapped__,e.__chain__);return t.__actions__=on(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var vi=Et(function(e,t){return Nr(e)?Fe(e,Ve(t,1,Nr,!0)):[]}),bi=Et(function(e,t){var n=Ti(t);return Nr(n)&&(n=ia),Nr(e)?Fe(e,Ve(t,1,Nr,!0),Mn(n,2)):[]}),yi=Et(function(e,t){var n=Ti(t);return Nr(n)&&(n=ia),Nr(e)?Fe(e,Ve(t,1,Nr,!0),ia,n):[]});function xi(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:Wr(n);return r<0&&(r=V(i+r,0)),Ks(e,Mn(t,3),r)}function wi(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i-1;return n!==ia&&(r=Wr(n),r=n<0?V(i+r,0):J(r,i-1)),Ks(e,Mn(t,3),r,!0)}function Ci(e){return(null==e?0:e.length)?Ve(e,1):[]}function _i(e){return e&&e.length?e[0]:ia}var Ni=Et(function(e){var t=zs(e,Vt);return t.length&&t[0]===e[0]?rt(t):[]}),Ei=Et(function(e){var t=Ti(e),n=zs(e,Vt);return t===Ti(n)?t=ia:n.pop(),n.length&&n[0]===e[0]?rt(n,Mn(t,2)):[]}),Si=Et(function(e){var t=Ti(e),n=zs(e,Vt);return(t="function"==typeof t?t:ia)&&n.pop(),n.length&&n[0]===e[0]?rt(n,ia,t):[]});function Ti(e){var t=null==e?0:e.length;return t?e[t-1]:ia}var Ui=Et(ki);function ki(e,t){return e&&e.length&&t&&t.length?wt(e,t):e}var Bi=In(function(e,t){var n=null==e?0:e.length,i=Le(e,t);return Ct(e,zs(t,function(e){return Yn(e,n)?+e:e}).sort(tn)),i});function Ai(e){return null==e?e:G.call(e)}var Ii=Et(function(e){return Ht(Ve(e,1,Nr,!0))}),Di=Et(function(e){var t=Ti(e);return Nr(t)&&(t=ia),Ht(Ve(e,1,Nr,!0),Mn(t,2))}),Ri=Et(function(e){var t=Ti(e);return t="function"==typeof t?t:ia,Ht(Ve(e,1,Nr,!0),ia,t)});function Li(t){if(!t||!t.length)return[];var n=0;return t=Fs(t,function(e){if(Nr(e))return n=V(e.length,n),!0}),il(n,function(e){return zs(t,el(e))})}function Oi(e,t){if(!e||!e.length)return[];var n=Li(e);return null==t?n:zs(n,function(e){return Ls(t,ia,e)})}var Pi=Et(function(e,t){return Nr(e)?Fe(e,t):[]}),Mi=Et(function(e){return qt(Fs(e,Nr))}),Hi=Et(function(e){var t=Ti(e);return Nr(t)&&(t=ia),qt(Fs(e,Nr),Mn(t,2))}),Fi=Et(function(e){var t=Ti(e);return t="function"==typeof t?t:ia,qt(Fs(e,Nr),ia,t)}),$i=Et(Li);var ji=Et(function(e){var t=e.length,n=1<t?e[t-1]:ia;return n="function"==typeof n?(e.pop(),n):ia,Oi(e,n)});function zi(e){var t=he(e);return t.__chain__=!0,t}function qi(e,t){return t(e)}var Wi=In(function(t){function e(e){return Le(e,t)}var n=t.length,i=n?t[0]:0,r=this.__wrapped__;return!(1<n||this.__actions__.length)&&r instanceof ye&&Yn(i)?((r=r.slice(i,+i+(n?1:0))).__actions__.push({func:qi,args:[e],thisArg:ia}),new be(r,this.__chain__).thru(function(e){return n&&!e.length&&e.push(ia),e})):this.thru(e)});var Vi=sn(function(e,t,n){x.call(e,n)?++e[n]:Re(e,n,1)});var Ji=hn(xi),Yi=hn(wi);function Ki(e,t){return(wr(e)?Ps:$e)(e,Mn(t,3))}function Xi(e,t){return(wr(e)?Ms:je)(e,Mn(t,3))}var Gi=sn(function(e,t,n){x.call(e,n)?e[n].push(t):Re(e,n,[t])});var Qi=Et(function(e,t,n){var i=-1,r="function"==typeof t,o=_r(e)?E(e.length):[];return $e(e,function(e){o[++i]=r?Ls(t,e,n):ot(e,t,n)}),o}),Zi=sn(function(e,t,n){Re(e,n,t)});function er(e,t){return(wr(e)?zs:ht)(e,Mn(t,3))}var tr=sn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var nr=Et(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&Kn(e,t[0],t[1])?t=[]:2<n&&Kn(t[0],t[1],t[2])&&(t=[t[0]]),yt(e,Ve(t,1),[])}),ir=P||function(){return Ts.Date.now()};function rr(e,t,n){return t=n?ia:t,t=e&&null==t?e.length:t,Tn(e,128,ia,ia,ia,ia,t)}function or(e,t){var n;if("function"!=typeof t)throw new b(ra);return e=Wr(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=ia),n}}var ar=Et(function(e,t,n){var i=1;if(n.length){var r=pl(n,Pn(ar));i|=32}return Tn(e,i,t,n,r)}),sr=Et(function(e,t,n){var i=3;if(n.length){var r=pl(n,Pn(sr));i|=32}return Tn(t,i,e,n,r)});function lr(i,n,e){var r,o,a,s,l,d,c=0,u=!1,f=!1,t=!0;if("function"!=typeof i)throw new b(ra);function m(e){var t=r,n=o;return r=o=ia,c=e,s=i.apply(n,t)}function h(e){var t=e-d;return d===ia||n<=t||t<0||f&&a<=e-c}function p(){var e=ir();if(h(e))return g(e);l=ai(p,function(e){var t=n-(e-d);return f?J(t,a-(e-c)):t}(e))}function g(e){return l=ia,t&&r?m(e):(r=o=ia,s)}function v(){var e=ir(),t=h(e);if(r=arguments,o=this,d=e,t){if(l===ia)return function(e){return c=e,l=ai(p,n),u?m(e):s}(d);if(f)return Gt(l),l=ai(p,n),m(d)}return l===ia&&(l=ai(p,n)),s}return n=Jr(n)||0,Ar(e)&&(u=!!e.leading,a=(f="maxWait"in e)?V(Jr(e.maxWait)||0,n):a,t="trailing"in e?!!e.trailing:t),v.cancel=function(){l!==ia&&Gt(l),c=0,r=d=o=l=ia},v.flush=function(){return l===ia?s:g(ir())},v}var dr=Et(function(e,t){return He(e,1,t)}),cr=Et(function(e,t,n){return He(e,Jr(t)||0,n)});function ur(r,o){if("function"!=typeof r||null!=o&&"function"!=typeof o)throw new b(ra);var a=function(){var e=arguments,t=o?o.apply(this,e):e[0],n=a.cache;if(n.has(t))return n.get(t);var i=r.apply(this,e);return a.cache=n.set(t,i)||n,i};return a.cache=new(ur.Cache||Ce),a}function fr(t){if("function"!=typeof t)throw new b(ra);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ur.Cache=Ce;var mr=Kt(function(i,r){var o=(r=1==r.length&&wr(r[0])?zs(r[0],rl(Mn())):zs(Ve(r,1),rl(Mn()))).length;return Et(function(e){for(var t=-1,n=J(e.length,o);++t<n;)e[t]=r[t].call(this,e[t]);return Ls(i,this,e)})}),hr=Et(function(e,t){var n=pl(t,Pn(hr));return Tn(e,32,ia,t,n)}),pr=Et(function(e,t){var n=pl(t,Pn(pr));return Tn(e,64,ia,t,n)}),gr=In(function(e,t){return Tn(e,256,ia,ia,ia,t)});function vr(e,t){return e===t||e!=e&&t!=t}var br=Cn(tt),yr=Cn(function(e,t){return t<=e}),xr=at(function(){return arguments}())?at:function(e){return Ir(e)&&x.call(e,"callee")&&!B.call(e,"callee")},wr=E.isArray,Cr=ks?rl(ks):function(e){return Ir(e)&&et(e)==Ta};function _r(e){return null!=e&&Br(e.length)&&!Ur(e)}function Nr(e){return Ir(e)&&_r(e)}var Er=j||Yo,Sr=Bs?rl(Bs):function(e){return Ir(e)&&et(e)==ha};function Tr(e){if(!Ir(e))return!1;var t=et(e);return t==pa||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Lr(e)}function Ur(e){if(!Ar(e))return!1;var t=et(e);return t==ga||t==va||"[object AsyncFunction]"==t||"[object Proxy]"==t}function kr(e){return"number"==typeof e&&e==Wr(e)}function Br(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=sa}function Ar(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ir(e){return null!=e&&"object"==typeof e}var Dr=As?rl(As):function(e){return Ir(e)&&qn(e)==ba};function Rr(e){return"number"==typeof e||Ir(e)&&et(e)==ya}function Lr(e){if(!Ir(e)||et(e)!=xa)return!1;var t=U(e);if(null===t)return!0;var n=x.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&d.call(n)==y}var Or=Is?rl(Is):function(e){return Ir(e)&&et(e)==Ca};var Pr=Ds?rl(Ds):function(e){return Ir(e)&&qn(e)==_a};function Mr(e){return"string"==typeof e||!wr(e)&&Ir(e)&&et(e)==Na}function Hr(e){return"symbol"==typeof e||Ir(e)&&et(e)==Ea}var Fr=Rs?rl(Rs):function(e){return Ir(e)&&Br(e.length)&&!!_s[et(e)]};var $r=Cn(mt),jr=Cn(function(e,t){return e<=t});function zr(e){if(!e)return[];if(_r(e))return Mr(e)?bl(e):on(e);if(D&&e[D])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[D]());var t=qn(e);return(t==ba?ml:t==_a?gl:bo)(e)}function qr(e){return e?(e=Jr(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0}function Wr(e){var t=qr(e),n=t%1;return t==t?n?t-n:t:0}function Vr(e){return e?Oe(Wr(e),0,da):0}function Jr(e){if("number"==typeof e)return e;if(Hr(e))return la;if(Ar(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ar(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Za,"");var n=cs.test(e);return n||fs.test(e)?Ss(e.slice(2),n?2:8):ds.test(e)?la:+e}function Yr(e){return an(e,co(e))}function Kr(e){return null==e?"":Mt(e)}var Xr=ln(function(e,t){if(Zn(t)||_r(t))an(t,lo(t),e);else for(var n in t)x.call(t,n)&&Be(e,n,t[n])}),Gr=ln(function(e,t){an(t,co(t),e)}),Qr=ln(function(e,t,n,i){an(t,co(t),e,i)}),Zr=ln(function(e,t,n,i){an(t,lo(t),e,i)}),eo=In(Le);var to=Et(function(e,t){e=p(e);var n=-1,i=t.length,r=2<i?t[2]:ia;for(r&&Kn(t[0],t[1],r)&&(i=1);++n<i;)for(var o=t[n],a=co(o),s=-1,l=a.length;++s<l;){var d=a[s],c=e[d];(c===ia||vr(c,u[d])&&!x.call(e,d))&&(e[d]=o[d])}return e}),no=Et(function(e){return e.push(ia,kn),Ls(fo,ia,e)});function io(e,t,n){var i=null==e?ia:Qe(e,t);return i===ia?n:i}function ro(e,t){return null!=e&&Wn(e,t,it)}var oo=vn(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=h.call(t)),e[t]=n},Io(Lo)),ao=vn(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=h.call(t)),x.call(e,t)?e[t].push(n):e[t]=[n]},Mn),so=Et(ot);function lo(e){return _r(e)?Ee(e):ut(e)}function co(e){return _r(e)?Ee(e,!0):ft(e)}var uo=ln(function(e,t,n){vt(e,t,n)}),fo=ln(function(e,t,n,i){vt(e,t,n,i)}),mo=In(function(t,e){var n={};if(null==t)return n;var i=!1;e=zs(e,function(e){return e=Yt(e,t),i=i||1<e.length,e}),an(t,Rn(t),n),i&&(n=Pe(n,7,Bn));for(var r=e.length;r--;)Ft(n,e[r]);return n});var ho=In(function(e,t){return null==e?{}:function(n,e){return xt(n,e,function(e,t){return ro(n,t)})}(e,t)});function po(e,n){if(null==e)return{};var t=zs(Rn(e),function(e){return[e]});return n=Mn(n),xt(e,t,function(e,t){return n(e,t[0])})}var go=Sn(lo),vo=Sn(co);function bo(e){return null==e?[]:ol(e,lo(e))}var yo=fn(function(e,t,n){return t=t.toLowerCase(),e+(n?xo(t):t)});function xo(e){return Uo(Kr(e).toLowerCase())}function wo(e){return(e=Kr(e))&&e.replace(hs,dl).replace(bs,"")}var Co=fn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),_o=fn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),No=un("toLowerCase");var Eo=fn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var So=fn(function(e,t,n){return e+(n?" ":"")+Uo(t)});var To=fn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Uo=un("toUpperCase");function ko(e,t,n){return e=Kr(e),(t=n?ia:t)===ia?function(e){return xs.test(e)}(e)?function(e){return e.match(ys)||[]}(e):function(e){return e.match(os)||[]}(e):e.match(t)||[]}var Bo=Et(function(e,t){try{return Ls(e,ia,t)}catch(e){return Tr(e)?e:new r(e)}}),Ao=In(function(t,e){return Ps(e,function(e){e=hi(e),Re(t,e,ar(t[e],t))}),t});function Io(e){return function(){return e}}var Do=pn(),Ro=pn(!0);function Lo(e){return e}function Oo(e){return ct("function"==typeof e?e:Pe(e,1))}var Po=Et(function(t,n){return function(e){return ot(e,t,n)}}),Mo=Et(function(t,n){return function(e){return ot(t,e,n)}});function Ho(i,t,e){var n=lo(t),r=Ge(t,n);null!=e||Ar(t)&&(r.length||!n.length)||(e=t,t=i,i=this,r=Ge(t,lo(t)));var o=!(Ar(e)&&"chain"in e&&!e.chain),a=Ur(i);return Ps(r,function(e){var n=t[e];i[e]=n,a&&(i.prototype[e]=function(){var e=this.__chain__;if(o||e){var t=i(this.__wrapped__);return(t.__actions__=on(this.__actions__)).push({func:n,args:arguments,thisArg:i}),t.__chain__=e,t}return n.apply(i,qs([this.value()],arguments))})}),i}function Fo(){}var $o=yn(zs),jo=yn(Hs),zo=yn(Js);function qo(e){return Xn(e)?el(hi(e)):function(t){return function(e){return Qe(e,t)}}(e)}var Wo=wn(),Vo=wn(!0);function Jo(){return[]}function Yo(){return!1}var Ko=bn(function(e,t){return e+t},0),Xo=Nn("ceil"),Go=bn(function(e,t){return e/t},1),Qo=Nn("floor");var Zo,ea=bn(function(e,t){return e*t},1),ta=Nn("round"),na=bn(function(e,t){return e-t},0);return he.after=function(e,t){if("function"!=typeof t)throw new b(ra);return e=Wr(e),function(){if(--e<1)return t.apply(this,arguments)}},he.ary=rr,he.assign=Xr,he.assignIn=Gr,he.assignInWith=Qr,he.assignWith=Zr,he.at=eo,he.before=or,he.bind=ar,he.bindAll=Ao,he.bindKey=sr,he.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return wr(e)?e:[e]},he.chain=zi,he.chunk=function(e,t,n){t=(n?Kn(e,t,n):t===ia)?1:V(Wr(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var r=0,o=0,a=E(H(i/t));r<i;)a[o++]=It(e,r,r+=t);return a},he.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r},he.concat=function(){var e=arguments.length;if(!e)return[];for(var t=E(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return qs(wr(n)?on(n):[n],Ve(t,1))},he.cond=function(i){var r=null==i?0:i.length,t=Mn();return i=r?zs(i,function(e){if("function"!=typeof e[1])throw new b(ra);return[t(e[0]),e[1]]}):[],Et(function(e){for(var t=-1;++t<r;){var n=i[t];if(Ls(n[0],this,e))return Ls(n[1],this,e)}})},he.conforms=function(e){return function(t){var n=lo(t);return function(e){return Me(e,t,n)}}(Pe(e,1))},he.constant=Io,he.countBy=Vi,he.create=function(e,t){var n=pe(e);return null==t?n:De(n,t)},he.curry=function e(t,n,i){var r=Tn(t,8,ia,ia,ia,ia,ia,n=i?ia:n);return r.placeholder=e.placeholder,r},he.curryRight=function e(t,n,i){var r=Tn(t,16,ia,ia,ia,ia,ia,n=i?ia:n);return r.placeholder=e.placeholder,r},he.debounce=lr,he.defaults=to,he.defaultsDeep=no,he.defer=dr,he.delay=cr,he.difference=vi,he.differenceBy=bi,he.differenceWith=yi,he.drop=function(e,t,n){var i=null==e?0:e.length;return i?It(e,(t=n||t===ia?1:Wr(t))<0?0:t,i):[]},he.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?It(e,0,(t=i-(t=n||t===ia?1:Wr(t)))<0?0:t):[]},he.dropRightWhile=function(e,t){return e&&e.length?jt(e,Mn(t,3),!0,!0):[]},he.dropWhile=function(e,t){return e&&e.length?jt(e,Mn(t,3),!0):[]},he.fill=function(e,t,n,i){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Kn(e,t,n)&&(n=0,i=r),function(e,t,n,i){var r=e.length;for((n=Wr(n))<0&&(n=r<-n?0:r+n),(i=i===ia||r<i?r:Wr(i))<0&&(i+=r),i=i<n?0:Vr(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},he.filter=function(e,t){return(wr(e)?Fs:We)(e,Mn(t,3))},he.flatMap=function(e,t){return Ve(er(e,t),1)},he.flatMapDeep=function(e,t){return Ve(er(e,t),1/0)},he.flatMapDepth=function(e,t,n){return n=n===ia?1:Wr(n),Ve(er(e,t),n)},he.flatten=Ci,he.flattenDeep=function(e){return(null==e?0:e.length)?Ve(e,1/0):[]},he.flattenDepth=function(e,t){return(null==e?0:e.length)?Ve(e,t=t===ia?1:Wr(t)):[]},he.flip=function(e){return Tn(e,512)},he.flow=Do,he.flowRight=Ro,he.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},he.functions=function(e){return null==e?[]:Ge(e,lo(e))},he.functionsIn=function(e){return null==e?[]:Ge(e,co(e))},he.groupBy=Gi,he.initial=function(e){return(null==e?0:e.length)?It(e,0,-1):[]},he.intersection=Ni,he.intersectionBy=Ei,he.intersectionWith=Si,he.invert=oo,he.invertBy=ao,he.invokeMap=Qi,he.iteratee=Oo,he.keyBy=Zi,he.keys=lo,he.keysIn=co,he.map=er,he.mapKeys=function(e,i){var r={};return i=Mn(i,3),Ke(e,function(e,t,n){Re(r,i(e,t,n),e)}),r},he.mapValues=function(e,i){var r={};return i=Mn(i,3),Ke(e,function(e,t,n){Re(r,t,i(e,t,n))}),r},he.matches=function(e){return pt(Pe(e,1))},he.matchesProperty=function(e,t){return gt(e,Pe(t,1))},he.memoize=ur,he.merge=uo,he.mergeWith=fo,he.method=Po,he.methodOf=Mo,he.mixin=Ho,he.negate=fr,he.nthArg=function(t){return t=Wr(t),Et(function(e){return bt(e,t)})},he.omit=mo,he.omitBy=function(e,t){return po(e,fr(Mn(t)))},he.once=function(e){return or(2,e)},he.orderBy=function(e,t,n,i){return null==e?[]:(wr(t)||(t=null==t?[]:[t]),wr(n=i?ia:n)||(n=null==n?[]:[n]),yt(e,t,n))},he.over=$o,he.overArgs=mr,he.overEvery=jo,he.overSome=zo,he.partial=hr,he.partialRight=pr,he.partition=tr,he.pick=ho,he.pickBy=po,he.property=qo,he.propertyOf=function(t){return function(e){return null==t?ia:Qe(t,e)}},he.pull=Ui,he.pullAll=ki,he.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?wt(e,t,Mn(n,2)):e},he.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?wt(e,t,ia,n):e},he.pullAt=Bi,he.range=Wo,he.rangeRight=Vo,he.rearg=gr,he.reject=function(e,t){return(wr(e)?Fs:We)(e,fr(Mn(t,3)))},he.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=Mn(t,3);++i<o;){var a=e[i];t(a,i,e)&&(n.push(a),r.push(i))}return Ct(e,r),n},he.rest=function(e,t){if("function"!=typeof e)throw new b(ra);return Et(e,t=t===ia?t:Wr(t))},he.reverse=Ai,he.sampleSize=function(e,t,n){return t=(n?Kn(e,t,n):t===ia)?1:Wr(t),(wr(e)?Te:Tt)(e,t)},he.set=function(e,t,n){return null==e?e:Ut(e,t,n)},he.setWith=function(e,t,n,i){return i="function"==typeof i?i:ia,null==e?e:Ut(e,t,n,i)},he.shuffle=function(e){return(wr(e)?Ue:At)(e)},he.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n=n&&"number"!=typeof n&&Kn(e,t,n)?(t=0,i):(t=null==t?0:Wr(t),n===ia?i:Wr(n)),It(e,t,n)):[]},he.sortBy=nr,he.sortedUniq=function(e){return e&&e.length?Ot(e):[]},he.sortedUniqBy=function(e,t){return e&&e.length?Ot(e,Mn(t,2)):[]},he.split=function(e,t,n){return n&&"number"!=typeof n&&Kn(e,t,n)&&(t=n=ia),(n=n===ia?da:n>>>0)?(e=Kr(e))&&("string"==typeof t||null!=t&&!Or(t))&&!(t=Mt(t))&&fl(e)?Xt(bl(e),0,n):e.split(t,n):[]},he.spread=function(i,r){if("function"!=typeof i)throw new b(ra);return r=null==r?0:V(Wr(r),0),Et(function(e){var t=e[r],n=Xt(e,0,r);return t&&qs(n,t),Ls(i,this,n)})},he.tail=function(e){var t=null==e?0:e.length;return t?It(e,1,t):[]},he.take=function(e,t,n){return e&&e.length?It(e,0,(t=n||t===ia?1:Wr(t))<0?0:t):[]},he.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?It(e,(t=i-(t=n||t===ia?1:Wr(t)))<0?0:t,i):[]},he.takeRightWhile=function(e,t){return e&&e.length?jt(e,Mn(t,3),!1,!0):[]},he.takeWhile=function(e,t){return e&&e.length?jt(e,Mn(t,3)):[]},he.tap=function(e,t){return t(e),e},he.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new b(ra);return Ar(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),lr(e,t,{leading:i,maxWait:t,trailing:r})},he.thru=qi,he.toArray=zr,he.toPairs=go,he.toPairsIn=vo,he.toPath=function(e){return wr(e)?zs(e,hi):Hr(e)?[e]:on(mi(Kr(e)))},he.toPlainObject=Yr,he.transform=function(e,i,r){var t=wr(e),n=t||Er(e)||Fr(e);if(i=Mn(i,4),null==r){var o=e&&e.constructor;r=n?t?new o:[]:Ar(e)&&Ur(o)?pe(U(e)):{}}return(n?Ps:Ke)(e,function(e,t,n){return i(r,e,t,n)}),r},he.unary=function(e){return rr(e,1)},he.union=Ii,he.unionBy=Di,he.unionWith=Ri,he.uniq=function(e){return e&&e.length?Ht(e):[]},he.uniqBy=function(e,t){return e&&e.length?Ht(e,Mn(t,2)):[]},he.uniqWith=function(e,t){return t="function"==typeof t?t:ia,e&&e.length?Ht(e,ia,t):[]},he.unset=function(e,t){return null==e||Ft(e,t)},he.unzip=Li,he.unzipWith=Oi,he.update=function(e,t,n){return null==e?e:$t(e,t,Jt(n))},he.updateWith=function(e,t,n,i){return i="function"==typeof i?i:ia,null==e?e:$t(e,t,Jt(n),i)},he.values=bo,he.valuesIn=function(e){return null==e?[]:ol(e,co(e))},he.without=Pi,he.words=ko,he.wrap=function(e,t){return hr(Jt(t),e)},he.xor=Mi,he.xorBy=Hi,he.xorWith=Fi,he.zip=$i,he.zipObject=function(e,t){return Wt(e||[],t||[],Be)},he.zipObjectDeep=function(e,t){return Wt(e||[],t||[],Ut)},he.zipWith=ji,he.entries=go,he.entriesIn=vo,he.extend=Gr,he.extendWith=Qr,Ho(he,he),he.add=Ko,he.attempt=Bo,he.camelCase=yo,he.capitalize=xo,he.ceil=Xo,he.clamp=function(e,t,n){return n===ia&&(n=t,t=ia),n!==ia&&(n=(n=Jr(n))==n?n:0),t!==ia&&(t=(t=Jr(t))==t?t:0),Oe(Jr(e),t,n)},he.clone=function(e){return Pe(e,4)},he.cloneDeep=function(e){return Pe(e,5)},he.cloneDeepWith=function(e,t){return Pe(e,5,t="function"==typeof t?t:ia)},he.cloneWith=function(e,t){return Pe(e,4,t="function"==typeof t?t:ia)},he.conformsTo=function(e,t){return null==t||Me(e,t,lo(t))},he.deburr=wo,he.defaultTo=function(e,t){return null==e||e!=e?t:e},he.divide=Go,he.endsWith=function(e,t,n){e=Kr(e),t=Mt(t);var i=e.length,r=n=n===ia?i:Oe(Wr(n),0,i);return 0<=(n-=t.length)&&e.slice(n,r)==t},he.eq=vr,he.escape=function(e){return(e=Kr(e))&&qa.test(e)?e.replace(ja,cl):e},he.escapeRegExp=function(e){return(e=Kr(e))&&Qa.test(e)?e.replace(Ga,"\\$&"):e},he.every=function(e,t,n){var i=wr(e)?Hs:ze;return n&&Kn(e,t,n)&&(t=ia),i(e,Mn(t,3))},he.find=Ji,he.findIndex=xi,he.findKey=function(e,t){return Ys(e,Mn(t,3),Ke)},he.findLast=Yi,he.findLastIndex=wi,he.findLastKey=function(e,t){return Ys(e,Mn(t,3),Xe)},he.floor=Qo,he.forEach=Ki,he.forEachRight=Xi,he.forIn=function(e,t){return null==e?e:Je(e,Mn(t,3),co)},he.forInRight=function(e,t){return null==e?e:Ye(e,Mn(t,3),co)},he.forOwn=function(e,t){return e&&Ke(e,Mn(t,3))},he.forOwnRight=function(e,t){return e&&Xe(e,Mn(t,3))},he.get=io,he.gt=br,he.gte=yr,he.has=function(e,t){return null!=e&&Wn(e,t,nt)},he.hasIn=ro,he.head=_i,he.identity=Lo,he.includes=function(e,t,n,i){e=_r(e)?e:bo(e),n=n&&!i?Wr(n):0;var r=e.length;return n<0&&(n=V(r+n,0)),Mr(e)?n<=r&&-1<e.indexOf(t,n):!!r&&-1<Xs(e,t,n)},he.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:Wr(n);return r<0&&(r=V(i+r,0)),Xs(e,t,r)},he.inRange=function(e,t,n){return t=qr(t),n===ia?(n=t,t=0):n=qr(n),function(e,t,n){return e>=J(t,n)&&e<V(t,n)}(e=Jr(e),t,n)},he.invoke=so,he.isArguments=xr,he.isArray=wr,he.isArrayBuffer=Cr,he.isArrayLike=_r,he.isArrayLikeObject=Nr,he.isBoolean=function(e){return!0===e||!1===e||Ir(e)&&et(e)==ma},he.isBuffer=Er,he.isDate=Sr,he.isElement=function(e){return Ir(e)&&1===e.nodeType&&!Lr(e)},he.isEmpty=function(e){if(null==e)return!0;if(_r(e)&&(wr(e)||"string"==typeof e||"function"==typeof e.splice||Er(e)||Fr(e)||xr(e)))return!e.length;var t=qn(e);if(t==ba||t==_a)return!e.size;if(Zn(e))return!ut(e).length;for(var n in e)if(x.call(e,n))return!1;return!0},he.isEqual=function(e,t){return st(e,t)},he.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:ia)?n(e,t):ia;return i===ia?st(e,t,ia,n):!!i},he.isError=Tr,he.isFinite=function(e){return"number"==typeof e&&z(e)},he.isFunction=Ur,he.isInteger=kr,he.isLength=Br,he.isMap=Dr,he.isMatch=function(e,t){return e===t||lt(e,t,Fn(t))},he.isMatchWith=function(e,t,n){return n="function"==typeof n?n:ia,lt(e,t,Fn(t),n)},he.isNaN=function(e){return Rr(e)&&e!=+e},he.isNative=function(e){if(Qn(e))throw new r("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return dt(e)},he.isNil=function(e){return null==e},he.isNull=function(e){return null===e},he.isNumber=Rr,he.isObject=Ar,he.isObjectLike=Ir,he.isPlainObject=Lr,he.isRegExp=Or,he.isSafeInteger=function(e){return kr(e)&&-sa<=e&&e<=sa},he.isSet=Pr,he.isString=Mr,he.isSymbol=Hr,he.isTypedArray=Fr,he.isUndefined=function(e){return e===ia},he.isWeakMap=function(e){return Ir(e)&&qn(e)==Sa},he.isWeakSet=function(e){return Ir(e)&&"[object WeakSet]"==et(e)},he.join=function(e,t){return null==e?"":q.call(e,t)},he.kebabCase=Co,he.last=Ti,he.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i;return n!==ia&&(r=(r=Wr(n))<0?V(i+r,0):J(r,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,r):Ks(e,Qs,r,!0)},he.lowerCase=_o,he.lowerFirst=No,he.lt=$r,he.lte=jr,he.max=function(e){return e&&e.length?qe(e,Lo,tt):ia},he.maxBy=function(e,t){return e&&e.length?qe(e,Mn(t,2),tt):ia},he.mean=function(e){return Zs(e,Lo)},he.meanBy=function(e,t){return Zs(e,Mn(t,2))},he.min=function(e){return e&&e.length?qe(e,Lo,mt):ia},he.minBy=function(e,t){return e&&e.length?qe(e,Mn(t,2),mt):ia},he.stubArray=Jo,he.stubFalse=Yo,he.stubObject=function(){return{}},he.stubString=function(){return""},he.stubTrue=function(){return!0},he.multiply=ea,he.nth=function(e,t){return e&&e.length?bt(e,Wr(t)):ia},he.noConflict=function(){return Ts._===this&&(Ts._=w),this},he.noop=Fo,he.now=ir,he.pad=function(e,t,n){e=Kr(e);var i=(t=Wr(t))?vl(e):0;if(!t||t<=i)return e;var r=(t-i)/2;return xn(F(r),n)+e+xn(H(r),n)},he.padEnd=function(e,t,n){e=Kr(e);var i=(t=Wr(t))?vl(e):0;return t&&i<t?e+xn(t-i,n):e},he.padStart=function(e,t,n){e=Kr(e);var i=(t=Wr(t))?vl(e):0;return t&&i<t?xn(t-i,n)+e:e},he.parseInt=function(e,t,n){return t=n||null==t?0:t&&+t,K(Kr(e).replace(es,""),t||0)},he.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Kn(e,t,n)&&(t=n=ia),n===ia&&("boolean"==typeof t?(n=t,t=ia):"boolean"==typeof e&&(n=e,e=ia)),e===ia&&t===ia?(e=0,t=1):(e=qr(e),t===ia?(t=e,e=0):t=qr(t)),t<e){var i=e;e=t,t=i}if(n||e%1||t%1){var r=X();return J(e+r*(t-e+Es("1e-"+((r+"").length-1))),t)}return _t(e,t)},he.reduce=function(e,t,n){var i=wr(e)?Ws:tl,r=arguments.length<3;return i(e,Mn(t,4),n,r,$e)},he.reduceRight=function(e,t,n){var i=wr(e)?Vs:tl,r=arguments.length<3;return i(e,Mn(t,4),n,r,je)},he.repeat=function(e,t,n){return t=(n?Kn(e,t,n):t===ia)?1:Wr(t),Nt(Kr(e),t)},he.replace=function(){var e=arguments,t=Kr(e[0]);return e.length<3?t:t.replace(e[1],e[2])},he.result=function(e,t,n){var i=-1,r=(t=Yt(t,e)).length;for(r||(r=1,e=ia);++i<r;){var o=null==e?ia:e[hi(t[i])];o===ia&&(i=r,o=n),e=Ur(o)?o.call(e):o}return e},he.round=ta,he.runInContext=e,he.sample=function(e){return(wr(e)?Se:St)(e)},he.size=function(e){if(null==e)return 0;if(_r(e))return Mr(e)?vl(e):e.length;var t=qn(e);return t==ba||t==_a?e.size:ut(e).length},he.snakeCase=Eo,he.some=function(e,t,n){var i=wr(e)?Js:Dt;return n&&Kn(e,t,n)&&(t=ia),i(e,Mn(t,3))},he.sortedIndex=function(e,t){return Rt(e,t)},he.sortedIndexBy=function(e,t,n){return Lt(e,t,Mn(n,2))},he.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Rt(e,t);if(i<n&&vr(e[i],t))return i}return-1},he.sortedLastIndex=function(e,t){return Rt(e,t,!0)},he.sortedLastIndexBy=function(e,t,n){return Lt(e,t,Mn(n,2),!0)},he.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Rt(e,t,!0)-1;if(vr(e[n],t))return n}return-1},he.startCase=So,he.startsWith=function(e,t,n){return e=Kr(e),n=null==n?0:Oe(Wr(n),0,e.length),t=Mt(t),e.slice(n,n+t.length)==t},he.subtract=na,he.sum=function(e){return e&&e.length?nl(e,Lo):0},he.sumBy=function(e,t){return e&&e.length?nl(e,Mn(t,2)):0},he.template=function(a,e,t){var n=he.templateSettings;t&&Kn(a,e,t)&&(e=ia),a=Kr(a),e=Qr({},e,n,Un);var s,l,i=Qr({},e.imports,n.imports,Un),r=lo(i),o=ol(i,r),d=0,c=e.interpolate||ps,u="__p += '",f=v((e.escape||ps).source+"|"+c.source+"|"+(c===Ja?ss:ps).source+"|"+(e.evaluate||ps).source+"|$","g"),m="//# sourceURL="+(x.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Cs+"]")+"\n";a.replace(f,function(e,t,n,i,r,o){return n=n||i,u+=a.slice(d,o).replace(gs,ul),t&&(s=!0,u+="' +\n__e("+t+") +\n'"),r&&(l=!0,u+="';\n"+r+";\n__p += '"),n&&(u+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),d=o+e.length,e}),u+="';\n";var h=x.call(e,"variable")&&e.variable;h||(u="with (obj) {\n"+u+"\n}\n"),u=(l?u.replace(Ma,""):u).replace(Ha,"$1").replace(Fa,"$1;"),u="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}";var p=Bo(function(){return g(r,m+"return "+u).apply(ia,o)});if(p.source=u,Tr(p))throw p;return p},he.times=function(e,t){if((e=Wr(e))<1||sa<e)return[];var n=da,i=J(e,da);t=Mn(t),e-=da;for(var r=il(i,t);++n<e;)t(n);return r},he.toFinite=qr,he.toInteger=Wr,he.toLength=Vr,he.toLower=function(e){return Kr(e).toLowerCase()},he.toNumber=Jr,he.toSafeInteger=function(e){return e?Oe(Wr(e),-sa,sa):0===e?e:0},he.toString=Kr,he.toUpper=function(e){return Kr(e).toUpperCase()},he.trim=function(e,t,n){if((e=Kr(e))&&(n||t===ia))return e.replace(Za,"");if(!e||!(t=Mt(t)))return e;var i=bl(e),r=bl(t);return Xt(i,sl(i,r),ll(i,r)+1).join("")},he.trimEnd=function(e,t,n){if((e=Kr(e))&&(n||t===ia))return e.replace(ts,"");if(!e||!(t=Mt(t)))return e;var i=bl(e);return Xt(i,0,ll(i,bl(t))+1).join("")},he.trimStart=function(e,t,n){if((e=Kr(e))&&(n||t===ia))return e.replace(es,"");if(!e||!(t=Mt(t)))return e;var i=bl(e);return Xt(i,sl(i,bl(t))).join("")},he.truncate=function(e,t){var n=30,i="...";if(Ar(t)){var r="separator"in t?t.separator:r;n="length"in t?Wr(t.length):n,i="omission"in t?Mt(t.omission):i}var o=(e=Kr(e)).length;if(fl(e)){var a=bl(e);o=a.length}if(o<=n)return e;var s=n-vl(i);if(s<1)return i;var l=a?Xt(a,0,s).join(""):e.slice(0,s);if(r===ia)return l+i;if(a&&(s+=l.length-s),Or(r)){if(e.slice(s).search(r)){var d,c=l;for(r.global||(r=v(r.source,Kr(ls.exec(r))+"g")),r.lastIndex=0;d=r.exec(c);)var u=d.index;l=l.slice(0,u===ia?s:u)}}else if(e.indexOf(Mt(r),s)!=s){var f=l.lastIndexOf(r);-1<f&&(l=l.slice(0,f))}return l+i},he.unescape=function(e){return(e=Kr(e))&&za.test(e)?e.replace($a,yl):e},he.uniqueId=function(e){var t=++f;return Kr(e)+t},he.upperCase=To,he.upperFirst=Uo,he.each=Ki,he.eachRight=Xi,he.first=_i,Ho(he,(Zo={},Ke(he,function(e,t){x.call(he.prototype,t)||(Zo[t]=e)}),Zo),{chain:!1}),he.VERSION="4.17.15",Ps(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){he[e].placeholder=he}),Ps(["drop","take"],function(n,i){ye.prototype[n]=function(e){e=e===ia?1:V(Wr(e),0);var t=this.__filtered__&&!i?new ye(this):this.clone();return t.__filtered__?t.__takeCount__=J(e,t.__takeCount__):t.__views__.push({size:J(e,da),type:n+(t.__dir__<0?"Right":"")}),t},ye.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),Ps(["filter","map","takeWhile"],function(e,t){var n=t+1,i=1==n||3==n;ye.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Mn(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),Ps(["head","last"],function(e,t){var n="take"+(t?"Right":"");ye.prototype[e]=function(){return this[n](1).value()[0]}}),Ps(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");ye.prototype[e]=function(){return this.__filtered__?new ye(this):this[n](1)}}),ye.prototype.compact=function(){return this.filter(Lo)},ye.prototype.find=function(e){return this.filter(e).head()},ye.prototype.findLast=function(e){return this.reverse().find(e)},ye.prototype.invokeMap=Et(function(t,n){return"function"==typeof t?new ye(this):this.map(function(e){return ot(e,t,n)})}),ye.prototype.reject=function(e){return this.filter(fr(Mn(e)))},ye.prototype.slice=function(e,t){e=Wr(e);var n=this;return n.__filtered__&&(0<e||t<0)?new ye(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==ia&&(n=(t=Wr(t))<0?n.dropRight(-t):n.take(t-e)),n)},ye.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ye.prototype.toArray=function(){return this.take(da)},Ke(ye.prototype,function(u,e){var f=/^(?:filter|find|map|reject)|While$/.test(e),m=/^(?:head|last)$/.test(e),h=he[m?"take"+("last"==e?"Right":""):e],p=m||/^find/.test(e);h&&(he.prototype[e]=function(){function e(e){var t=h.apply(he,qs([e],n));return m&&a?t[0]:t}var t=this.__wrapped__,n=m?[1]:arguments,i=t instanceof ye,r=n[0],o=i||wr(t);o&&f&&"function"==typeof r&&1!=r.length&&(i=o=!1);var a=this.__chain__,s=!!this.__actions__.length,l=p&&!a,d=i&&!s;if(p||!o)return l&&d?u.apply(this,n):(c=this.thru(e),l?m?c.value()[0]:c.value():c);t=d?t:new ye(this);var c=u.apply(t,n);return c.__actions__.push({func:qi,args:[e],thisArg:ia}),new be(c,a)})}),Ps(["pop","push","shift","sort","splice","unshift"],function(e){var n=a[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);he.prototype[e]=function(){var t=arguments;if(!r||this.__chain__)return this[i](function(e){return n.apply(wr(e)?e:[],t)});var e=this.value();return n.apply(wr(e)?e:[],t)}}),Ke(ye.prototype,function(e,t){var n=he[t];if(n){var i=n.name+"";x.call(oe,i)||(oe[i]=[]),oe[i].push({name:t,func:n})}}),oe[gn(ia,2).name]=[{name:"wrapper",func:ia}],ye.prototype.clone=function(){var e=new ye(this.__wrapped__);return e.__actions__=on(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=on(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=on(this.__views__),e},ye.prototype.reverse=function(){if(this.__filtered__){var e=new ye(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},ye.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=wr(e),i=t<0,r=n?e.length:0,o=function(e,t,n){var i=-1,r=n.length;for(;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=J(t,e+a);break;case"takeRight":e=V(e,t-a)}}return{start:e,end:t}}(0,r,this.__views__),a=o.start,s=o.end,l=s-a,d=i?s:a-1,c=this.__iteratees__,u=c.length,f=0,m=J(l,this.__takeCount__);if(!n||!i&&r==l&&m==l)return zt(e,this.__actions__);var h=[];e:for(;l--&&f<m;){for(var p=-1,g=e[d+=t];++p<u;){var v=c[p],b=v.iteratee,y=v.type,x=b(g);if(2==y)g=x;else if(!x){if(1==y)continue e;break e}}h[f++]=g}return h},he.prototype.at=Wi,he.prototype.chain=function(){return zi(this)},he.prototype.commit=function(){return new be(this.value(),this.__chain__)},he.prototype.next=function(){this.__values__===ia&&(this.__values__=zr(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?ia:this.__values__[this.__index__++]}},he.prototype.plant=function(e){for(var t,n=this;n instanceof ve;){var i=gi(n);i.__index__=0,i.__values__=ia,t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t},he.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof ye){var t=e;return this.__actions__.length&&(t=new ye(this)),(t=t.reverse()).__actions__.push({func:qi,args:[Ai],thisArg:ia}),new be(t,this.__chain__)}return this.thru(Ai)},he.prototype.toJSON=he.prototype.valueOf=he.prototype.value=function(){return zt(this.__wrapped__,this.__actions__)},he.prototype.first=he.prototype.head,D&&(he.prototype[D]=function(){return this}),he}();Ts._=xl,($=function(){return xl}.call(j,z,j,F))===ia||(F.exports=$)}).call(this)}).call(this,z(27),z(28)(e))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},function(e,t,n){var N=n(4),E=n(2),o=n(6),s=n(31),u=n(32),f=n(33),m=n(34),h=n(35),S=n(7),T=n(36),p=n(39),l=n(40),d=n(3),g=n(41),v=n(5);function b(e,t,n){var i,r,o=e.size,a=l.getEncodedBits(t,n);for(i=0;i<15;i++)r=1==(a>>i&1),i<6?e.set(i,8,r,!0):i<8?e.set(i+1,8,r,!0):e.set(o-15+i,8,r,!0),i<8?e.set(8,o-i-1,r,!0):i<9?e.set(8,15-i-1+1,r,!0):e.set(8,15-i-1,r,!0);e.set(o-8,8,1,!0)}function y(t,e,n){var i=new s;n.forEach(function(e){i.put(e.mode.bit,4),i.put(e.getLength(),d.getCharCountIndicator(e.mode,t)),e.write(i)});var r=8*(E.getSymbolTotalCodewords(t)-S.getTotalCodewordsCount(t,e));for(i.getLengthInBits()+4<=r&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);for(var o=(r-i.getLengthInBits())/8,a=0;a<o;a++)i.put(a%2?17:236,8);return function(e,t,n){for(var i=E.getSymbolTotalCodewords(t),r=S.getTotalCodewordsCount(t,n),o=i-r,a=S.getBlocksCount(t,n),s=a-i%a,l=Math.floor(i/a),d=Math.floor(o/a),c=d+1,u=l-d,f=new T(u),m=0,h=new Array(a),p=new Array(a),g=0,v=new N(e.buffer),b=0;b<a;b++){var y=b<s?d:c;h[b]=v.slice(m,m+y),p[b]=f.encode(h[b]),m+=y,g=Math.max(g,y)}var x,w,C=new N(i),_=0;for(x=0;x<g;x++)for(w=0;w<a;w++)x<h[w].length&&(C[_++]=h[w][x]);for(x=0;x<u;x++)for(w=0;w<a;w++)C[_++]=p[w][x];return C}(i,t,e)}function a(e,t,n,i){var r;if(v(e))r=g.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var o=t;if(!o){var a=g.rawSplit(e);o=p.getBestVersionForData(a,n)}r=g.fromString(e,o||40)}var s=p.getBestVersionForData(r,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<s)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+s+".\n")}else t=s;var l=y(t,n,r),d=E.getSymbolSize(t),c=new u(d);return function(e,t){for(var n=e.size,i=m.getPositions(t),r=0;r<i.length;r++)for(var o=i[r][0],a=i[r][1],s=-1;s<=7;s++)if(!(o+s<=-1||n<=o+s))for(var l=-1;l<=7;l++)a+l<=-1||n<=a+l||(0<=s&&s<=6&&(0===l||6===l)||0<=l&&l<=6&&(0===s||6===s)||2<=s&&s<=4&&2<=l&&l<=4?e.set(o+s,a+l,!0,!0):e.set(o+s,a+l,!1,!0))}(c,t),function(e){for(var t=e.size,n=8;n<t-8;n++){var i=n%2==0;e.set(n,6,i,!0),e.set(6,n,i,!0)}}(c),function(e,t){for(var n=f.getPositions(t),i=0;i<n.length;i++)for(var r=n[i][0],o=n[i][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)-2===a||2===a||-2===s||2===s||0===a&&0===s?e.set(r+a,o+s,!0,!0):e.set(r+a,o+s,!1,!0)}(c,t),b(c,n,0),7<=t&&function(e,t){for(var n,i,r,o=e.size,a=p.getEncodedBits(t),s=0;s<18;s++)n=Math.floor(s/3),i=s%3+o-8-3,r=1==(a>>s&1),e.set(n,i,r,!0),e.set(i,n,r,!0)}(c,t),function(e,t){for(var n=e.size,i=-1,r=n-1,o=7,a=0,s=n-1;0<s;s-=2)for(6===s&&s--;;){for(var l=0;l<2;l++)if(!e.isReserved(r,s-l)){var d=!1;a<t.length&&(d=1==(t[a]>>>o&1)),e.set(r,s-l,d),-1===--o&&(a++,o=7)}if((r+=i)<0||n<=r){r-=i,i=-i;break}}}(c,l),isNaN(i)&&(i=h.getBestMask(c,b.bind(null,c,n))),h.applyMask(i,c),b(c,n,i),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:i,segments:r}}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var n,i,r=o.M;return void 0!==t&&(r=o.from(t.errorCorrectionLevel,o.M),n=p.from(t.version),i=h.from(t.maskPattern),t.toSJISFunc&&E.setToSJISFunction(t.toSJISFunc)),a(e,n,r,i)}},function(e,t){function n(){this.buffer=[],this.length=0}n.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=n},function(e,t,n){var i=n(4);function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new i(e*e),this.data.fill(0),this.reservedBit=new i(e*e),this.reservedBit.fill(0)}r.prototype.set=function(e,t,n,i){var r=e*this.size+t;this.data[r]=n,i&&(this.reservedBit[r]=!0)},r.prototype.get=function(e,t){return this.data[e*this.size+t]},r.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},r.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=r},function(e,a,t){var s=t(2).getSymbolSize;a.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,n=s(e),i=145===n?26:2*Math.ceil((n-13)/(2*t-2)),r=[n-7],o=1;o<t-1;o++)r[o]=r[o-1]-i;return r.push(6),r.reverse()},a.getPositions=function(e){for(var t=[],n=a.getRowColCoords(e),i=n.length,r=0;r<i;r++)for(var o=0;o<i;o++)0===r&&0===o||0===r&&o===i-1||r===i-1&&0===o||t.push([n[r],n[o]]);return t}},function(e,t,n){var i=n(2).getSymbolSize;t.getPositions=function(e){var t=i(e);return[[0,0],[t-7,0],[0,t-7]]}},function(e,s){s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var c=3,a=3,l=40,r=10;function o(e,t,n){switch(e){case s.Patterns.PATTERN000:return(t+n)%2==0;case s.Patterns.PATTERN001:return t%2==0;case s.Patterns.PATTERN010:return n%3==0;case s.Patterns.PATTERN011:return(t+n)%3==0;case s.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case s.Patterns.PATTERN101:return t*n%2+t*n%3==0;case s.Patterns.PATTERN110:return(t*n%2+t*n%3)%2==0;case s.Patterns.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}s.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&0<=e&&e<=7},s.from=function(e){return s.isValid(e)?parseInt(e,10):void 0},s.getPenaltyN1=function(e){for(var t=e.size,n=0,i=0,r=0,o=null,a=null,s=0;s<t;s++){i=r=0,o=a=null;for(var l=0;l<t;l++){var d=e.get(s,l);d===o?i++:(5<=i&&(n+=c+(i-5)),o=d,i=1),(d=e.get(l,s))===a?r++:(5<=r&&(n+=c+(r-5)),a=d,r=1)}5<=i&&(n+=c+(i-5)),5<=r&&(n+=c+(r-5))}return n},s.getPenaltyN2=function(e){for(var t=e.size,n=0,i=0;i<t-1;i++)for(var r=0;r<t-1;r++){var o=e.get(i,r)+e.get(i,r+1)+e.get(i+1,r)+e.get(i+1,r+1);4!==o&&0!==o||n++}return n*a},s.getPenaltyN3=function(e){for(var t=e.size,n=0,i=0,r=0,o=0;o<t;o++){i=r=0;for(var a=0;a<t;a++)i=i<<1&2047|e.get(o,a),10<=a&&(1488===i||93===i)&&n++,r=r<<1&2047|e.get(a,o),10<=a&&(1488===r||93===r)&&n++}return n*l},s.getPenaltyN4=function(e){for(var t=0,n=e.data.length,i=0;i<n;i++)t+=e.data[i];return Math.abs(Math.ceil(100*t/n/5)-10)*r},s.applyMask=function(e,t){for(var n=t.size,i=0;i<n;i++)for(var r=0;r<n;r++)t.isReserved(r,i)||t.xor(r,i,o(e,r,i))},s.getBestMask=function(e,t){for(var n=Object.keys(s.Patterns).length,i=0,r=1/0,o=0;o<n;o++){t(o),s.applyMask(o,e);var a=s.getPenaltyN1(e)+s.getPenaltyN2(e)+s.getPenaltyN3(e)+s.getPenaltyN4(e);s.applyMask(o,e),a<r&&(r=a,i=o)}return i}},function(e,t,n){var a=n(4),s=n(37);function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(e){this.degree=e,this.genPoly=s.generateECPolynomial(this.degree)},i.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=new a(this.degree);t.fill(0);var n=a.concat([e,t],e.length+this.degree),i=s.mod(n,this.genPoly),r=this.degree-i.length;if(0<r){var o=new a(this.degree);return o.fill(0),i.copy(o,r),o}return i},e.exports=i},function(e,i,t){var a=t(4),s=t(38);i.mul=function(e,t){var n=new a(e.length+t.length-1);n.fill(0);for(var i=0;i<e.length;i++)for(var r=0;r<t.length;r++)n[i+r]^=s.mul(e[i],t[r]);return n},i.mod=function(e,t){for(var n=new a(e);0<=n.length-t.length;){for(var i=n[0],r=0;r<t.length;r++)n[r]^=s.mul(t[r],i);for(var o=0;o<n.length&&0===n[o];)o++;n=n.slice(o)}return n},i.generateECPolynomial=function(e){for(var t=new a([1]),n=0;n<e;n++)t=i.mul(t,[1,s.exp(n)]);return t}},function(e,t,n){var i,r,o=n(4);r=o.alloc?(i=o.alloc(512),o.alloc(256)):(i=new o(512),new o(256)),function(){for(var e=1,t=0;t<255;t++)i[t]=e,r[e]=t,256&(e<<=1)&&(e^=285);for(t=255;t<512;t++)i[t]=i[t-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},t.exp=function(e){return i[e]},t.mul=function(e,t){return 0===e||0===t?0:i[r[e]+r[t]]}},function(e,r,t){var o=t(2),a=t(7),s=t(6),l=t(3),d=t(8),c=t(5),n=o.getBCHDigit(7973);function u(e,t){return l.getCharCountIndicator(e,t)+4}function f(e,n){var i=0;return e.forEach(function(e){var t=u(e.mode,n);i+=t+e.getBitsLength()}),i}r.from=function(e,t){return d.isValid(e)?parseInt(e,10):t},r.getCapacity=function(e,t,n){if(!d.isValid(e))throw new Error("Invalid QR Code version");void 0===n&&(n=l.BYTE);var i=8*(o.getSymbolTotalCodewords(e)-a.getTotalCodewordsCount(e,t));if(n===l.MIXED)return i;var r=i-u(n,e);switch(n){case l.NUMERIC:return Math.floor(r/10*3);case l.ALPHANUMERIC:return Math.floor(r/11*2);case l.KANJI:return Math.floor(r/13);case l.BYTE:default:return Math.floor(r/8)}},r.getBestVersionForData=function(e,t){var n,i=s.from(t,s.M);if(c(e)){if(1<e.length)return function(e,t){for(var n=1;n<=40;n++){if(f(e,n)<=r.getCapacity(n,t,l.MIXED))return n}}(e,i);if(0===e.length)return 1;n=e[0]}else n=e;return function(e,t,n){for(var i=1;i<=40;i++)if(t<=r.getCapacity(i,n,e))return i}(n.mode,n.getLength(),i)},r.getEncodedBits=function(e){if(!d.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;0<=o.getBCHDigit(t)-n;)t^=7973<<o.getBCHDigit(t)-n;return e<<12|t}},function(e,t,n){var r=n(2),o=r.getBCHDigit(1335);t.getEncodedBits=function(e,t){for(var n=e.bit<<3|t,i=n<<10;0<=r.getBCHDigit(i)-o;)i^=1335<<r.getBCHDigit(i)-o;return 21522^(n<<10|i)}},function(e,a,t){var m=t(3),r=t(42),o=t(43),s=t(44),l=t(45),d=t(9),c=t(2),u=t(46);function f(e){return unescape(encodeURIComponent(e)).length}function h(e,t,n){for(var i,r=[];null!==(i=e.exec(n));)r.push({data:i[0],index:i.index,mode:t,length:i[0].length});return r}function p(e){var t,n,i=h(d.NUMERIC,m.NUMERIC,e),r=h(d.ALPHANUMERIC,m.ALPHANUMERIC,e);return n=c.isKanjiModeEnabled()?(t=h(d.BYTE,m.BYTE,e),h(d.KANJI,m.KANJI,e)):(t=h(d.BYTE_KANJI,m.BYTE,e),[]),i.concat(r,t,n).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function g(e,t){switch(t){case m.NUMERIC:return r.getBitsLength(e);case m.ALPHANUMERIC:return o.getBitsLength(e);case m.KANJI:return l.getBitsLength(e);case m.BYTE:return s.getBitsLength(e)}}function n(e,t){var n,i=m.getBestModeForData(e);if((n=m.from(t,i))!==m.BYTE&&n.bit<i.bit)throw new Error('"'+e+'" cannot be encoded with mode '+m.toString(n)+".\n Suggested mode is: "+m.toString(i));switch(n!==m.KANJI||c.isKanjiModeEnabled()||(n=m.BYTE),n){case m.NUMERIC:return new r(e);case m.ALPHANUMERIC:return new o(e);case m.KANJI:return new l(e);case m.BYTE:return new s(e)}}a.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(n(t,null)):t.data&&e.push(n(t.data,t.mode)),e},[])},a.fromString=function(e,t){for(var n=function(e,t){for(var n={},i={start:{}},r=["start"],o=0;o<e.length;o++){for(var a=e[o],s=[],l=0;l<a.length;l++){var d=a[l],c=""+o+l;s.push(c),n[c]={node:d,lastCount:0},i[c]={};for(var u=0;u<r.length;u++){var f=r[u];n[f]&&n[f].node.mode===d.mode?(i[f][c]=g(n[f].lastCount+d.length,d.mode)-g(n[f].lastCount,d.mode),n[f].lastCount+=d.length):(n[f]&&(n[f].lastCount=d.length),i[f][c]=g(d.length,d.mode)+4+m.getCharCountIndicator(d.mode,t))}}r=s}for(u=0;u<r.length;u++)i[r[u]].end=0;return{map:i,table:n}}(function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];switch(i.mode){case m.NUMERIC:t.push([i,{data:i.data,mode:m.ALPHANUMERIC,length:i.length},{data:i.data,mode:m.BYTE,length:i.length}]);break;case m.ALPHANUMERIC:t.push([i,{data:i.data,mode:m.BYTE,length:i.length}]);break;case m.KANJI:t.push([i,{data:i.data,mode:m.BYTE,length:f(i.data)}]);break;case m.BYTE:t.push([{data:i.data,mode:m.BYTE,length:f(i.data)}])}}return t}(p(e,c.isKanjiModeEnabled())),t),i=u.find_path(n.map,"start","end"),r=[],o=1;o<i.length-1;o++)r.push(n.table[i[o]].node);return a.fromArray(function(e){return e.reduce(function(e,t){var n=0<=e.length-1?e[e.length-1]:null;return n&&n.mode===t.mode?e[e.length-1].data+=t.data:e.push(t),e},[])}(r))},a.rawSplit=function(e){return a.fromArray(p(e,c.isKanjiModeEnabled()))}},function(e,t,n){var i=n(3);function r(e){this.mode=i.NUMERIC,this.data=e.toString()}r.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){var t,n,i;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),i=parseInt(n,10),e.put(i,10);var r=this.data.length-t;0<r&&(n=this.data.substr(t),i=parseInt(n,10),e.put(i,3*r+1))},e.exports=r},function(e,t,n){var i=n(3),r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=i.ALPHANUMERIC,this.data=e}o.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var n=45*r.indexOf(this.data[t]);n+=r.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(r.indexOf(this.data[t]),6)},e.exports=o},function(e,t,n){var i=n(4),r=n(3);function o(e){this.mode=r.BYTE,this.data=new i(e)}o.getBitsLength=function(e){return 8*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(var t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=o},function(e,t,n){var i=n(3),r=n(2);function o(e){this.mode=i.KANJI,this.data=e}o.getBitsLength=function(e){return 13*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var n=r.toSJIS(this.data[t]);if(33088<=n&&n<=40956)n-=33088;else{if(!(57408<=n&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},e.exports=o},function(e,t,n){"use strict";var h={single_source_shortest_paths:function(e,t,n){var i={},r={};r[t]=0;var o,a,s,l,d,c,u,f=h.PriorityQueue.make();for(f.push(t,0);!f.empty();)for(s in a=(o=f.pop()).value,l=o.cost,d=e[a]||{})d.hasOwnProperty(s)&&(c=l+d[s],u=r[s],(void 0===r[s]||c<u)&&(r[s]=c,f.push(s,c),i[s]=a));if(void 0===n||void 0!==r[n])return i;var m=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(m)},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],i=t;i;)n.push(i),e[i],i=e[i];return n.reverse(),n},find_path:function(e,t,n){var i=h.single_source_shortest_paths(e,t,n);return h.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(e){var t,n=h.PriorityQueue,i={};for(t in e=e||{},n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i.queue=[],i.sorter=e.sorter||n.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=h},function(e,s,t){var l=t(10);s.render=function(e,t,n){var i=n,r=t;void 0!==i||t&&t.getContext||(i=t,t=void 0),t||(r=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),i=l.getOptions(i);var o=l.getImageWidth(e.modules.size,i),a=r.getContext("2d"),s=a.createImageData(o,o);return l.qrToImageData(s.data,e,i),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(a,r,o),a.putImageData(s,0,0),r},s.renderToDataURL=function(e,t,n){var i=n;void 0!==i||t&&t.getContext||(i=t,t=void 0),i=i||{};var r=s.render(e,t,i),o=i.type||"image/png",a=i.rendererOpts||{};return r.toDataURL(o,a.quality)}},function(e,t,n){var u=n(10);function f(e,t){var n=e.a/255,i=t+'="'+e.hex+'"';return n<1?i+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':i}function m(e,t,n){var i=e+t;return void 0!==n&&(i+=" "+n),i}t.render=function(e,t,n){var i=u.getOptions(t),r=e.modules.size,o=e.modules.data,a=r+2*i.margin,s=i.color.light.a?"<path "+f(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+f(i.color.dark,"stroke")+' d="'+function(e,t,n){for(var i="",r=0,o=!1,a=0,s=0;s<e.length;s++){var l=Math.floor(s%t),d=Math.floor(s/t);l||o||(o=!0),e[s]?(a++,0<s&&0<l&&e[s-1]||(i+=o?m("M",l+n,.5+d+n):m("m",r,0),r=0,o=!1),l+1<t&&e[s+1]||(i+=m("h",a),a=0)):r++}return i}(o,r,i.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',c='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+s+l+"</svg>\n";return"function"==typeof n&&n(null,c),c}},function(e,t,n){var i=n(50);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(1).default)("6897af42",i,!0,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n#topsQRCode[data-v-a76c4600] {\n  width: 140px;\n  border-radius: 4px;\n  border: 1px solid black;\n  overflow: hidden;\n  background: #fff;\n}\n#topsQRCode .qrcode[data-v-a76c4600] {\n    height: 140px;\n    margin: 0;\n}\n#topsQRCode .qrState[data-v-a76c4600] {\n    text-align: center;\n    margin: 0;\n    padding: 0 0 4px 0;\n    color: #444;\n    font-size: 12px;\n}\n",""])},function(e,t,n){var i=n(52);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(1).default)("817df908",i,!0,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.listPage {\n  padding: 0px 16px;\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 20px);\n  max-height: 100vh;\n}\n.listPage .listPage_search {\n    height: auto;\n}\n.listPage .listPage_table {\n    flex-grow: 1;\n    overflow: hidden;\n}\n",""])},function(e,t,n){var i=n(54);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(1).default)("78046361",i,!0,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.label {\n  margin: 0;\n  margin-top: 6px;\n  padding-bottom: 12px;\n  font-size: 14px;\n  color: #606266;\n}\n.spider_form_search {\n  padding: 16px 0 0;\n}\n.spider_form_search .title {\n    font-weight: 700;\n    font-size: 20px;\n    color: #303133;\n    word-break: break-all;\n}\n.spider_form_search .el-dropdown {\n    margin-right: 4px;\n}\n.spider_form_search .el-dropdown .el-button {\n      padding: 8px 6px 8px 8px;\n}\n.spider_form_search .el-dropdown .el-button:nth-child(2) {\n      padding: 8px 2px;\n}\n.spider_form_search .el-button--cutOff {\n    width: 0px;\n    padding: 8px 0;\n    border: none;\n    border-left: 1px solid #333;\n    height: 24px;\n    cursor: inherit;\n}\n.spider_form_search .el-button--danger {\n    background-color: red;\n    border-color: red;\n    padding: 9px 15px;\n}\n.spider_form_search .btnButton .el-button {\n    margin-left: 1px;\n    border-radius: 0;\n}\n.spider_form_search .btnButton .el-button:nth-child(1) {\n    border-top-left-radius: 4px;\n    margin-left: 0px;\n    border-bottom-left-radius: 4px;\n}\n.spider_form_search .btnButton .el-button:last-child {\n    border-top-right-radius: 4px;\n    border-bottom-right-radius: 4px;\n    margin-right: 0px;\n}\n.spider_form_search .padding12Bottom {\n    padding-bottom: 12px;\n}\n.spider_form_search .alignRight {\n    display: flex;\n    justify-content: flex-end;\n}\n.spider_form_search .flexEnd {\n    display: flex;\n    justify-content: flex-end;\n    flex: 1;\n}\n.spider_form_search .flexStart {\n    display: flex;\n    justify-content: flex-start;\n    flex: 1;\n}\n.noRestBtnStyle {\n  display: flex;\n  justify-content: space-between;\n}\n",""])},function(e,t,n){var i=n(56);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(1).default)("1ca948f0",i,!0,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,'\n@charset "UTF-8";\n.isDialog.isFlagSearch .bottomFixed {\n  margin-left: -16px;\n  padding-left: 16px;\n}\n.isDialog.isFlagSearch .el-dialog {\n  position: fixed;\n  right: 0;\n  margin-bottom: 0;\n  margin-top: 0 !important;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n.isDialog.isFlagSearch .bodyScrollHeight {\n  overflow-y: auto;\n  box-sizing: border-box;\n  padding: 16px 16px;\n  flex-grow: 1;\n}\n.isDialog.isFlagSearch .el-dialog__header {\n  display: flex;\n}\n.isDialog.isFlagSearch .el-dialog__headerbtn {\n  top: calc(50% - 16px);\n  left: -40px;\n  width: 40px;\n  height: 40px;\n  background: #409eff;\n}\n.isDialog.isFlagSearch .el-dialog__headerbtn .el-dialog__close {\n    color: white;\n    font-size: 24px;\n}\n.isDialog.isFlagSearch ._dialogHeader {\n  height: auto;\n}\n.isDialog.isFlagSearch ._dialogFooter {\n  height: auto;\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n}\n@keyframes dialog-fade-in {\n0% {\n    transform: translate3d(100%, 0, 0);\n    opacity: 0;\n}\n50% {\n    transform: translate3d(0, 0, 0);\n    opacity: 0.5;\n}\n100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n}\n}\n@keyframes dialog-fade-out {\n0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n}\n50% {\n    transform: translate3d(0, 0, 0);\n    opacity: 0.5;\n}\n100% {\n    transform: translate3d(100%, 0, 0);\n    opacity: 0;\n}\n}\n.el-dialog__header {\n  display: flex;\n  font-size: 12px;\n  font-weight: normal;\n  font-stretch: normal;\n  letter-spacing: 0px;\n  color: rgba(0, 0, 0, 0.8);\n}\n.noDialogHeader .el-dialog__header {\n  height: 0;\n  padding: 0;\n}\n.el-dialog__body {\n  display: flex;\n  flex-direction: column;\n}\n.el_dialog_myself .el-dialog__body {\n  padding: 16px 16px 0;\n}\n.el_dialog_myself .el-dialog__footer {\n  padding: 16px 16px 20px;\n  text-align: left;\n  z-index: 2;\n  position: relative;\n}\n.isFlagSearch .el-dialog__body {\n  padding: 0px;\n}\n.bodyScrollHeight::-webkit-scrollbar {\n  /*滚动条整体样式*/\n  width: 0px;\n  /*高宽分别对应横竖滚动条的尺寸*/\n  height: 4px;\n}\n.bodyScrollHeight::-webkit-scrollbar-thumb {\n  /*滚动条里面小方块*/\n  border-radius: 5px;\n  -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\n  background: rgba(0, 0, 0, 0.2);\n}\n.bodyScrollHeight::-webkit-scrollbar-track {\n  /*滚动条里面轨道*/\n  -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\n  border-radius: 0;\n  background: rgba(0, 0, 0, 0.1);\n}\n',""])},function(e,t,n){var i=n(58);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(1).default)("88298128",i,!0,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.el-row--flex {\n  background-color: #fff;\n}\n",""])},function(e,t,n){"use strict";n.r(t);n(13),n(14),n(15),n(16);function i(e,t,n,i,r,o,a,s){var l=typeof(e=e||{}).default;"object"!=l&&"function"!=l||(e=e.default);var d,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId=o),a?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=d):r&&(d=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),d)if(c.functional){c._injectStyles=d;var u=c.render;c.render=function(e,t){return d.call(t),u(e,t)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,d):[d]}return{exports:e,options:c}}var r=i({name:"UE",data:function(){return{editor:null,isReady:!1,resultData:"",tempImgArr:[],changeHCount:0,timer:null}},props:{defaultMsg:{default:"",type:String},config:{type:Object,default:function(){return{initialFrameWidth:900,initialFrameHeight:550}}},id:{type:String},formData:{type:Object,required:!0},uploadAK:{required:!0,type:String,default:""},uploadUrl:{required:!0,type:String,default:""}},mounted:function(){var e=this;this.id&&this.initEditor(),this.uploadAK&&sessionStorage.setItem("ak",this.uploadAK),this.timer&&clearInterval(this.timer),this.timer=setInterval(function(){e.validateValue()},5e3)},watch:{defaultMsg:function(e){e&&this.isReady&&(this.editor.setContent(e),this.resultData=e)},id:function(e){e&&!this.isReady&&this.initEditor()}},methods:{initEditor:function(){var e=this,t={serverUrl:this.uploadUrl};t=Object.assign(t,this.config),this.editor=UE.getEditor(this.id,t),this.editor.addListener("ready",function(){e.isReady=!0,e.editor.setContent(e.defaultMsg)}),this.editor.addListener("blur",function(){e.valueChange(e.editor.getContent()),e.editor.hasContents()&&e.$parent&&e.$parent.clearValidate&&e.$parent.clearValidate()})},getUEContent:function(){return this.resultData},validateValue:function(){this.editor.hasContents()?(this.$parent&&this.$parent.clearValidate&&this.$parent.clearValidate(),this.valueChange(this.editor.getContent())):(this.$parent&&this.$parent.$parent&&this.$parent.$parent.$parent&&this.$parent.$parent.$parent.validateField&&this.$parent.$parent.$parent.validateField(this.$parent.labelFor),this.formData[this.$parent.labelFor]="")},changeHTag:function(e){return 0<this.changeHCount?e:(this.changeHCount=1,e=(e=(e=(e=(e=e.replace(/<h1(.*?)<\/h1>/g,"<h2$1</h2>")).replace(/<h3(.*?)<\/h3>/g,"<h2$1</h2>")).replace(/<h4(.*?)<\/h4>/g,"<h5$1</h5>")).replace(/<h6(.*?)<\/h6>/g,"<h5$1</h5>")).replace(/<p><\/p>/g,""))},imgDiff:function(e){var n=this,i=this.tempImgArr;if(0===i.length)return this.tempImgArr=Array.from(e),e;var r=[];return e.map(function(e,t){i.includes(e)||(r.push(e),n.tempImgArr.splice(t,0,e))}),this.tempImgArr.length>e.length&&(this.tempImgArr=Array.from(e)),r},valueChange:function(e){var s=this,l=e,t=(l=this.changeHTag(l))&&l.match(/<img\b.*?(?:\>|\/>)/gi)||[];JSON.stringify(this.tempImgArr)!==JSON.stringify(t)&&0!==(t=this.imgDiff(t)).length?t.map(function(r){var o=r,e=o.match(/\bsrc\b\s*=\s*[\'\"]?([^\'\"]*)[\'\"]?/i),a=new Image;a.src=e[1],a.onload=function(){var e=/\bstyle\b\s*=\s*[\'\"]?([^\'\"]*)[\'\"]?/i,t="width:"+a.width/2+"px !important;height:"+a.height/2+"px !important;";if(600<a.width){o=(o=(o=(o=(o=(o=(o=(o=(o=(o=o.replace(/\width\b\s*=\s*[\'\"]?([^\'\"]*)[\'\"]?/i,"")).replace(/\height\b\s*=\s*[\'\"]?([^\'\"]*)[\'\"]?/i,"")).replace(/\width\b\s*:\s*([^;"]*)[;]?/i,"")).replace(/\height\b\s*:\s*([^;"]*)[;]?/i,"")).replace(/\min-width\b\s*:\s*([^;"]*)[;]?/i,"")).replace(/\min-height\b\s*:\s*([^;"]*)[;]?/i,"")).replace(/\max-width\b\s*:\s*([^;"]*)[;]?/i,"")).replace(/\max-height\b\s*:\s*([^;"]*)[;]?/i,"")).replace(/\data-w\b\s*:\s*([^;"]*)[;]?/i,"")).replace(/\data-h\b\s*:\s*([^;"]*)[;]?/i,"")}else if(200<a.width){o=o.match(e)?o.replace(e,'style="$1'+t+'"'):o.replace(/<img(\b.*?(?:\>|\/>))/i,'<img style="'+t+'"$1 ');var n=new RegExp("("+t+")+","igm");o=o.replace(n,t),l=l.replace(/<p width="100%" style="text-align: center;">(.*?)<\/p>/g,"$1"),o='<p width="100%" style="text-align: center;">'+o+"</p>"}else{o=o.match(e)?o=o.replace(e,'style="$1'+t+'"'):o.replace(/<img(\b.*?(?:\>|\/>))/i,'<img style="'+t+'"$1 ');var i=new RegExp("("+t+")+","igm");o=o.replace(i,t)}l=l.replace(r,o),s.resultData=l}}):this.resultData=l}},destroyed:function(){this.timer&&clearInterval(this.timer),this.editor.destroy()}},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("script",{attrs:{id:this.id,type:"text/plain"}})])},[],!1,function(e){n(19)},null,null).exports,u=null,o=i({name:"Map",props:{disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},bindData:{required:!0,type:String},formData:{type:Object,default:function(){}},bindName:{type:Array,default:function(){return[]}},inputStyle:{type:Object,default:function(){return{width:"800px"}}}},data:function(){var e=this.bindData;return{ids:{map:e+"_js_map",suggestId:e+"_suggestId",searchResult:e+"_searchResult"},style:{"min-width":"500px","max-width":"800px",height:"500px","margin-top":"16px"}}},mounted:function(){this.initMap(),this.initEvent()},beforeUpdate:function(){this.initEvent()},destroyed:function(){u.addEventListener("click",this.clickMap)},methods:{initEvent:function(){var e=this.bindName,t=this.formData,n=this.bindData,i=this.ids,r=this.initMap,o=this.findId;setTimeout(function(){r(t[e[0]],t[e[1]])},10),setTimeout(function(){o(i.suggestId).value=t[n]||""},10)},searchMap:function(i){var r=this.ids,e=new BMap.Autocomplete({input:r.suggestId,location:i}),o=this;this.disabled||(e.addEventListener("onhighlight",function(e){var t="",n=e.fromitem.value,i="";-1<e.fromitem.index&&(i=n.province+n.city+n.district+n.street+n.business),t="FromItem<br />index = "+e.fromitem.index+"<br />value = "+i,i="",-1<e.toitem.index&&(i=(n=e.toitem.value).province+n.city+n.district+n.street+n.business),t+="<br />ToItem<br />index = "+e.toitem.index+"<br />value = "+i,o.findId(r.searchResult).innerHTML=t}),e.addEventListener("onconfirm",function(e){var t=e.item.value,n=t.province+t.city+t.district+t.street+t.business;o.findId(r.searchResult).innerHTML="onconfirm<br />index = "+e.item.index+"<br />myValue = "+n,o.setPlace(i,n)}))},setPlace:function(t,r){var o=this;t.clearOverlays();var n=new BMap.LocalSearch(t,{onSearchComplete:function(){var e=n.getResults().getPoi(0).point;t.centerAndZoom(e,15),t.addOverlay(new BMap.Marker(e))}});n.search(r),n.setSearchCompleteCallback(function(e){var t=e.getPoi(0),n=o.bindName,i=o.bindData;o.ids;0<n.length&&(o.$set(o.formData,n[0],t.point.lng),o.$set(o.formData,n[1],t.point.lat),o.$set(o.formData,i,r))})},initMap:function(e,t){var n=this,i=0<arguments.length&&void 0!==e?e:0,r=1<arguments.length&&void 0!==t?t:0,o=new BMap.Map(this.ids.map),a=new BMap.MapTypeControl({anchor:BMAP_ANCHOR_TOP_RIGHT}),s=new BMap.ScaleControl({anchor:BMAP_ANCHOR_TOP_LEFT}),l=new BMap.NavigationControl,d=new BMap.Point(i,r),c=new BMap.Marker(d);o.addControl(s),o.addControl(l),o.addControl(a),o.enableDoubleClickZoom(),o.enableScrollWheelZoom(),o.addOverlay(c),o.centerAndZoom(d,15),u=o,this.disabled||this.searchMap(o),u.addEventListener("click",function(e){return n.clickMap(e)})},clickMap:function(e){var t=this;if(!this.disabled){var n=new BMap.Geocoder,i=this.bindName,r=this.bindData;this.ids;n.getLocation(e.point,function(e){t.$set(t.formData,r,e.address)}),0<i.length&&(this.$set(this.formData,i[0],e.point.lng),this.$set(this.formData,i[1],e.point.lat)),this.initMap(e.point.lng,e.point.lat)}},findId:function(e){return document.getElementById(e)}}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-input",{ref:"mapInput",style:t.inputStyle,attrs:{id:t.ids.suggestId,disabled:t.disabled,placeholder:t.placeholder},model:{value:t.formData[t.bindData],callback:function(e){t.$set(t.formData,t.bindData,e)},expression:"formData[bindData]"}}),t._v(" "),n("div",{style:t.style,attrs:{id:t.ids.map}}),t._v(" "),n("div",{staticStyle:{border:"1px solid #C0C0C0",width:"150px",height:"auto",display:"none"},attrs:{id:t.ids.searchResult}})],1)},[],!1,null,null,null).exports,a=n(11);function s(e,t){var n=1<arguments.length&&void 0!==t?t:300,i=sessionStorage.getItem(e),r=(new Date).getTime();return i?r>Number(i)+n&&(sessionStorage.setItem(e,r),!0):(sessionStorage.setItem(e,r),!0)}var l=i({name:"UploadItem",components:{draggable:n.n(a).a},props:{max:{type:Number,default:1},hint:{type:[Array,String],default:""},flagType:{required:!0,type:String},bindName:{required:!0,type:String},disabled:{type:Boolean,default:!1},formData:{type:Object,default:function(){}},size:{type:Number,default:1e4},isFacePic:{type:Boolean,default:!1},isWrite:{type:Boolean,default:!1},isWriteFun:{type:Function,default:function(){}},uploadAK:{required:!0,type:String,default:""},uploadUrl:{required:!0,type:String,default:""}},data:function(){return{dragOptions:{sort:!0,group:!0,disabled:this.disabled},dialogVisible:!1,dialogImageUrl:"",headers:{Authorization:this.uploadAK},isUploadList:[]}},methods:{handleRemove:function(e,t){var n=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t));(n=n.map(function(e){var t=e.response;return t?t.Data[0]:e})).length?this.formData[this.bindName]=n:(this.formData[this.bindName]=null,this.$parent&&this.$parent.$parent&&this.$parent.$parent.$parent&&this.$parent.$parent.$parent.validateField&&this.$parent.$parent.$parent.validateField([this.bindName]))},handleAvatarSuccess:function(e){var t=[];this.formData[this.bindName]instanceof Array&&(t=this.formData[this.bindName]),t.push(e.Data[0]),this.$set(this.formData,this.bindName,t),"video"===this.flagType&&this.isLoading(!1),this.$parent&&this.$parent.clearValidate&&this.$parent.clearValidate(),console.log("========上传成功========",this.formData,e.Data)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},beforeAvatarUpload:function(e){if((this.formData[this.bindName]||[]).filter(function(e){return"success"===e.status||!e.status}).length>=this.max)return this.$message.error("最多只能上传"+this.max+"张!"),!1;var t=void 0;if("video"===this.flagType){this.isLoading(!0);if(t=e.size/1024/1024<this.size,!/video/.test(e.type))return this.isLoading(!1),this.$message.error("只能上传视频图片格式!"),!1}else if("picture"===this.flagType){if(t=e.size/1024/1024<this.size,!/jpeg|png/.test(e.type))return this.$message.error("只能上传jpg、png 图片格式!"),!1}return t||(this.$message.error("上传文件不能超过"+this.size+"MB!"),!1)},isLoading:function(e){if(0<arguments.length&&void 0!==e&&e){var t=document.querySelector(".sf_upload");window.tops_loading=this.$loading({target:t,lock:!0,text:"Loading...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}else window.tops_loading.close()},url_queryString:function(e){var t=new RegExp("[?&]s*"+e+"s*=([^&$#]*)","i"),n=location.pathname&&"/"!==location.pathname?location.pathname:location.search,i=t.exec(n);if(i&&2===i.length)return"ak"===e&&window.sessionStorage.setItem("ak",i[1]),decodeURIComponent(i[1])}}},function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",{staticClass:"sf_upload"},[i("el-upload",{ref:"upload",class:{uploadSHow:n.disabled,upload:!0},attrs:{action:n.uploadUrl,"list-type":"picture-card","on-preview":n.handlePictureCardPreview,"on-remove":n.handleRemove,"before-upload":n.beforeAvatarUpload,disabled:n.disabled,headers:n.headers,"file-list":n.formData[n.bindName]||[],"with-credentials":!0,"on-success":n.handleAvatarSuccess,"show-file-list":!1}},[i("el-button",{staticClass:"uploadImgOrVideo",attrs:{type:"primary"}},[n._v("上传")])],1),n._v(" "),n.formData[n.bindName]?i("draggable",n._b({staticClass:"draggable",attrs:{tag:"ul"},model:{value:n.formData[n.bindName],callback:function(e){n.$set(n.formData,n.bindName,e)},expression:"formData[bindName]"}},"draggable",n.dragOptions,!1),n._l(n.formData[n.bindName],function(t,e){return i("li",{key:t.url+e},[n.disabled?n._e():i("div",{staticClass:"sortAndCkeck"},[i("span",[n._v(n._s(e+1))]),n._v(" "),i("el-checkbox",{model:{value:t.checked,callback:function(e){n.$set(t,"checked",e)},expression:"item.checked"}})],1),n._v(" "),!n.disabled&&0===e&&n.isFacePic?i("div",{staticClass:"facePic"}):n._e(),n._v(" "),i("span",{staticClass:"icon"},[n.isWrite?i("i",{staticClass:"el-icon-tickets",on:{click:function(){return n.isWriteFun(t)}}}):n._e(),n._v(" "),i("i",{staticClass:"el-icon-zoom-in",on:{click:function(){return n.handlePictureCardPreview(t)}}}),n._v(" "),n.disabled?n._e():i("i",{staticClass:"el-icon-delete",on:{click:function(){return n.handleRemove(t,n.formData[n.bindName].filter(function(e){return e.url!==t.url}))}}})]),n._v(" "),"picture"===n.flagType?i("img",{attrs:{src:t.url,alt:""}}):n._e(),n._v(" "),"video"===n.flagType?i("div",{staticClass:"uploadVideo"},[i("video",{class:{video:!0,deleteShow:n.disabled},attrs:{src:t.url,controls:"controls"}},[n._v("您的浏览器不支持视频播放")]),n._v(" "),n.disabled?n._e():i("span",{on:{click:function(){return n.handleRemove(t,n.formData[n.bindName].filter(function(e){return e.url!==t.url}))}}},[n._v("删除")])]):n._e()])}),0):n._e(),n._v(" "),Array.isArray(n.hint)?i("div",{staticClass:"hint"},n._l(n.hint,function(e,t){return i("p",{key:t},[n._v(n._s(e))])}),0):i("span",[n._v(n._s(n.hint))]),n._v(" "),i("el-dialog",{attrs:{visible:n.dialogVisible},on:{"update:visible":function(e){n.dialogVisible=e}}},[i("img",{attrs:{width:"100%",src:n.dialogImageUrl,alt:""}})])],1)},[],!1,function(e){n(21)},null,null).exports,d=(n(26),n(12)),c=n.n(d),f=0,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var h=i({name:"TableItem",components:{},props:{stripe:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},tableData:{type:Array,required:!0,default:function(){return[]}},tableTitle:{type:Array,required:!0,default:function(){return[]}},searchParams:{type:Object,required:!0,default:function(){}},fromType:{type:String,default:"other"},borderTable:{type:Boolean,default:!0},mergeSpan:{type:Function,default:function(){}},uniqueSelect:{type:Boolean,default:!1}},data:function(){return{multipleSelection:[],height:1e4}},computed:{currentPageCount:function(){var e=this.searchParams.pageSize*this.searchParams.pageIndex;return this.searchParams.pageSize*(this.searchParams.pageIndex-1)+1+"-"+(e>this.searchParams.count?this.searchParams.count:e)},hasData:function(){return this.tableData&&this.tableData[0]&&this.tableData[0].childItems.length}},mounted:function(){var e=this;window.onresize=function(){e.changeHeight()}},updated:function(){this.changeHeight()},methods:{changeHeight:function(){var n=this;s("table",500)&&setTimeout(function(){if(n.searchParams.count){var e=document.querySelector(".data_table");if(e){var t=e.offsetHeight;"other"===n.fromType?n.height=window.innerHeight-e.offsetTop-90:"listPage"===n.fromType?n.height=t-56:"form"===n.fromType&&(n.height=1e4)}}else n.height=1e4},500)},search:function(e,t){switch(console.log(t,e),t){case"current":this.$emit("searchList",m({},this.searchParams,{pageIndex:e}));break;case"size":this.$emit("searchList",m({},this.searchParams,{pageSize:e}))}},handleSizeChange:function(e){this.search(e,"size"),console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.search(e,"current"),console.log("当前页: "+e)},handleSelectionChange:function(e){this.uniqueSelect?(this.uniqueSelectFun(e),this.multipleSelection=[e[e.length-1]]):this.multipleSelection=e,console.log(this.multipleSelection)},uniqueSelectFun:function(e){var t=this;e.slice(0,-1).map(function(e){t.$refs.multipleTable.toggleRowSelection(e)})},hintValue:function(e){return""===e||null==e?"-":e}}},function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",{staticClass:"data_table"},[i("el-table",{ref:"multipleTable",class:{noData:!n.tableData.length},style:{width:"100%"},attrs:{stripe:n.stripe,border:n.borderTable,data:n.tableData,"tooltip-effect":"dark","span-method":n.mergeSpan,"show-header":n.showHeader,"max-height":n.height},on:{"selection-change":n.handleSelectionChange}},n._l(n.tableTitle,function(t){return i("el-table-column",{key:t.prop,attrs:{type:t.type,width:t.width,align:t.align||"left",prop:t.prop,fixed:t.fixed,label:t.label,sortable:t.sortable,"sort-method":function(e){return t.filterSort(e)||function(){}},formatter:t.render||function(e){return n.hintValue(e[t.prop])},filters:t.filters,"filter-method":t.filterHandler,"filter-placement":t.filterPlacement||"bottom-end"}},[t.mergeColHeader?n._l(t.mergeColHeader||[],function(t){return i("el-table-column",{key:t.prop,attrs:{width:t.width,align:t.align||"left",prop:t.prop,label:t.label,sortable:t.sortable,"sort-method":function(e){return t.filterSort(e)||function(){}},formatter:t.render||function(e){return n.hintValue(e[t.prop])},filters:t.filters,"filter-method":t.filterHandler,"filter-placement":t.filterPlacement||"bottom-end"}},[t.mergeColHeader?n._l(t.mergeColHeader||[],function(t){return i("el-table-column",{key:t.prop,attrs:{width:t.width,align:t.align||"left",prop:t.prop,label:t.label,sortable:t.sortable,"sort-method":function(e){return t.filterSort(e)||function(){}},formatter:t.render||function(e){return n.hintValue(e[t.prop])},filters:t.filters,"filter-method":t.filterHandler,"filter-placement":t.filterPlacement||"bottom-end"}})}):n._e()],2)}):n._e()],2)}),1),n._v(" "),n.searchParams.count?i("div",{staticClass:"pagination"},[i("span",{staticClass:"currentPageCount"},[n._v("共 "+n._s(n.searchParams.count)+" 条  当前显示 "+n._s(n.currentPageCount)+" 条 ")]),n._v(" "),i("el-pagination",{attrs:{background:"","current-page":n.searchParams.pageIndex,"page-sizes":[10,20,50,100],"page-size":n.searchParams.pageSize,layout:" sizes, prev, pager, next, jumper",total:n.searchParams.count},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}})],1):n._e()],1)},[],!1,function(e){n(24)},null,null).exports;var p=i({name:"QRCode",props:{url:{type:String,required:!0},id:{type:String,default:"tops_qrcode"},qrState:{type:String,default:""}},data:function(){return{}},mounted:function(){document.getElementById(this.id).innerHTML=function n(i){var r="";return c.a.toString(i,function(e,t){if(e){if(5<++f)throw e;n(i)}r=t}),r}(this.url)}},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"topsQRCode"}},[t("div",{staticClass:"qrcode",attrs:{id:this.id}}),this._v(" "),this.qrState?t("p",{staticClass:"qrState"},[this._v(this._s(this.qrState))]):this._e()])},[],!1,function(e){n(49)},"data-v-a76c4600",null).exports;var g={idCard:{validator:function(e,t,n){return t?/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(t)?void n():n(new Error("证件号码不正确")):n(new Error("证件号码不能为空"))},trigger:["blur","change"]},phone:{pattern:/^1\d{10}$/,message:"目前只支持中国大陆的手机号码",trigger:["blur","change"]},email:{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}},v=i({name:"connectOrExtra",props:{item:{type:Object,required:!0}}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.item.connect?n("span",{staticClass:"spider_form_data_connect"},[t._v(t._s(t.item.connect))]):t._e(),t._v(" "),t.item.extra?n("span",{staticClass:"spider_form_data_extra",style:t.item.extraStyle||{},on:{click:function(e){return t.item.extraFun&&t.item.extraFun()||function(){}}}},[t._v(t._s(t.item.extra))]):t._e()])},[],!1,null,null,null).exports,b=i({name:"Input",props:{item:{type:Object,required:!0},formData:{type:Object,required:!0},formType:{type:Object,required:!0},allDisabled:{type:Boolean,required:!0}}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-input",{style:t.item.inputStyle||{},attrs:{disabled:t.item.disabled,placeholder:t.item.disabled||t.allDisabled?"":t.item.placehold||t.formType[t.item.type]+t.item.label,clearable:t.item.clearable,maxlength:t.item.maxLength,minlength:t.item.minLength},on:{change:function(e){return t.item.change&&t.item.change(e)||function(){}}},model:{value:t.formData[t.item.name],callback:function(e){t.$set(t.formData,t.item.name,e)},expression:"formData[item.name]"}},[t.item.append?n("el-button",{attrs:{slot:"append",icon:t.item.appendIcon||"el-icon-search"},on:{click:function(){return t.item.appendFun&&t.item.appendFun()||function(){}}},slot:"append"}):t._e(),t._v(" "),t.item.suffix?n("i",{class:t.item.suffixIcon,style:t.item.suffixStyle||{},attrs:{slot:"suffix"},on:{click:function(){return t.item.suffixFun&&t.item.suffixFun()||function(){}}},slot:"suffix"}):t._e(),t._v(" "),t.item.appendHtml?n("span",{style:t.item.appendHtmlStyle||{},attrs:{slot:"suffix"},domProps:{innerHTML:t._s(t.item.appendHtmlText||"")},on:{click:function(){return t.item.appendHtmlFun&&t.item.appendHtmlFun()||function(){}}},slot:"suffix"}):t._e()],1)},[],!1,null,null,null).exports,y=i({name:"autocomplete",props:{item:{type:Object,required:!0},formData:{type:Object,required:!0},formType:{type:Object,required:!0},allDisabled:{type:Boolean,required:!0}}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-autocomplete",{style:t.item.inputStyle||{},attrs:{disabled:t.item.disabled,"fetch-suggestions":t.item.querySearchAsync,placeholder:t.item.disabled||t.allDisabled?"":t.item.placehold||t.formType[t.item.type]+t.item.label,debounce:100,clearable:t.item.clearable},on:{select:function(e){return t.item.selectFun&&t.item.selectFun(e)||function(){}}},model:{value:t.formData[t.item.name],callback:function(e){t.$set(t.formData,t.item.name,e)},expression:"formData[item.name]"}},[t.item.append?n("el-button",{attrs:{slot:"append",icon:t.item.appendIcon||"el-icon-search"},on:{click:function(){return t.item.appendFun&&t.item.appendFun()||function(){}}},slot:"append"}):t._e(),t._v(" "),t.item.suffix?n("i",{class:t.item.suffixIcon,style:t.item.suffixStyle||{},attrs:{slot:"suffix"},on:{click:function(){return t.item.suffixFun&&t.item.suffixFun()||function(){}}},slot:"suffix"}):t._e(),t._v(" "),t.item.appendHtml?n("span",{style:t.item.appendHtmlStyle||{},attrs:{slot:"suffix"},domProps:{innerHTML:t._s(t.item.appendHtmlText||"")},on:{click:function(){return t.item.appendHtmlFun&&t.item.appendHtmlFun()||function(){}}},slot:"suffix"}):t._e()],1)},[],!1,null,null,null).exports,x=i({name:"cascader",props:{item:{type:Object,required:!0},formData:{type:Object,required:!0},formType:{type:Object,required:!0},allDisabled:{type:Boolean,required:!0}}},function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-cascader",{style:t.item.inputStyle||{},attrs:{disabled:t.item.disabled,clearable:t.item.clearable,options:t.item.data||[],props:t.item.props,debounce:t.item.debounce||300,"change-on-select":t.item.change_on_select,filterable:t.item.filterable,size:t.item.size||"medium",separator:t.item.separator||"/",placeholder:t.item.disabled||t.allDisabled?"":t.item.placehold||t.formType[t.item.type]+t.item.label},on:{change:function(e){return t.item.selectFun&&t.item.selectFun(e)||function(){}}},model:{value:t.formData[t.item.name],callback:function(e){t.$set(t.formData,t.item.name,e)},expression:"formData[item.name]"}})},[],!1,null,null,null).exports,w=i({name:"selectItem",props:{item:{type:Object,required:!0},formData:{type:Object,required:!0},formType:{type:Object,required:!0},allDisabled:{type:Boolean,required:!0}}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.item.filterSearch?n("el-select",{style:t.item.inputStyle||{},attrs:{disabled:t.item.disabled,filterable:t.item.filterable,clearable:t.item.clearable,multiple:t.item.multiple,"multiple-limit":t.item.multipleLimit,"allow-create":t.item.allowCreate,"default-first-option":t.item.allowCreate,placeholder:t.item.disabled||t.allDisabled?"":t.item.placehold||t.formType[t.item.type]+t.item.label,"filter-method":t.item.filterSearch||function(){}},on:{change:function(e){return t.item.selectFun&&t.item.selectFun(e)||function(){}}},model:{value:t.formData[t.item.name],callback:function(e){t.$set(t.formData,t.item.name,e)},expression:"formData[item.name]"}},t._l(t.item.data,function(e,t){return n("el-option",{key:t,attrs:{label:e.label||e.itemLabel||e.paramName||e.name,value:e.value||e.itemValue||e.paramValue||e.id,disabled:e.disabled}})}),1):n("el-select",{style:t.item.inputStyle||{},attrs:{disabled:t.item.disabled,clearable:t.item.clearable,filterable:t.item.filterable,"multiple-limit":t.item.multipleLimit,multiple:t.item.multiple,"allow-create":t.item.allowCreate,"default-first-option":t.item.allowCreate,placeholder:t.item.disabled||t.allDisabled?"":t.item.placehold||t.formType[t.item.type]+t.item.label},on:{change:function(e){return t.item.selectFun&&t.item.selectFun(e)||function(){}}},model:{value:t.formData[t.item.name],callback:function(e){t.$set(t.formData,t.item.name,e)},expression:"formData[item.name]"}},t._l(t.item.data,function(e,t){return n("el-option",{key:t,attrs:{label:e.label||e.itemLabel||e.paramName||e.name,value:e.value||e.itemValue||e.paramValue||e.id,disabled:e.disabled}})}),1)},[],!1,null,null,null).exports,C=i({name:"twoDate",props:{item:{type:Object,required:!0},formData:{type:Object,required:!0},formType:{type:Object,required:!0},allDisabled:{type:Boolean,required:!0}}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-col",{attrs:{span:11}},[n("el-form-item",{attrs:{prop:"begin"+t.item.name}},[n("el-date-picker",{attrs:{type:t.item.dateType||"datetime",format:t.item.format||"yyyy-MM-dd HH:mm:ss","value-format":t.item.format||"yyyy-MM-dd HH:mm:ss",placeholder:t.item.disabled||t.allDisabled?"":t.item.placehold||t.formType[t.item.type]+"开始"+t.item.label,disabled:t.item.disabled},model:{value:t.formData["begin"+t.item.name],callback:function(e){t.$set(t.formData,"begin"+t.item.name,e)},expression:"formData[`begin${item.name}`]"}})],1)],1),t._v(" "),n("el-col",{staticClass:"center",staticStyle:{textAlign:"center"},attrs:{span:2}},[t._v("-")]),t._v(" "),n("el-col",{attrs:{span:11}},[n("el-form-item",{attrs:{prop:"end"+t.item.name}},[n("el-date-picker",{attrs:{type:t.item.dateType||"datetime",format:t.item.format||"yyyy-MM-dd HH:mm:ss","value-format":t.item.format||"yyyy-MM-dd HH:mm:ss",placeholder:t.item.disabled||t.allDisabled?"":t.item.placehold||t.formType[t.item.type]+"结束"+t.item.label,disabled:t.item.disabled},model:{value:t.formData["end"+t.item.name],callback:function(e){t.$set(t.formData,"end"+t.item.name,e)},expression:"formData[`end${item.name}`]"}})],1)],1)],1)},[],!1,null,null,null).exports,_=i({name:"RadioItem",props:{item:{type:Object,required:!0},formData:{type:Object,required:!0},formType:{type:Object,required:!0},allDisabled:{type:Boolean,required:!0}}},function(){var n=this,e=n.$createElement,i=n._self._c||e;return n.item.radioBtn?i("el-radio-group",{attrs:{size:"small",disabled:n.item.disabled},on:{change:function(e){return n.item.selectFun&&n.item.selectFun(e)||function(){}}},model:{value:n.formData[n.item.name],callback:function(e){n.$set(n.formData,n.item.name,e)},expression:"formData[item.name]"}},n._l(n.item.data,function(e,t){return i("el-radio-button",{key:t,attrs:{border:n.item.border,label:e.value||e.itemValue||e.paramValue||e.id}},[n._v(n._s(e.label||e.itemLabel||e.paramName||e.name))])}),1):i("el-radio-group",{class:{columnRadio:n.item.column,rowsRadio:n.item.rows},attrs:{disabled:n.item.disabled},on:{change:function(e){return n.item.selectFun&&n.item.selectFun(e)||function(){}}},model:{value:n.formData[n.item.name],callback:function(e){n.$set(n.formData,n.item.name,e)},expression:"formData[item.name]"}},n._l(n.item.data,function(e,t){return i("el-radio",{key:t,attrs:{border:n.item.border,label:e.value||e.itemValue||e.paramValue||e.id}},[n._v(n._s(e.label||e.itemLabel||e.paramName||e.name))])}),1)},[],!1,null,null,null).exports,N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var E=i({name:"Form",components:{UE:r,Map:o,Upload:l,TableItem:h,qrcode:p,connectOrExtra:v,Input:b,Autocomplete:y,Cascader:x,SelectItem:w,TwoDate:C,RadioItem:_},props:{formItems:{type:Array,required:!0,default:function(){return[]}},saveBtnText:{type:String,default:"保 存"},cancelBtnText:{type:String,default:"取 消"},labelWidth:{type:String,default:"150px"},buttons:{type:Array,default:function(){return[]}},saveBtn:{type:Boolean,default:!1},cancelBtn:{type:Boolean,default:!1},formData:{type:Object,default:function(){}},allDisabled:{type:Boolean,default:!1},searchFooterMar:{type:Boolean,default:!1},searchSpan:{type:Number,default:24},formWidth:{type:String,default:""},modelForm:{type:Boolean,default:!1},flexleftOrCenter:{type:String,default:"left"},bottomFixed:{type:Boolean,default:!1}},data:function(){return{rules:{},formType:{input:"请输入",ue:"请输入",textarea:"请输入",autocomplete:"请输入",number:"请输入",date:"请选择",select:"请选择",twoDate:"请选择",selectGroup:"请选择",checkboxs:"请选择",map:"请输入",videoOrPicture:"请传入",radio:"请选择",tree:"请选择",cascader:"请选择"}}},mounted:function(){this.allDisabled&&this.isDisabledStyle()},updated:function(){this.allDisabled&&this.isDisabledStyle()},created:function(){this.createRules()},methods:{validateFun:function(e,n,t,i){var r=this;if(s("form",500)){if(!t)return i&&(this.isLoading(!0),setTimeout(function(){r.isLoading(!1)},1e3)),void n();console.log("validate",t),this.$refs[e].validate(function(e,t){r.validateUeOrvideoOrPicture(e,t)&&(console.log("validateFunform表单校验",e,t,r.formData),r.isLoading(!0),setTimeout(function(){r.isLoading(!1)},1e3),n())})}else this.$message.warning("操作过于频繁")},onSubmit:function(e,n){var i=this;s("form",500)?this.$refs[e].validate(function(e,t){i.validateUeOrvideoOrPicture(e,t)&&(console.log("onSubmitform表单校验",e,t,i.formData),i.isLoading(!0),setTimeout(function(){i.isLoading(!1)},1e3),i.$emit("save",n))}):this.$message.warning("操作过于频繁")},validateUeOrvideoOrPicture:function(e,n){var i=this,t=this.$refs,r=t.ue,o=t.videoOrPicture;return r&&r.map(function(e){i.formData[e.$parent.prop]=e.getUEContent(),i.formData[e.$parent.prop]&&(e.$parent.clearValidate(),delete n[e.$parent.labelFor])}),o&&o.map(function(e){var t=i.formData[e.$parent.labelFor];t&&0<t.length&&(e.$parent.clearValidate(),delete n[e.$parent.labelFor])}),function(e){return null!==e&&0===Object.keys(e).length}(n)&&(e=!0),e},onCancel:function(){this.$route.query.from&&"local"!==Object({NODE_ENV:"production"}).ENV?window.parent.postMessage({type:"closeTab",url:this.$route.path},"*"):window.history.back()},createRules:function(){var n=this,i=this.formType;this.formItems.map(function(e){var t=[];e.required&&t.push({required:!0,message:e.placehold||""+i[e.type]+e.label,trigger:"change"}),e.ruleType&&t.push(N({},g[e.ruleType])),e.max?e.min?t.push({min:e.min,max:e.max,message:"长度在 "+e.min+" 到 "+e.max+" 个字符",trigger:"change"}):t.push({max:e.max,message:"最多输入"+e.max+"个字符",trigger:"change"}):e.min&&t.push({min:e.min,message:"最少输入"+e.min+"个字符",trigger:"change"}),t.length&&("twoDate"===e.type?(n.rules["begin"+e.name]=t,n.rules["end"+e.name]=t):n.rules[e.name]=t)})},isDisabledStyle:function(){var e=document.querySelectorAll(".is-disabled"),t=document.querySelectorAll("#tops_qrcode"),n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=Array.from(s.classList);if(l.includes("el-input-number__decrease")||l.includes("el-input-number__increase"))return;this.nopaddingBottom(s)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}var d=!0,c=!1,u=void 0;try{for(var f,m=t[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){var h=f.value;this.nopaddingBottom(h)}}catch(e){c=!0,u=e}finally{try{!d&&m.return&&m.return()}finally{if(c)throw u}}},nopaddingBottom:function(e){for(var t=0;!(Array.from(e.parentNode.classList).includes("el-form-item")||"BODY"===e.parentNode.nodeName||(e=e.parentNode,10<++t)););Array.from(e.parentNode.classList).includes("el-form-item")&&(e.parentNode.style.marginBottom="0")},isLoading:function(e){0<arguments.length&&void 0!==e&&e?window.form_loading=this.$loading({lock:!0,text:"Loading...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}):window.form_loading.close()},twoDateStyle:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},i=t;return n.width?parseInt(n.width)+parseInt(i)+"px":"auto"}}},function(){var i=this,e=i.$createElement,r=i._self._c||e;return r("div",{class:{spider_form_data:!0,searchFlag:i.searchFooterMar,disabledStyle:i.allDisabled,modelForm:i.modelForm},style:{width:i.modelForm?"":i.formWidth}},[r("div",{class:{flexLeftOrCenter:"center"===i.flexleftOrCenter}},[r("el-form",{ref:"form",attrs:{model:i.formData,disabled:i.allDisabled,"label-width":i.labelWidth,size:i.searchFooterMar?"small":"medium",rules:i.rules}},[i._l(i.formItems,function(n,e){return r("el-col",{key:e,attrs:{span:n.span||24}},["input"!==n.type||n.hidden?i._e():r("el-form-item",{class:Object.assign({},{rowOrColumnInput:n.rowOrColumn},n.classList),attrs:{prop:n.name,label:n.label&&n.label+"：","label-width":n.labelWidth||i.labelWidth}},[r("Input",{attrs:{item:n,formData:i.formData,formType:i.formType,allDisabled:i.allDisabled}}),i._v(" "),r("connectOrExtra",{attrs:{item:n}})],1),i._v(" "),"number"!==n.type||n.hidden?i._e():r("el-form-item",{class:Object.assign({},{rowOrColumnInput:n.rowOrColumn},n.classList),attrs:{prop:n.name,label:n.label&&n.label+"：","label-width":n.labelWidth||i.labelWidth}},[r("el-input-number",{style:n.inputStyle||{},attrs:{disabled:n.disabled,placeholder:n.disabled||i.allDisabled?"":n.placehold||i.formType[n.type]+n.label,"controls-position":"right",min:n.mini,max:n.maxi,precision:n.precision},model:{value:i.formData[n.name],callback:function(e){i.$set(i.formData,n.name,e)},expression:"formData[item.name]"}}),i._v(" "),r("connectOrExtra",{attrs:{item:n}})],1),i._v(" "),"autocomplete"!==n.type||n.hidden?i._e():r("el-form-item",{class:Object.assign({},{rowOrColumnInput:n.rowOrColumn},n.classList),attrs:{prop:n.name,label:n.label&&n.label+"：","label-width":n.labelWidth||i.labelWidth}},[r("Autocomplete",{attrs:{item:n,formData:i.formData,formType:i.formType,allDisabled:i.allDisabled}}),i._v(" "),r("connectOrExtra",{attrs:{item:n}})],1),i._v(" "),"cascader"!==n.type||n.hidden?"select"!==n.type||n.hidden?"twoDate"!==n.type||n.hidden?"date"!==n.type||n.hidden?"textarea"!==n.type||n.hidden?"switch"!==n.type||n.hidden?"ue"!==n.type||n.hidden?"checkboxs"!==n.type||n.hidden?"radio"!==n.type||n.hidden?"cut"!==n.type||n.hidden?"handleClick"!==n.type||n.hidden?"qrcode"!==n.type||n.hidden?"map"!==n.type||n.hidden?"tag"!==n.type||n.hidden?"videoOrPicture"!==n.type||n.hidden?"table"!==n.type||n.hidden?i._e():r("el-form-item",{class:Object.assign({},{rowOrColumnInput:n.rowOrColumn},n.classList),attrs:{prop:n.name,label:n.label&&n.label+"：","label-width":n.labelWidth||i.labelWidth}},[!n.btnFun||n.btnFun&&n.tableData&&0<n.tableData.length?r("table-item",{ref:"tableSelect",refInFor:!0,attrs:{"table-data":n.tableData,"table-title":n.tableTitle,"search-params":{},"show-header":n.showHeader,stripe:n.stripe,"from-type":"form","unique-select":!!n.uniqueSelect}}):i._e(),i._v(" "),r("connectOrExtra",{attrs:{item:n}})],1):r("el-form-item",{class:Object.assign({},{rowOrColumnInput:n.rowOrColumn},n.classList),attrs:{prop:n.name,label:n.label&&n.label+"：","label-width":n.labelWidth||i.labelWidth}},[r("Upload",{ref:"videoOrPicture",refInFor:!0,attrs:{max:n.maxi,hint:n.hint,disabled:n.disabled||i.allDisabled,"flag-type":n.flagType,"bind-name":n.name,"form-data":i.formData,size:n.size,"is-face-pic":!!n.isFacePic,"is-write":!!n.isWrite,"is-write-fun":n.isWriteFun,uploadUrl:n.uploadUrl,uploadAK:n.uploadAK},model:{value:i.formData[n.name],callback:function(e){i.$set(i.formData,n.name,e)},expression:"formData[item.name]"}}),i._v(" "),r("connectOrExtra",{attrs:{item:n}})],1):r("el-form-item",{class:Object.assign({},{rowOrColumnInput:n.rowOrColumn},n.classList),attrs:{prop:n.name,label:n.label&&n.label+"：","label-width":n.labelWidth||i.labelWidth}},[r("div",{staticClass:"tagList"},i._l(n.data,function(e,t){return r("el-tag",{key:JSON.stringify(e)+t,attrs:{closable:n.closable,hit:n.hit,size:n.size||"medium ",type:n.typeColor},on:{close:function(){return n.closeFun&&n.closeFun(e)||function(){}}}},[i._v("\n                            "+i._s(e.value||e.itemValue||e.paramValue||e.name)+"\n                        ")])}),1),i._v(" "),r("connectOrExtra",{attrs:{item:n}})],1):r("el-form-item",{class:Object.assign({},{mapPosition:!0,rowOrColumnInput:n.rowOrColumn},n.classList),attrs:{prop:n.name,label:n.label&&n.label+"：","label-width":n.labelWidth||i.labelWidth}},[r("Map",{ref:"map",refInFor:!0,attrs:{disabled:n.disabled||i.allDisabled,placeholder:n.disabled||i.allDisabled?"":n.placehold||i.formType[n.type]+n.label,"bind-data":n.name,"bind-name":n.bindName,"form-data":i.formData,"input-style":n.inputStyle}}),i._v(" "),r("connectOrExtra",{attrs:{item:n}})],1):r("el-form-item",{class:Object.assign({},{rowOrColumnInput:n.rowOrColumn},n.classList),attrs:{label:n.label&&n.label+"：","label-width":n.labelWidth||i.labelWidth}},[r("qrcode",{attrs:{url:n.url,id:n.id,qrState:n.qrState}}),i._v(" "),r("connectOrExtra",{attrs:{item:n}})],1):r("el-form-item",{style:{marginBottom:0},attrs:{label:n.label&&n.label+"：","label-width":n.labelWidth||i.labelWidth}},[r("div",[n.btnFuntion?r("a",{staticClass:"pointer blue",style:n.inputStyle||{},on:{click:function(){return n.btnFuntion(n.handleClickData?i.formData[n.handleClickData]:null)}}},[i._v(i._s(n.btnTitle||i.formData[n.name]))]):r("a",{staticClass:"blue default",style:n.inputStyle||{}},[i._v(i._s(n.btnTitle||i.formData[n.name]))])])]):r("el-form-item",{style:{marginBottom:0},attrs:{"label-width":n.labelWidth||i.labelWidth}},[r("div",{staticClass:"spider_form_data_cut"},[i._v("\n                        "+i._s(n.cutName)+"\n                        "),n.btnTitle?r("a",{staticClass:"cut_handle",on:{click:n.btnFuntion}},[i._v(i._s(n.btnTitle))]):i._e()])]):r("el-form-item",{class:Object.assign({},{rowOrColumnInput:n.rowOrColumn},n.classList),attrs:{prop:n.name,label:n.label&&n.label+"：","label-width":n.labelWidth||i.labelWidth}},[r("RadioItem",{attrs:{item:n,formData:i.formData,formType:i.formType,allDisabled:i.allDisabled}}),i._v(" "),r("connectOrExtra",{attrs:{item:n}})],1):r("el-form-item",{class:Object.assign({},{rowOrColumnInput:n.rowOrColumn},n.classList),attrs:{prop:n.name,label:n.label&&n.label+"：","label-width":n.labelWidth||i.labelWidth}},[r("el-checkbox-group",{class:{columnCheckbox:n.column},attrs:{disabled:n.disabled},on:{change:function(e){return n.selectFun&&n.selectFun(e)||function(){}}},model:{value:i.formData[n.name],callback:function(e){i.$set(i.formData,n.name,e)},expression:"formData[item.name]"}},i._l(n.data,function(e,t){return r("el-checkbox",{key:t,attrs:{label:e.value||e.itemValue||e.paramValue||e.id}},[i._v(i._s(e.label||e.itemLabel||e.paramName||e.name))])}),1),i._v(" "),r("connectOrExtra",{attrs:{item:n}})],1):r("el-form-item",{class:Object.assign({},{rowOrColumnInput:n.rowOrColumn},n.classList),attrs:{prop:n.name,label:n.label&&n.label+"：","label-width":n.labelWidth||i.labelWidth}},[n.disabled||i.allDisabled?r("div",{domProps:{innerHTML:i._s(i.formData[n.name])}}):r("UE",{ref:"ue",refInFor:!0,attrs:{id:"ue2","form-data":i.formData,"default-msg":i.formData[n.name],uploadUrl:n.uploadUrl,uploadAK:n.uploadAK}}),i._v(" "),r("connectOrExtra",{attrs:{item:n}})],1):r("el-form-item",{class:Object.assign({},{rowOrColumnInput:n.rowOrColumn},n.classList),attrs:{prop:n.name,label:n.label&&n.label+"：","label-width":n.labelWidth||i.labelWidth}},[r("el-switch",{attrs:{disabled:n.disabled,"active-color":n.activeColor||"#409EFF","inactive-color":n.inactiveColor||"#C0CCDA"},model:{value:i.formData[n.name],callback:function(e){i.$set(i.formData,n.name,e)},expression:"formData[item.name]"}}),i._v(" "),r("connectOrExtra",{attrs:{item:n}})],1):r("el-form-item",{class:Object.assign({},{rowOrColumnInput:n.rowOrColumn},n.classList),attrs:{prop:n.name,label:n.label&&n.label+"：","label-width":n.labelWidth||i.labelWidth}},[r("el-input",{style:n.inputStyle||{},attrs:{type:"textarea",placeholder:n.disabled||i.allDisabled?"":n.placehold||i.formType[n.type]+n.label,disabled:n.disabled,maxlength:n.maxLength,minlength:n.minLength,autosize:n.autosize||(n.disabled||i.allDisabled?{minRows:1,maxRows:10}:{minRows:2,maxRows:10})},model:{value:i.formData[n.name],callback:function(e){i.$set(i.formData,n.name,e)},expression:"formData[item.name]"}}),i._v(" "),r("connectOrExtra",{attrs:{item:n}})],1):r("el-form-item",{class:Object.assign({},{rowOrColumnInput:n.rowOrColumn},n.classList),attrs:{prop:n.name,label:n.label&&n.label+"：","label-width":n.labelWidth||i.labelWidth}},[r("el-date-picker",{style:n.inputStyle||{},attrs:{type:n.dateType||"datetime",format:n.format||"yyyy-MM-dd HH:mm:ss","value-format":n.format||"yyyy-MM-dd HH:mm:ss",placeholder:n.disabled||i.allDisabled?"":n.placehold||i.formType[n.type]+n.label,"start-placeholder":n.disabled||i.allDisabled?"":n.placehold||i.formType[n.type]+n.label,"end-placeholder":n.disabled||i.allDisabled?"":n.placehold||i.formType[n.type]+n.label,disabled:n.disabled},model:{value:i.formData[n.name],callback:function(e){i.$set(i.formData,n.name,e)},expression:"formData[item.name]"}}),i._v(" "),r("connectOrExtra",{attrs:{item:n}})],1):r("el-form-item",{class:Object.assign({},{rowOrColumnInput:n.rowOrColumn},n.classList),style:Object.assign({},n.inputStyle,{width:i.twoDateStyle(n.inputStyle,n.labelWidth||i.labelWidth)}),attrs:{prop:n.name,label:n.label&&n.label+"：","label-width":n.labelWidth||i.labelWidth}},[r("TwoDate",{attrs:{item:n,formData:i.formData,formType:i.formType,allDisabled:i.allDisabled}}),i._v(" "),r("connectOrExtra",{attrs:{item:n}})],1):r("el-form-item",{class:Object.assign({},{rowOrColumnInput:n.rowOrColumn},n.classList),attrs:{prop:n.name,label:n.label&&n.label+"：","label-width":n.labelWidth||i.labelWidth}},[r("SelectItem",{attrs:{item:n,formData:i.formData,formType:i.formType,allDisabled:i.allDisabled}}),i._v(" "),r("connectOrExtra",{attrs:{item:n}})],1):r("el-form-item",{class:Object.assign({},{rowOrColumnInput:n.rowOrColumn},n.classList),attrs:{prop:n.name,label:n.label&&n.label+"：","label-width":n.labelWidth||i.labelWidth}},[r("Cascader",{attrs:{item:n,formData:i.formData,formType:i.formType,allDisabled:i.allDisabled}}),i._v(" "),r("connectOrExtra",{attrs:{item:n}})],1)],1)}),i._v(" "),0<i.buttons.length||i.cancelBtn||i.saveBtn?r("el-col",{attrs:{span:i.searchSpan}},[r("el-form-item",{class:{elbtnStyle:!0,bottomFixed:i.bottomFixed},attrs:{"label-width":24!==i.searchSpan?"0px":i.labelWidth}},[i.cancelBtn?r("el-button",{on:{click:function(e){return i.onCancel("form")}}},[i._v(i._s(i.cancelBtnText))]):i._e(),i._v(" "),i.saveBtn?r("el-button",{attrs:{type:"primary"},on:{click:function(e){return i.onSubmit("form")}}},[i._v(i._s(i.saveBtnText))]):i._e(),i._v(" "),i._l(i.buttons,function(e,t){return r("div",{key:e.name,class:{restBtngather:!0}},[e.hidden?i._e():r("el-button",{class:{restBtn:0===t},attrs:{disabled:!!e.disabled,type:e.type||"primary",size:i.searchFooterMar?"small":"medium"},on:{click:function(){i.validateFun("form",e.onclick,e.validate,e.loading)}}},[i._v(i._s(e.name))])],1)})],2)],1):i._e()],2)],1)])},[],!1,function(e){n(17)},null,null).exports;var S=i({name:"SearchItem",components:{FormItem:E},props:{formSearchItems:{type:Array,required:!0},searchParams:{type:Object,required:!0},restButtons:{type:Array,default:function(){return[]}},filterBtn:{type:Array,default:function(){return[]}},tableState:{type:String,default:""},title:{type:String,default:""},formWidth:{type:String,default:""}},data:function(){return{}},computed:{searchSpan:function(){var e=2;return 700<=parseFloat(this.formWidth)?e=2:480<parseFloat(this.formWidth)?e=3:parseFloat(this.formWidth)<=480&&(e=4),e},dropbtnButtons:function(){return this.restButtons.filter(function(e){return"dropbtn"===e.btnType&&!e.hidden})},dropbtnCount:function(){var t=0;this.dropbtnButtons.map(function(e){return t+=e.name.length});var e=t-2*this.dropbtnButtons.length;return 0<e?e:0},groupbtnButtons:function(){return this.restButtons.filter(function(e){return"groupbtn"===e.btnType&&!e.hidden})},groupbtnCount:function(){var t=0;this.groupbtnButtons.map(function(e){return t+=e.name.length});var e=t-2*this.groupbtnButtons.length;return 0<e?e:0},btnButtons:function(){return this.restButtons.filter(function(e){return"btn"===e.btnType&&!e.hidden})},btnCount:function(){var t=0;this.btnButtons.map(function(e){return t+=e.name.length});var e=t-2*this.btnButtons.length;return 0<e?e:0}},methods:{}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tops_search"},[n("div",{class:{spider_form_search:!0,noRestBtnStyle:0===t.restButtons.length}},[t.title?n("div",{class:{padding12Bottom:!0,title:!0}},[t._v("\n            "+t._s(t.title)+"\n        ")]):t._e(),t._v(" "),n("div",{style:{paddingBottom:t.tableState?"0":"12px",height:"32px"}},[n("div",[t.btnButtons.length?n("el-col",{class:{alignRight:!0,btnButton:!0},style:{width:57*t.btnButtons.length+12*t.btnCount+"px"}},t._l(t.btnButtons,function(e){return n("el-button",{key:e.name,style:{color:e.color,width:32+12*e.name.length+"px"},attrs:{size:"small",type:e.type||"primary",disabled:e.disabled},on:{click:e.onclick}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])}),1):t._e(),t._v(" "),t.groupbtnButtons.length?n("el-col",{style:{width:55*t.groupbtnButtons.length+12*t.groupbtnCount+8+1+"px",marginLeft:t.btnButtons.length?"4px":"0px"}},[n("el-button-group",t._l(t.groupbtnButtons,function(e){return n("el-button",{key:e.name,style:{color:e.color,width:32+12*e.name.length+"px"},attrs:{size:"small",type:e.type||"primary",disabled:e.disabled},on:{click:e.onclick}},[t._v("\n                            "+t._s(e.name)+"\n                        ")])}),1)],1):t._e(),t._v(" "),t.dropbtnButtons.length?n("el-col",{style:{width:75*t.dropbtnButtons.length+12*t.dropbtnCount+8+1+"px",marginLeft:t.btnButtons.length||t.groupbtnButtons.length?"4px":"0px"}},t._l(t.dropbtnButtons,function(e){return n("el-dropdown",{key:e.name,attrs:{"split-button":"",type:e.type||"primary",trigger:e.triggerType||"hover"},on:{command:e.dropClick,click:e.onclick}},[t._v("\n                        "+t._s(e.name)+"\n                        "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(e.dropData,function(e){return n("el-dropdown-item",{key:e.value,attrs:{command:e.value}},[t._v(t._s(e.label))])}),1)],1)}),1):t._e()],1),t._v(" "),n("div",{class:{flexEnd:!0}},[n("form-item",{attrs:{"form-data":t.searchParams,"form-items":t.formSearchItems,"save-btn":!1,"cancel-btn":!1,"search-footer-mar":!0,"form-width":t.formWidth,buttons:t.filterBtn,"search-span":t.searchSpan}})],1)])]),t._v(" "),t.tableState?n("p",{staticClass:"label"},[t._v(t._s(t.tableState))]):t._e()])},[],!1,function(e){n(53)},null,null).exports;var T=i({name:"ListPage",components:{SearchItem:S,TableItem:h},props:{noSearch:{type:Boolean,default:!0},formSearchItems:{type:Array,default:function(){return[]}},searchParams:{type:Object,required:!0,default:function(){}},restButtons:{type:Array,default:function(){return[]}},filterBtn:{type:Array,default:function(){return[]}},stripe:{type:Boolean,default:!0},tableData:{type:Array,required:!0},tableTitle:{type:Array,required:!0},searchList:{type:Function,required:!0},tableState:{type:String,default:""},title:{type:String,default:""},formWidth:{type:String,default:""},borderTable:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},mergeSpan:{type:Function,default:function(){}},uniqueSelect:{type:Boolean,default:!1}}},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"listPage"},[e.noSearch?n("search-item",{staticClass:"listPage_search",attrs:{"form-search-items":e.formSearchItems,"search-params":e.searchParams,"rest-buttons":e.restButtons,"filter-btn":e.filterBtn,"table-state":e.tableState,title:e.title,"form-width":e.formWidth}}):e._e(),e._v(" "),n("table-item",{ref:"tableSelect",staticClass:"listPage_table",attrs:{"from-type":"listPage",stripe:e.stripe,"border-table":e.borderTable,"table-data":e.tableData,"table-title":e.tableTitle,"search-params":e.searchParams,"show-header":e.showHeader,"merge-span":e.mergeSpan,"unique-select":!!e.uniqueSelect},on:{searchList:e.searchList}})],1)},[],!1,function(e){n(51)},null,null).exports;var U=i({name:"ModalForm",components:{FormItem:E},props:{title:{type:String,default:""},width:{type:String,default:"600px"},search:{type:Boolean,default:!1},visible:{type:Boolean,default:!1,required:!0},modalBtns:{type:Array,default:function(){return[]}},modalType:{type:String,default:"form"},formDialogItems:{type:Array,default:function(){return[]}},formData:{type:Object,default:function(){}},saveDialogText:{type:String,default:"确定"},annotation:{type:String,default:""},allDisabled:{type:Boolean,default:!1},nobtn:{type:Boolean,default:!1},labelWidth:{type:String,default:"100px"},bottomFixed:{type:Boolean,default:!1}},data:function(){return{bodyScrollHeight:{maxHeight:"0px"},updateCount:0}},updated:function(){this.visible&&this.updateCount<2&&this.getscrollHeight()},mounted:function(){this.getscrollHeight()},created:function(){console.log("-------------------dialog弹窗-------------------------")},methods:{onCancel:function(){this.updateCount=0,this.$emit("onCancel")},saveDialog:function(){var t=this;s("form",500)?"form"===this.modalType&&this.$refs.modalForm.$refs.form.validate(function(e){console.log("form表单校验",e),e&&t.$emit("saveDialog")}):this.$message.warning("操作过于频繁")},getscrollHeight:function(){this.updateCount+=1;var e=this.title,t=this.modalBtns,n=this.nobtn,i=this.allDisabled,r=e?54:0,o=t.length||n||i?20:76,a=document.querySelectorAll("._dialogHeader"),s=document.querySelectorAll("._dialogFooter"),l=r+o+(a[0]&&a[0].offsetHeight||0)+(s[0]&&s[0].offsetHeight||0);if(this.bodyScrollHeight={maxHeight:window.innerHeight-l+"px"},this.title){var d=document.querySelector(".el-dialog__header");d&&(d.style.borderBottom="1px solid #ccc")}}}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{class:{isDialog:!0,isFlagSearch:t.search,el_dialog_myself:!0,noDialogHeader:!t.title,btnFixed:0<t.formDialogItems.length&&"form"===t.modalType},attrs:{title:t.title,visible:t.visible,center:!1,width:t.width,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":t.onCancel},on:{"update:visible":function(e){t.visible=e}}},[n("div",{staticClass:"_dialogHeader"},[t._t("header")],2),t._v(" "),n("div",{staticClass:"bodyScrollHeight",style:[t.bodyScrollHeight||{}]},[t._t("default"),t._v(" "),0<t.formDialogItems.length&&"form"===t.modalType?n("form-item",{ref:"modalForm",attrs:{"form-items":t.formDialogItems,"all-disabled":t.allDisabled,"form-data":t.formData,"label-width":t.labelWidth,"model-form":!0,buttons:t.modalBtns,"from-modal-solid":t.nobtn,annotation:t.annotation,"bottom-fixed":t.bottomFixed}}):t._e()],2),t._v(" "),n("div",{staticClass:"_dialogFooter"},[t._t("footer")],2),t._v(" "),t.modalBtns.length||t.nobtn||t.allDisabled?t._e():n("div",{staticClass:"dialog-footer",style:{marginLeft:t.labelWidth||"100px"},attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.saveDialog}},[t._v(t._s(t.saveDialogText))]),t._v(" "),n("el-button",{on:{click:t.onCancel}},[t._v("取 消")])],1)])},[],!1,function(e){n(55)},null,null).exports;var k=i({name:"Wrapper",props:{menuData:{type:[Array],default:function(){return[]}}},data:function(){return{faMenus:this.menuData}}},function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",{staticClass:"content"},[i("el-row",{staticClass:"content-bar",attrs:{type:"flex"}},[i("el-col",{ref:"menu_bar",staticClass:"menu-bar",attrs:{span:24}},[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{mode:"vertical","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",router:!0}},[n._l(n.faMenus,function(e){return[e.sonMenus&&e.sonMenus.length?[i("el-submenu",{key:e.menuId,attrs:{index:e.menuId}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-menu"}),n._v("\n                                "+n._s(e.menuName)+"\n                            ")]),n._v(" "),n._l(e.sonMenus,function(e,t){return[e.sonMenus&&0<e.sonMenus.length?i("el-submenu",{key:e.menuId,attrs:{index:e.menuId}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-menu"}),n._v("\n                                        "+n._s(e.menuName)+"\n                                    ")]),n._v(" "),i("el-menu-item-group",n._l(e.sonMenus,function(e,t){return i("el-menu-item",{key:t,attrs:{index:e.href}},[n._v(n._s(e.menuName)+"\n                                        ")])}),1)],2):i("el-menu-item",{key:t,attrs:{index:e.href}},[n._v(n._s(e.menuName)+"\n                                ")])]})],2)]:i("el-menu-item",{key:e.menuId,attrs:{index:e.href}},[i("i",{staticClass:"el-icon-menu"}),n._v("\n                        "+n._s(e.menuName)+"\n                     ")])]})],2)],1)],1)],1)},[],!1,function(e){n(57)},null,null).exports;function B(t,e){A.map(function(e){t.component(e.name,e)})}var A=[E,p,T,S,U,h,l,k,r,o];"undefined"!=typeof window&&window.Vue&&(console.log(22222),B(window.Vue));t.default={install:B,Form:E,QRCode:p,ModalForm:U,ListPage:T,SearchItem:S,TableItem:h,Wrapper:k,Upload:l,UE:r,MapItem:o}}],e={},f.m=d,f.c=e,f.d=function(e,t,n){f.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},f.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},f.t=function(t,e){if(1&e&&(t=f(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(f.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)f.d(n,i,function(e){return t[e]}.bind(null,i));return n},f.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return f.d(t,"a",t),t},f.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},f.p="/dist/",f(f.s=59);function f(t){if(e[t])return e[t].exports;var n=e[t]={i:t,l:!1,exports:{}};return d[t].call(n.exports,n,n.exports,f),n.l=!0,n.exports}var d,e});